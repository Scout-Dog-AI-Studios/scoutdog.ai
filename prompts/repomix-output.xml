This file is a merged representation of a subset of the codebase, containing files not matching ignore patterns, combined into a single document by Repomix.

<file_summary>
This section contains a summary of this file.

<purpose>
This file contains a packed representation of the entire repository's contents.
It is designed to be easily consumable by AI systems for analysis, code review,
or other automated processes.
</purpose>

<file_format>
The content is organized as follows:
1. This summary section
2. Repository information
3. Directory structure
4. Repository files (if enabled)
4. Repository files, each consisting of:
  - File path as an attribute
  - Full contents of the file
</file_format>

<usage_guidelines>
- This file should be treated as read-only. Any changes should be made to the
  original repository files, not this packed version.
- When processing this file, use the file path to distinguish
  between different files in the repository.
- Be aware that this file may contain sensitive information. Handle it with
  the same level of security as you would the original repository.
</usage_guidelines>

<notes>
- Some files may have been excluded based on .gitignore rules and Repomix's configuration
- Binary files are not included in this packed representation. Please refer to the Repository Structure section for a complete list of file paths, including binary files
- Files matching these patterns are excluded: **/*.next, **/*node_modules*, apps/frontend/tsconfig.tsbuildinfo, prompts*
- Files matching patterns in .gitignore are excluded
- Files matching default ignore patterns are excluded
- Files are sorted by Git change count (files with more changes are at the bottom)
</notes>

<additional_info>

</additional_info>

</file_summary>

<directory_structure>
apps/
  backend/
    app/
      api/
        v1/
          endpoints/
            __init__.py
            greet.py
            test.py
            upload.py
          __init__.py
          dependencies.py
        __init__.py
      auth/
        __init__.py
        jwt.py
      clients/
        __init__.py
        r2.py
      core/
        __init__.py
        config.py
      db/
        __init__.py
        session.py
      services/
        __init__.py
        greeting.py
        storage.py
      __init__.py
      main.py
    scripts/
      __init__.py
      seed_db.py
    tests/
      unit/
        test_greet.py
        test_jwt.py
        test_main.py
        test_r2.py
        test_session.py
        test_upload.py
      conftest.py
    .env
    .env.example
    Dockerfile
    mypy.ini
    pyproject.toml
    railway.toml
    README.md
  frontend/
    e2e/
      example.spec.ts
    public/
      file.svg
      globe.svg
      next.svg
      vercel.svg
      window.svg
    src/
      app/
        dashboard/
          file-upload-section.test.tsx
          FileUploadSection.tsx
          page.test.tsx
          page.tsx
          protected-dashboard.test.tsx
        globals.css
        layout.tsx
        page.tsx
        providers.tsx
      components/
        AuthButtons.tsx
    .env.example
    .env.local
    eslint.config.mjs
    jest.config.js
    jest.setup.ts
    next-env.d.ts
    next.config.ts
    package.json
    playwright.config.ts
    postcss.config.mjs
    README.md
    tsconfig.json
mockup/
  public/
    placeholder.svg
    robots.txt
  src/
    components/
      ui/
        accordion.tsx
        alert-dialog.tsx
        alert.tsx
        aspect-ratio.tsx
        avatar.tsx
        badge.tsx
        breadcrumb.tsx
        button.tsx
        calendar.tsx
        card.tsx
        carousel.tsx
        chart.tsx
        checkbox.tsx
        collapsible.tsx
        command.tsx
        context-menu.tsx
        dialog.tsx
        drawer.tsx
        dropdown-menu.tsx
        form.tsx
        hover-card.tsx
        input-otp.tsx
        input.tsx
        label.tsx
        menubar.tsx
        navigation-menu.tsx
        pagination.tsx
        popover.tsx
        progress.tsx
        radio-group.tsx
        resizable.tsx
        scroll-area.tsx
        select.tsx
        separator.tsx
        sheet.tsx
        sidebar.tsx
        skeleton.tsx
        slider.tsx
        sonner.tsx
        switch.tsx
        table.tsx
        tabs.tsx
        textarea.tsx
        toast.tsx
        toaster.tsx
        toggle-group.tsx
        toggle.tsx
        tooltip.tsx
        use-toast.ts
      Contact.tsx
      Features.tsx
      Footer.tsx
      Hero.tsx
      Navbar.tsx
      Projects.tsx
    hooks/
      use-mobile.tsx
      use-toast.ts
    lib/
      utils.ts
    pages/
      Index.tsx
      NotFound.tsx
      Projects.tsx
    App.css
    App.tsx
    index.css
    main.tsx
    vite-env.d.ts
  components.json
  eslint.config.js
  index.html
  package.json
  postcss.config.js
  README.md
  tailwind.config.ts
  tsconfig.app.json
  tsconfig.json
  tsconfig.node.json
  vite.config.ts
BACKEND_RULES.md
coverage.md
FRONTEND_RULES.md
INFRA_RULES.md
nixpacks.toml
package.json
pnpm-workspace.yaml
railway.toml
review.md
Taskfile.yml
test-setup Prompts.md
turbo.json
</directory_structure>

<files>
This section contains the contents of the repository's files.

<file path="apps/backend/app/api/v1/endpoints/__init__.py">

</file>

<file path="apps/backend/app/api/v1/endpoints/greet.py">
from fastapi import APIRouter, Depends, HTTPException
from cassandra.cluster import Session  # Import Session for type hinting
from pydantic import BaseModel  # Import BaseModel for response model

# Import dependencies
from app.api.v1.dependencies import get_current_user_token_payload
from app.db.session import get_db_session  # Import DB session dependency

# Import the service function
from app.services.greeting import get_greeting_message

router = APIRouter()


class GreetResponse(BaseModel):
    message: str


@router.get("/greet", response_model=GreetResponse)
async def greet(
    payload=Depends(get_current_user_token_payload),
    session: Session = Depends(get_db_session),
):
    """
    Secured endpoint that returns a greeting from the database.
    Requires a valid JWT token.
    """
    try:
        message = get_greeting_message(session)
        if not message:
            # Fallback message if DB returns no rows or empty string
            return GreetResponse(message="No greeting found")
        return GreetResponse(message=message)
    except Exception as e:
        raise HTTPException(status_code=500, detail=f"Failed to fetch greeting: {e}")
</file>

<file path="apps/backend/app/api/v1/endpoints/test.py">
from fastapi import APIRouter, Depends
from typing import Dict  # For type hinting the payload

# Import the dependency that validates the token
from app.api.v1.dependencies import get_current_user_token_payload

router = APIRouter()


@router.get("/secure-ping", response_model=Dict)  # Specify response model if desired
async def secure_ping(
    # Use Depends to inject the validated payload
    payload: Dict = Depends(get_current_user_token_payload),
):
    """
    A test endpoint that requires a valid JWT token.
    Returns a success message along with the token payload.
    """
    # The code here only runs if get_current_user_token_payload succeeds
    return {"message": "Secure Pong!", "user_payload": payload}
</file>

<file path="apps/backend/app/api/v1/endpoints/upload.py">
from fastapi import APIRouter, Depends, File, UploadFile, HTTPException, status
from pydantic import BaseModel, HttpUrl
import logging

from app.api.v1.dependencies import get_current_user_token_payload
from app.clients.r2 import r2_client_dependency
from app.services.storage import upload_file_to_r2

router = APIRouter()
logger = logging.getLogger(__name__)


class UploadResponse(BaseModel):
    file_url: HttpUrl


@router.post("/upload", response_model=UploadResponse)
async def upload_file(
    file: UploadFile = File(...),
    payload=Depends(get_current_user_token_payload),
    r2_client=Depends(r2_client_dependency),
):
    """
    Secured endpoint to upload a file to Cloudflare R2. Only allows certain image types.
    Returns the public URL of the uploaded file.
    """
    allowed_types = ["image/jpeg", "image/png", "image/gif", "image/webp"]
    MAX_FILE_SIZE = 5 * 1024 * 1024  # 5MB
    if file.content_type not in allowed_types:
        logger.warning(f"Disallowed content type: {file.content_type}")
        raise HTTPException(
            status_code=status.HTTP_422_UNPROCESSABLE_ENTITY,
            detail=f"Content type '{file.content_type}' is not allowed.",
        )
    # Check file size (read into memory, then seek back to 0)
    contents = await file.read()
    if len(contents) > MAX_FILE_SIZE:
        logger.warning(f"File too large: {len(contents)} bytes")
        raise HTTPException(
            status_code=status.HTTP_413_REQUEST_ENTITY_TOO_LARGE,
            detail=f"File size exceeds limit of {MAX_FILE_SIZE // (1024*1024)}MB.",
        )
    await file.seek(0)  # Reset pointer for downstream use
    try:
        public_url = upload_file_to_r2(
            r2_client=r2_client, file=file, allowed_content_types=allowed_types
        )
        logger.info(f"File uploaded successfully. URL: {public_url}")
        return UploadResponse(file_url=public_url)  # type: ignore
    except ValueError as ve:
        logger.error(f"Configuration error during upload: {ve}")
        raise HTTPException(
            status_code=status.HTTP_500_INTERNAL_SERVER_ERROR, detail=str(ve)
        )
    # HTTPException raised by the service will be passed through
</file>

<file path="apps/backend/app/api/v1/__init__.py">

</file>

<file path="apps/backend/app/api/v1/dependencies.py">
from fastapi import Depends, HTTPException, status
from fastapi.security import HTTPBearer, HTTPAuthorizationCredentials
from fastapi import Request
from typing import Dict
from app.auth.jwt import validate_token


class HTTPBearer401(HTTPBearer):
    def __init__(self, *args, **kwargs):
        super().__init__(*args, auto_error=False, **kwargs)

    async def __call__(self, request: Request) -> HTTPAuthorizationCredentials:
        credentials = await super().__call__(request)
        if credentials is None:
            raise HTTPException(
                status_code=status.HTTP_401_UNAUTHORIZED,
                detail="Not authenticated",
                headers={"WWW-Authenticate": "Bearer"},
            )
        return credentials


# Initialize the bearer scheme
auth_scheme = HTTPBearer401()


async def get_current_user_token_payload(
    token: HTTPAuthorizationCredentials = Depends(
        auth_scheme
    ),  # Use Depends with HTTPBearer instance
) -> Dict:
    """
    Dependency that validates the Bearer token and returns the payload.
    Raises HTTPException if validation fails.
    """
    if token is None:
        raise HTTPException(
            status_code=status.HTTP_401_UNAUTHORIZED,
            detail="Not authenticated",
            headers={"WWW-Authenticate": "Bearer"},
        )
    # Validate the token using the function from jwt.py
    payload = await validate_token(token.credentials)
    # You could add checks here e.g., check if user exists in DB based on payload['sub']
    return payload  # Return the validated payload
</file>

<file path="apps/backend/app/api/__init__.py">

</file>

<file path="apps/backend/app/auth/__init__.py">

</file>

<file path="apps/backend/app/auth/jwt.py">
import httpx  # Use httpx for async requests
from fastapi import HTTPException, status
from jose import jwt
from jose.exceptions import JOSEError, ExpiredSignatureError, JWTClaimsError
import logging  # Import logging

from app.core.config import settings

# Configure basic logging
logging.basicConfig(level=logging.INFO)
logger = logging.getLogger(__name__)

# Cache for JWKS
_jwks = None


async def get_jwks():
    """Fetches and caches JWKS from Auth0."""
    global _jwks
    # Basic caching - consider more robust caching later if needed
    if _jwks:
        return _jwks
    try:
        jwks_url = f"https://{settings.AUTH0_DOMAIN}/.well-known/jwks.json"
        async with httpx.AsyncClient() as client:
            response = await client.get(jwks_url)
            response.raise_for_status()  # Raise HTTP errors
            _jwks = response.json()
            logger.info("Successfully fetched JWKS.")
            return _jwks
    except httpx.HTTPStatusError as e:
        logger.error(f"HTTP error fetching JWKS: {e}")
        raise HTTPException(
            status_code=status.HTTP_500_INTERNAL_SERVER_ERROR,
            detail="Could not fetch JWKS from authentication provider.",
        )
    except Exception as e:
        logger.error(f"Error fetching JWKS: {e}")
        raise HTTPException(
            status_code=status.HTTP_500_INTERNAL_SERVER_ERROR,
            detail="Could not fetch JWKS.",
        )


async def validate_token(token: str):
    """Validates the Auth0 JWT token."""
    if not token:
        raise HTTPException(
            status_code=status.HTTP_401_UNAUTHORIZED,
            detail="Authorization token required",
        )

    try:
        jwks = await get_jwks()
        unverified_header = jwt.get_unverified_header(token)
        rsa_key = {}
        for key in jwks["keys"]:
            if key["kid"] == unverified_header["kid"]:
                rsa_key = {
                    "kty": key["kty"],
                    "kid": key["kid"],
                    "use": key["use"],
                    "n": key["n"],
                    "e": key["e"],
                }
                break  # Found the key

        if not rsa_key:
            raise HTTPException(
                status_code=status.HTTP_401_UNAUTHORIZED,
                detail="Unable to find appropriate key",
            )

        payload = jwt.decode(
            token,
            rsa_key,
            algorithms=["RS256"],
            audience=settings.AUTH0_API_AUDIENCE,
            issuer=f"https://{settings.AUTH0_DOMAIN}/",
        )
        return payload

    except ExpiredSignatureError:
        logger.warning("Token validation failed: Expired signature.")
        raise HTTPException(
            status_code=status.HTTP_401_UNAUTHORIZED, detail="Token is expired"
        )
    except JWTClaimsError as e:
        logger.warning(f"Token validation failed: Invalid claims - {e}")
        raise HTTPException(
            status_code=status.HTTP_401_UNAUTHORIZED, detail=f"Invalid claims: {e}"
        )
    except JOSEError as e:
        logger.warning(f"Token validation failed: JOSE error - {e}")
        raise HTTPException(
            status_code=status.HTTP_401_UNAUTHORIZED,
            detail=f"Unable to parse authentication token: {e}",
        )
    except HTTPException:
        raise  # Propagate FastAPI HTTPExceptions as-is
    except Exception as e:
        logger.error(f"An unexpected error occurred during token validation: {e}")
        raise HTTPException(
            status_code=status.HTTP_400_BAD_REQUEST,
            detail=f"Unable to parse authentication token: {e}",
        )
</file>

<file path="apps/backend/app/clients/__init__.py">

</file>

<file path="apps/backend/app/clients/r2.py">
import boto3
from botocore.client import Config
from fastapi import HTTPException, status
import logging

from app.core.config import settings

logger = logging.getLogger(__name__)

# Global variable for the client
_r2_client = None


def get_r2_client():
    """
    Returns a singleton boto3 client configured for Cloudflare R2.
    Raises HTTPException if configuration is missing or client creation fails.
    """
    global _r2_client
    if _r2_client is not None:
        return _r2_client
    # Explicit config validation
    required = [
        settings.R2_ACCESS_KEY_ID,
        settings.R2_SECRET_ACCESS_KEY,
        settings.R2_ACCOUNT_ID,
        settings.R2_BUCKET_NAME,
        settings.R2_ENDPOINT_URL,
    ]
    if not all(required):
        logger.error("Missing one or more required R2 configuration values.")
        raise HTTPException(
            status_code=status.HTTP_500_INTERNAL_SERVER_ERROR,
            detail="Missing one or more required R2 configuration values.",
        )
    try:
        logger.info("Initializing Cloudflare R2 client...")
        _r2_client = boto3.client(
            "s3",
            endpoint_url=settings.R2_ENDPOINT_URL,
            aws_access_key_id=settings.R2_ACCESS_KEY_ID,
            aws_secret_access_key=settings.R2_SECRET_ACCESS_KEY,
            config=Config(signature_version="s3v4"),
            region_name="auto",  # R2 uses 'auto' region
        )
        logger.info("Cloudflare R2 client initialized.")
        return _r2_client
    except Exception as e:
        logger.exception(f"Failed to initialize R2 client: {e}")
        raise HTTPException(
            status_code=status.HTTP_500_INTERNAL_SERVER_ERROR,
            detail=f"Failed to initialize R2 client: {e}",
        )


# Dependency for FastAPI


def r2_client_dependency():
    return get_r2_client()
</file>

<file path="apps/backend/app/core/__init__.py">

</file>

<file path="apps/backend/app/core/config.py">
from pydantic_settings import BaseSettings, SettingsConfigDict


class Settings(BaseSettings):
    # Auth0 Variables
    AUTH0_DOMAIN: str
    AUTH0_API_AUDIENCE: str

    # AstraDB Config
    ASTRA_DB_SECURE_BUNDLE_PATH: str
    ASTRA_DB_CLIENT_ID: str
    ASTRA_DB_CLIENT_SECRET: str
    ASTRA_DB_KEYSPACE: str

    # R2 Cloudflare Variables
    R2_BUCKET_NAME: str
    R2_ACCOUNT_ID: str
    R2_ACCESS_KEY_ID: str
    R2_SECRET_ACCESS_KEY: str
    R2_ENDPOINT_URL: str
    R2_PUBLIC_URL_BASE: str

    # Load from .env file if present
    model_config = SettingsConfigDict(env_file=".env", extra="ignore")


settings = Settings()  # type: ignore
</file>

<file path="apps/backend/app/db/__init__.py">

</file>

<file path="apps/backend/app/db/session.py">
from cassandra.cluster import Cluster, Session
from cassandra.auth import PlainTextAuthProvider
import logging
import os  # Import os to check file path

from app.core.config import settings

logger = logging.getLogger(__name__)

# Global variable to hold the cluster and session
# In more complex apps, consider dependency injection frameworks or context managers
_cluster: Cluster | None = None
_session: Session | None = None


def connect_to_astra():
    """Initializes the connection to AstraDB and sets global session/cluster."""
    global _cluster, _session

    if not os.path.exists(settings.ASTRA_DB_SECURE_BUNDLE_PATH):
        logger.error(
            f"Astra Secure Connect Bundle not found at path: {settings.ASTRA_DB_SECURE_BUNDLE_PATH}"
        )
        raise FileNotFoundError(
            f"Astra Secure Connect Bundle not found at {settings.ASTRA_DB_SECURE_BUNDLE_PATH}"
        )

    cloud_config = {"secure_connect_bundle": settings.ASTRA_DB_SECURE_BUNDLE_PATH}
    auth_provider = PlainTextAuthProvider(
        settings.ASTRA_DB_CLIENT_ID, settings.ASTRA_DB_CLIENT_SECRET
    )

    try:
        logger.info("Attempting to connect to AstraDB...")
        _cluster = Cluster(
            cloud=cloud_config, auth_provider=auth_provider, protocol_version=4
        )
        _session = _cluster.connect(settings.ASTRA_DB_KEYSPACE)
        # Execute a simple query to confirm connection
        row = _session.execute("SELECT release_version FROM system.local").one()
        if row:
            logger.info(
                f"Successfully connected to AstraDB. Cassandra version: {row.release_version}"
            )
        else:
            logger.warning("Connected to AstraDB, but couldn't verify version.")

    except Exception as e:
        logger.exception(f"Failed to connect to AstraDB: {e}")
        # Depending on application requirements, you might want to exit or handle differently
        raise RuntimeError(f"Could not connect to AstraDB: {e}") from e


def close_astra_connection():
    """Closes the AstraDB cluster connection."""
    global _cluster, _session
    if _cluster:
        logger.info("Closing AstraDB connection...")
        _cluster.shutdown()
        _cluster = None
        _session = None
        logger.info("AstraDB connection closed.")


def get_db_session() -> Session:
    """Dependency function to get the initialized AstraDB session."""
    if _session is None:
        # This situation should ideally not happen if lifespan events are used correctly
        logger.error("Database session requested but not initialized.")
        from fastapi import HTTPException

        raise HTTPException(status_code=503, detail="Database not available")
    return _session
</file>

<file path="apps/backend/app/services/__init__.py">

</file>

<file path="apps/backend/app/services/greeting.py">
from cassandra.cluster import Session, ResponseFuture
from cassandra import ConsistencyLevel  # Import Consistency Level
from cassandra.query import SimpleStatement  # Import SimpleStatement
import logging

logger = logging.getLogger(__name__)

# Define consistency level (optional, defaults to LOCAL_ONE or ONE depending on setup)
# Read operations often use LOCAL_QUORUM or QUORUM for consistency
READ_CONSISTENCY = ConsistencyLevel.LOCAL_QUORUM


def get_greeting_message(session: Session) -> str:
    """
    Fetches a greeting message from the 'greetings' table.
    Returns the message or a default string if none found or on error.
    """
    logger.info("Attempting to fetch greeting from database...")
    default_greeting = "Hello from the backend (DB fetch failed)!"
    query = "SELECT message FROM greetings LIMIT 1"  # Simple query for now

    # Prepare statement for better performance and security if parameters were used
    try:
        statement = SimpleStatement(query, consistency_level=READ_CONSISTENCY)
        result_set: ResponseFuture = session.execute_async(
            statement
        )  # Use async execute
        row = result_set.result().one()  # Wait for result and get one row

        if row:
            logger.info("Successfully fetched greeting from DB.")
            return row.message
        else:
            logger.warning("No greeting found in the database.")
            return "Hello from the backend (No greeting in DB)!"

    except Exception as e:
        logger.exception(f"Error fetching greeting from database: {e}")
        # In a real app, you might want to raise a specific exception
        return default_greeting
</file>

<file path="apps/backend/app/services/storage.py">
from typing import Any
from botocore.exceptions import BotoCoreError, ClientError
from fastapi import UploadFile, HTTPException, status
import logging
import uuid  # To generate unique filenames
import os  # To get file extension

from app.core.config import settings

logger = logging.getLogger(__name__)


def upload_file_to_r2(
    r2_client: Any,  # Boto3 client, type as Any for mypy compatibility
    file: UploadFile,
    allowed_content_types: list[str] | None = None,  # Optional validation
) -> str:
    """
    Uploads a file to the configured R2 bucket and returns its public URL.

    Args:
        r2_client: Initialized Boto3 S3 client.
        file: FastAPI UploadFile object.
        allowed_content_types: Optional list of allowed MIME types.

    Returns:
        The public URL of the uploaded file.

    Raises:
        HTTPException: If upload fails or file type is not allowed.
    """
    logger.info(f"Uploading file: {file.filename}")
    if allowed_content_types and file.content_type not in allowed_content_types:
        logger.warning(f"File type {file.content_type} not allowed.")
        raise HTTPException(
            status_code=status.HTTP_400_BAD_REQUEST,
            detail=f"File type {file.content_type} not allowed.",
        )
    try:
        filename = file.filename if file.filename is not None else ""
        ext = os.path.splitext(filename)[1]
        unique_filename = f"{uuid.uuid4()}{ext}"
        file_content = file.file.read()
        r2_client.put_object(
            Bucket=settings.R2_BUCKET_NAME,
            Key=unique_filename,
            Body=file_content,
            ContentType=file.content_type,
        )
        public_url = f"{settings.R2_PUBLIC_URL_BASE}/{unique_filename}"
        logger.info(f"File uploaded successfully: {public_url}")
        return public_url
    except (BotoCoreError, ClientError) as e:
        logger.exception(f"Failed to upload file to R2: {e}")
        raise HTTPException(
            status_code=status.HTTP_502_BAD_GATEWAY,
            detail="Failed to upload file to object storage.",
        )
    except Exception as e:
        logger.exception(f"Unexpected error during file upload: {e}")
        raise HTTPException(
            status_code=status.HTTP_500_INTERNAL_SERVER_ERROR,
            detail="Unexpected error during file upload.",
        )
</file>

<file path="apps/backend/app/__init__.py">

</file>

<file path="apps/backend/app/main.py">
from fastapi import FastAPI
from app.api.v1.endpoints import greet as greet_router_v1
from app.api.v1.endpoints import upload as upload_router_v1
from contextlib import asynccontextmanager
from app.db.session import connect_to_astra, close_astra_connection

# --- CORS Middleware ---
from fastapi.middleware.cors import CORSMiddleware


@asynccontextmanager
async def lifespan(app: FastAPI):
    connect_to_astra()
    yield
    close_astra_connection()


# FastAPI app instance with lifespan event
app = FastAPI(title="Hello World Backend", lifespan=lifespan)


# Root endpoint for basic check
@app.get("/")
async def read_root():
    """Provides a simple health check message."""
    return {"message": "Backend is running!"}


app.add_middleware(
    CORSMiddleware,
    allow_origins=["http://localhost:3000"],  # Or ["*"] for dev, but restrict in prod!
    allow_credentials=True,
    allow_methods=["*"],
    allow_headers=["*"],
)

# Include the API router
# app.include_router(test_router_v1.router, prefix="/api/v1", tags=["v1_test"])
app.include_router(greet_router_v1.router, prefix="/api/v1", tags=["v1_greet"])
app.include_router(upload_router_v1.router, prefix="/api/v1", tags=["v1_upload"])
# We will add more routers and logic later
</file>

<file path="apps/backend/scripts/__init__.py">

</file>

<file path="apps/backend/scripts/seed_db.py">
import sys
import os
from dotenv import load_dotenv
from cassandra.cluster import Cluster
from cassandra.auth import PlainTextAuthProvider
import logging
import uuid

# Load .env from the parent directory (apps/backend/.env)
load_dotenv(dotenv_path=os.path.join(os.path.dirname(__file__), "..", ".env"))
# Add the app directory to the Python path to import config etc.
sys.path.append(os.path.abspath(os.path.join(os.path.dirname(__file__), "..")))

# Try to import settings; handle potential import error if script run standalone
try:
    from app.core.config import settings
except ImportError:
    print(
        "Error: Could not import settings. Make sure PYTHONPATH is set or run via 'poetry run'."
    )
    print(
        "Attempting to load settings from environment variables directly (if needed)..."
    )
    exit(1)

logging.basicConfig(level=logging.INFO)
logger = logging.getLogger(__name__)


def seed_data():
    """Connects to AstraDB and inserts initial data."""
    cluster = None  # Initialize cluster to None
    try:
        logger.info("Seeding script started.")
        bundle_path = settings.ASTRA_DB_SECURE_BUNDLE_PATH
        if not os.path.isabs(bundle_path):
            bundle_path = os.path.abspath(
                os.path.join(os.path.dirname(__file__), "..", bundle_path)
            )
        if not os.path.exists(bundle_path):
            logger.error(
                f"Astra Secure Connect Bundle not found at path: {bundle_path}"
            )
            raise FileNotFoundError(
                f"Astra Secure Connect Bundle not found at {bundle_path}"
            )

        cloud_config = {"secure_connect_bundle": bundle_path}
        auth_provider = PlainTextAuthProvider(
            settings.ASTRA_DB_CLIENT_ID, settings.ASTRA_DB_CLIENT_SECRET
        )
        cluster = Cluster(cloud=cloud_config, auth_provider=auth_provider)
        session = cluster.connect(settings.ASTRA_DB_KEYSPACE)
        logger.info("Connected to AstraDB for seeding.")

        # Prepare insert statement (Parameterized is safer)
        insert_cql = f"INSERT INTO {settings.ASTRA_DB_KEYSPACE}.greetings (id, message) VALUES (?, ?)"
        prepared = session.prepare(insert_cql)
        greetings = [
            "Hello from AstraDB!",
            "Welcome to the Hello World backend!",
            "Database integration successful!",
        ]
        for msg in greetings:
            session.execute(prepared, (uuid.uuid4(), msg))
            logger.info(f"Inserted greeting: {msg}")
        logger.info("Seeding completed successfully.")
    except Exception as e:
        logger.exception(f"Error during seeding: {e}")
    finally:
        if cluster:
            cluster.shutdown()
            logger.info("AstraDB cluster connection closed.")


if __name__ == "__main__":
    seed_data()
</file>

<file path="apps/backend/tests/unit/test_greet.py">
import pytest
from httpx import AsyncClient, ASGITransport
from unittest.mock import patch, MagicMock
from app.main import app


@pytest.mark.asyncio
@patch("app.api.v1.endpoints.greet.get_greeting_message")
async def test_greet_success(mock_get_greeting_message):
    # Arrange: mock dependencies
    from app.api.v1.endpoints import greet as greet_module

    app.dependency_overrides[greet_module.get_current_user_token_payload] = lambda: {
        "sub": "test-user"
    }
    app.dependency_overrides[greet_module.get_db_session] = lambda: MagicMock()
    mock_get_greeting_message.return_value = "Hello from DB!"

    transport = ASGITransport(app=app)
    async with AsyncClient(transport=transport, base_url="http://test") as ac:
        response = await ac.get("/api/v1/greet")
    assert response.status_code == 200
    assert response.json() == {"message": "Hello from DB!"}
    app.dependency_overrides = {}  # Clean up overrides


@pytest.mark.asyncio
@patch("app.api.v1.endpoints.greet.get_greeting_message")
async def test_greet_fallback_message(mock_get_greeting_message):
    """Should return fallback message when DB returns no rows."""
    from app.api.v1.endpoints import greet as greet_module

    app.dependency_overrides[greet_module.get_current_user_token_payload] = lambda: {
        "sub": "test-user"
    }
    app.dependency_overrides[greet_module.get_db_session] = lambda: MagicMock()
    mock_get_greeting_message.return_value = None  # Simulate no rows

    transport = ASGITransport(app=app)
    async with AsyncClient(transport=transport, base_url="http://test") as ac:
        response = await ac.get("/api/v1/greet")
    assert response.status_code == 200
    # Adjust fallback message as per your implementation
    assert response.json()["message"].lower() in [
        "no greeting found",
        "no greeting available",
    ]
    app.dependency_overrides = {}


@pytest.mark.asyncio
@patch("app.api.v1.endpoints.greet.get_greeting_message")
async def test_greet_db_exception(mock_get_greeting_message):
    """Should handle DB exceptions and return appropriate error/log."""
    from app.api.v1.endpoints import greet as greet_module

    app.dependency_overrides[greet_module.get_current_user_token_payload] = lambda: {
        "sub": "test-user"
    }
    app.dependency_overrides[greet_module.get_db_session] = lambda: MagicMock()
    mock_get_greeting_message.side_effect = Exception("DB error")

    transport = ASGITransport(app=app)
    async with AsyncClient(transport=transport, base_url="http://test") as ac:
        response = await ac.get("/api/v1/greet")
    assert response.status_code == 500
    assert "db error" in response.json()["detail"].lower()
    app.dependency_overrides = {}
</file>

<file path="apps/backend/tests/unit/test_jwt.py">
import pytest

from fastapi import HTTPException
from jose import jwt as jose_jwt
import asyncio

# Import the function under test
from app.auth.jwt import validate_token


@pytest.mark.asyncio
def test_validate_token_success(monkeypatch):
    """Should validate a correct JWT and return payload."""
    fake_payload = {"sub": "user123", "aud": "test-aud"}
    fake_token = "good.jwt.token"

    async def fake_get_jwks():
        return {
            "keys": [{"kid": "abc", "kty": "RSA", "use": "sig", "n": "n", "e": "e"}]
        }

    def fake_get_unverified_header(token):
        return {"kid": "abc"}

    def fake_decode(token, rsa_key, algorithms, audience, issuer):
        assert token == fake_token
        return fake_payload

    monkeypatch.setattr("app.auth.jwt.get_jwks", fake_get_jwks)
    monkeypatch.setattr(jose_jwt, "get_unverified_header", fake_get_unverified_header)
    monkeypatch.setattr(jose_jwt, "decode", fake_decode)

    result = asyncio.run(validate_token(fake_token))
    assert result == fake_payload


@pytest.mark.asyncio
def test_validate_token_expired(monkeypatch):
    """Should reject expired JWT (ExpiredSignatureError)."""
    from jose.exceptions import ExpiredSignatureError

    fake_token = "expired.jwt.token"

    async def fake_get_jwks():
        return {
            "keys": [{"kid": "abc", "kty": "RSA", "use": "sig", "n": "n", "e": "e"}]
        }

    def fake_get_unverified_header(token):
        return {"kid": "abc"}

    def fake_decode(*args, **kwargs):
        raise ExpiredSignatureError()

    monkeypatch.setattr("app.auth.jwt.get_jwks", fake_get_jwks)
    monkeypatch.setattr(jose_jwt, "get_unverified_header", fake_get_unverified_header)
    monkeypatch.setattr(jose_jwt, "decode", fake_decode)

    with pytest.raises(HTTPException) as exc_info:
        import asyncio

        asyncio.run(validate_token(fake_token))
    assert exc_info.value.status_code == 401
    assert "expired" in str(exc_info.value.detail).lower()


@pytest.mark.asyncio
def test_validate_token_invalid_claims(monkeypatch):
    """Should reject JWT with invalid claims (JWTClaimsError)."""
    from jose.exceptions import JWTClaimsError

    fake_token = "badclaims.jwt.token"

    async def fake_get_jwks():
        return {
            "keys": [{"kid": "abc", "kty": "RSA", "use": "sig", "n": "n", "e": "e"}]
        }

    def fake_get_unverified_header(token):
        return {"kid": "abc"}

    def fake_decode(*args, **kwargs):
        raise JWTClaimsError("audience mismatch")

    monkeypatch.setattr("app.auth.jwt.get_jwks", fake_get_jwks)
    monkeypatch.setattr(jose_jwt, "get_unverified_header", fake_get_unverified_header)
    monkeypatch.setattr(jose_jwt, "decode", fake_decode)

    with pytest.raises(HTTPException) as exc_info:
        import asyncio

        asyncio.run(validate_token(fake_token))
    assert exc_info.value.status_code == 401
    assert "claims" in str(exc_info.value.detail).lower()


@pytest.mark.asyncio
def test_validate_token_bad_signature(monkeypatch):
    """Should reject JWT with bad signature or malformed token (JOSEError)."""
    from jose.exceptions import JOSEError

    fake_token = "bad.jwt.token"

    async def fake_get_jwks():
        return {
            "keys": [{"kid": "abc", "kty": "RSA", "use": "sig", "n": "n", "e": "e"}]
        }

    def fake_get_unverified_header(token):
        return {"kid": "abc"}

    def fake_decode(*args, **kwargs):
        raise JOSEError("Signature verification failed")

    monkeypatch.setattr("app.auth.jwt.get_jwks", fake_get_jwks)
    monkeypatch.setattr(jose_jwt, "get_unverified_header", fake_get_unverified_header)
    monkeypatch.setattr(jose_jwt, "decode", fake_decode)

    with pytest.raises(HTTPException) as exc_info:
        import asyncio

        asyncio.run(validate_token(fake_token))
    assert exc_info.value.status_code == 401
    assert "unable to parse authentication token" in str(exc_info.value.detail).lower()


@pytest.mark.asyncio
def test_validate_token_jwks_fetch_failure(monkeypatch):
    """Should handle JWKS fetch failure gracefully."""
    fake_token = "any.jwt.token"

    async def fake_get_jwks():
        from fastapi import HTTPException, status

        raise HTTPException(
            status_code=status.HTTP_500_INTERNAL_SERVER_ERROR,
            detail="Could not fetch JWKS from authentication provider.",
        )

    monkeypatch.setattr("app.auth.jwt.get_jwks", fake_get_jwks)

    with pytest.raises(HTTPException) as exc_info:
        import asyncio

        asyncio.run(validate_token(fake_token))
    assert exc_info.value.status_code == 500
    assert "jwks" in str(exc_info.value.detail).lower()

    """Should reject JWT with bad signature or malformed token (JOSEError)."""
    from jose.exceptions import JOSEError

    fake_token = "bad.jwt.token"

    async def fake_get_jwks():
        return {
            "keys": [{"kid": "abc", "kty": "RSA", "use": "sig", "n": "n", "e": "e"}]
        }

    def fake_get_unverified_header(token):
        return {"kid": "abc"}

    def fake_decode(*args, **kwargs):
        raise JOSEError("Signature verification failed")

    monkeypatch.setattr("app.auth.jwt.get_jwks", fake_get_jwks)
    monkeypatch.setattr(jose_jwt, "get_unverified_header", fake_get_unverified_header)
    monkeypatch.setattr(jose_jwt, "decode", fake_decode)

    with pytest.raises(HTTPException) as exc_info:
        import asyncio

        asyncio.run(validate_token(fake_token))
    assert exc_info.value.status_code == 401
    assert "unable to parse authentication token" in str(exc_info.value.detail).lower()

    """Should reject JWT with invalid claims (JWTClaimsError)."""
    from jose.exceptions import JWTClaimsError

    fake_token = "badclaims.jwt.token"

    async def fake_get_jwks():
        return {
            "keys": [{"kid": "abc", "kty": "RSA", "use": "sig", "n": "n", "e": "e"}]
        }

    def fake_get_unverified_header(token):
        return {"kid": "abc"}

    def fake_decode(*args, **kwargs):
        raise JWTClaimsError("audience mismatch")

    monkeypatch.setattr("app.auth.jwt.get_jwks", fake_get_jwks)
    monkeypatch.setattr(jose_jwt, "get_unverified_header", fake_get_unverified_header)
    monkeypatch.setattr(jose_jwt, "decode", fake_decode)

    with pytest.raises(HTTPException) as exc_info:
        import asyncio

        asyncio.run(validate_token(fake_token))
    assert exc_info.value.status_code == 401
    assert "claims" in str(exc_info.value.detail).lower()

    """Should reject expired JWT (ExpiredSignatureError)."""
    from jose.exceptions import ExpiredSignatureError

    fake_token = "expired.jwt.token"

    async def fake_get_jwks():
        return {
            "keys": [{"kid": "abc", "kty": "RSA", "use": "sig", "n": "n", "e": "e"}]
        }

    def fake_get_unverified_header(token):
        return {"kid": "abc"}

    def fake_decode(*args, **kwargs):
        raise ExpiredSignatureError()

    monkeypatch.setattr("app.auth.jwt.get_jwks", fake_get_jwks)
    monkeypatch.setattr(jose_jwt, "get_unverified_header", fake_get_unverified_header)
    monkeypatch.setattr(jose_jwt, "decode", fake_decode)

    with pytest.raises(HTTPException) as exc_info:
        import asyncio

        asyncio.run(validate_token(fake_token))
    assert exc_info.value.status_code == 401
    assert "expired" in str(exc_info.value.detail).lower()
</file>

<file path="apps/backend/tests/unit/test_main.py">
import pytest
from httpx import AsyncClient, ASGITransport
from app.main import app


@pytest.mark.asyncio
async def test_read_root():
    transport = ASGITransport(app=app)
    async with AsyncClient(transport=transport, base_url="http://test") as ac:
        response = await ac.get("/")
    assert response.status_code == 200
    assert response.json() == {"message": "Backend is running!"}
</file>

<file path="apps/backend/tests/unit/test_r2.py">
import pytest
from fastapi import HTTPException
from unittest.mock import patch

# Import the function under test
from app.clients import r2


def test_r2_client_initializes_with_good_config(monkeypatch):
    r2._r2_client = None
    """Should initialize R2 client with correct config."""
    # Patch config to provide required values
    monkeypatch.setenv("R2_ACCESS_KEY_ID", "fake-access-key")
    monkeypatch.setenv("R2_SECRET_ACCESS_KEY", "fake-secret-key")
    monkeypatch.setenv("R2_ACCOUNT_ID", "fake-account")
    monkeypatch.setenv("R2_BUCKET_NAME", "fake-bucket")
    monkeypatch.setenv("R2_ENDPOINT_URL", "https://fake-endpoint")

    # Patch boto3 client to avoid real AWS call
    with patch("app.clients.r2.boto3.client") as mock_boto_client:
        mock_boto_client.return_value = "mock-client"
        client = r2.get_r2_client()
        assert client == "mock-client"
        mock_boto_client.assert_called_once()


def test_r2_client_raises_on_bad_config(monkeypatch):
    r2._r2_client = None
    """Should raise HTTPException on bad/missing config."""
    from app.core.config import settings

    # Patch settings attributes to None to simulate missing config
    monkeypatch.setattr(settings, "R2_ACCESS_KEY_ID", None)
    monkeypatch.setattr(settings, "R2_SECRET_ACCESS_KEY", None)
    monkeypatch.setattr(settings, "R2_ACCOUNT_ID", None)
    monkeypatch.setattr(settings, "R2_BUCKET_NAME", None)
    monkeypatch.setattr(settings, "R2_ENDPOINT_URL", None)

    with pytest.raises(HTTPException) as exc_info:
        r2.get_r2_client()
    assert exc_info.value.status_code == 500
    # Accept either 'missing' or 'None' in error message for robustness
    assert ("missing" in str(exc_info.value.detail).lower()) or (
        "none" in str(exc_info.value.detail).lower()
    )


def test_r2_client_singleton(monkeypatch):
    r2._r2_client = None
    """Should return the same client instance (singleton pattern)."""
    monkeypatch.setenv("R2_ACCESS_KEY_ID", "fake-access-key")
    monkeypatch.setenv("R2_SECRET_ACCESS_KEY", "fake-secret-key")
    monkeypatch.setenv("R2_ACCOUNT_ID", "fake-account")
    monkeypatch.setenv("R2_BUCKET_NAME", "fake-bucket")
    monkeypatch.setenv("R2_ENDPOINT_URL", "https://fake-endpoint")

    with patch("app.clients.r2.boto3.client") as mock_boto_client:
        mock_boto_client.return_value = "mock-client"
        client1 = r2.get_r2_client()
        client2 = r2.get_r2_client()
        assert client1 is client2
        mock_boto_client.assert_called_once()
</file>

<file path="apps/backend/tests/unit/test_session.py">
import pytest

from unittest.mock import patch, MagicMock
from app.db import session

import os


def setup_module(module):
    # Reset global state before each test module
    session._cluster = None
    session._session = None


def teardown_module(module):
    session._cluster = None
    session._session = None


def test_connect_to_astra_success(monkeypatch):
    """Should connect to AstraDB with valid config and log version."""
    session._cluster = None
    session._session = None
    # Patch os.path.exists to True
    monkeypatch.setattr(os.path, "exists", lambda path: True)
    # Patch Cluster and session
    mock_cluster = MagicMock()
    mock_session = MagicMock()
    mock_cluster.connect.return_value = mock_session
    mock_session.execute.return_value.one.return_value = MagicMock(
        release_version="4.0.0"
    )
    with patch("app.db.session.Cluster", return_value=mock_cluster) as mock_cls, patch(
        "app.db.session.PlainTextAuthProvider"
    ):
        session.connect_to_astra()
        mock_cls.assert_called_once()
        assert session._session is mock_session
        assert session._cluster is mock_cluster


def test_connect_to_astra_bundle_missing(monkeypatch):
    """Should raise FileNotFoundError if secure bundle is missing."""
    session._cluster = None
    session._session = None
    monkeypatch.setattr(os.path, "exists", lambda path: False)
    with pytest.raises(FileNotFoundError):
        session.connect_to_astra()


def test_connect_to_astra_connection_failure(monkeypatch):
    """Should raise RuntimeError if connection fails."""
    session._cluster = None
    session._session = None
    monkeypatch.setattr(os.path, "exists", lambda path: True)
    with patch("app.db.session.Cluster", side_effect=Exception("fail connect")), patch(
        "app.db.session.PlainTextAuthProvider"
    ):
        with pytest.raises(RuntimeError) as exc_info:
            session.connect_to_astra()
        assert "Could not connect to AstraDB" in str(exc_info.value)


def test_close_astra_connection(monkeypatch):
    """Should close connection cleanly."""
    mock_cluster = MagicMock()
    session._cluster = mock_cluster
    session._session = MagicMock()
    session.close_astra_connection()
    mock_cluster.shutdown.assert_called_once()
    assert session._cluster is None
    assert session._session is None
</file>

<file path="apps/backend/tests/unit/test_upload.py">
import pytest
from httpx import AsyncClient, ASGITransport
from unittest.mock import patch, MagicMock
from app.main import app


@pytest.mark.asyncio
@patch("app.api.v1.endpoints.upload.upload_file_to_r2")
def test_upload_valid_file(mock_upload_file_to_r2, tmp_path):
    from app.api.v1.endpoints import upload as upload_module

    app.dependency_overrides[upload_module.get_current_user_token_payload] = lambda: {
        "sub": "test-user"
    }
    app.dependency_overrides[upload_module.r2_client_dependency] = lambda: MagicMock()
    mock_upload_file_to_r2.return_value = "https://cdn.example.com/file.png"

    # Prepare a fake image file
    file_content = b"fake image data"
    file_name = "test.png"
    files = {"file": (file_name, file_content, "image/png")}

    transport = ASGITransport(app=app)

    async def run():
        async with AsyncClient(transport=transport, base_url="http://test") as ac:
            response = await ac.post("/api/v1/upload", files=files)
        assert response.status_code == 200
        assert response.json() == {"file_url": "https://cdn.example.com/file.png"}
        app.dependency_overrides = {}

    import asyncio

    asyncio.run(run())


@patch("app.api.v1.endpoints.upload.upload_file_to_r2")
def test_upload_storage_error(mock_upload_file_to_r2):
    from app.api.v1.endpoints import upload as upload_module

    app.dependency_overrides[upload_module.get_current_user_token_payload] = lambda: {
        "sub": "test-user"
    }
    app.dependency_overrides[upload_module.r2_client_dependency] = lambda: MagicMock()
    mock_upload_file_to_r2.side_effect = ValueError("storage unavailable")

    file_content = b"fake image data"
    file_name = "test.png"
    files = {"file": (file_name, file_content, "image/png")}

    transport = ASGITransport(app=app)

    async def run():
        async with AsyncClient(transport=transport, base_url="http://test") as ac:
            response = await ac.post("/api/v1/upload", files=files)
        assert response.status_code == 500
        assert "storage unavailable" in response.json()["detail"]
        app.dependency_overrides = {}

    import asyncio

    asyncio.run(run())


@patch("app.api.v1.endpoints.upload.upload_file_to_r2")
def test_upload_requires_jwt(mock_upload_file_to_r2):
    from app.api.v1.endpoints import upload as upload_module

    # Do NOT override get_current_user_token_payload (real dependency runs)
    app.dependency_overrides[upload_module.r2_client_dependency] = lambda: MagicMock()
    mock_upload_file_to_r2.side_effect = AssertionError(
        "Should not be called without JWT"
    )

    file_content = b"fake image data"
    file_name = "test.png"
    files = {"file": (file_name, file_content, "image/png")}

    transport = ASGITransport(app=app)

    async def run():
        async with AsyncClient(transport=transport, base_url="http://test") as ac:
            response = await ac.post("/api/v1/upload", files=files)  # No auth header
        assert response.status_code == 401
        app.dependency_overrides = {}

    import asyncio

    asyncio.run(run())


@patch("app.api.v1.endpoints.upload.upload_file_to_r2")
def test_upload_file_too_large(mock_upload_file_to_r2):
    from app.api.v1.endpoints import upload as upload_module

    app.dependency_overrides[upload_module.get_current_user_token_payload] = lambda: {
        "sub": "test-user"
    }
    app.dependency_overrides[upload_module.r2_client_dependency] = lambda: MagicMock()
    mock_upload_file_to_r2.side_effect = AssertionError(
        "Should not be called if file is too large"
    )

    # Create a file just over 5MB
    file_content = b"0" * (5 * 1024 * 1024 + 1)
    file_name = "big.png"
    files = {"file": (file_name, file_content, "image/png")}

    transport = ASGITransport(app=app)

    async def run():
        async with AsyncClient(transport=transport, base_url="http://test") as ac:
            response = await ac.post("/api/v1/upload", files=files)
        assert response.status_code == 413
        assert "File size exceeds limit" in response.json()["detail"]
        app.dependency_overrides = {}

    import asyncio

    asyncio.run(run())


@patch("app.api.v1.endpoints.upload.upload_file_to_r2")
def test_upload_missing_file(mock_upload_file_to_r2):
    from app.api.v1.endpoints import upload as upload_module

    app.dependency_overrides[upload_module.get_current_user_token_payload] = lambda: {
        "sub": "test-user"
    }
    app.dependency_overrides[upload_module.r2_client_dependency] = lambda: MagicMock()
    mock_upload_file_to_r2.side_effect = AssertionError(
        "Should not be called if no file is provided"
    )

    transport = ASGITransport(app=app)

    async def run():
        async with AsyncClient(transport=transport, base_url="http://test") as ac:
            response = await ac.post("/api/v1/upload", files={})  # No file
        assert response.status_code == 422
        app.dependency_overrides = {}

    import asyncio

    asyncio.run(run())


@patch("app.api.v1.endpoints.upload.upload_file_to_r2")
def test_upload_disallowed_content_type(mock_upload_file_to_r2):
    from app.api.v1.endpoints import upload as upload_module

    app.dependency_overrides[upload_module.get_current_user_token_payload] = lambda: {
        "sub": "test-user"
    }
    app.dependency_overrides[upload_module.r2_client_dependency] = lambda: MagicMock()
    # upload_file_to_r2 should not be called for disallowed types
    mock_upload_file_to_r2.side_effect = AssertionError(
        "Should not be called for disallowed content type"
    )

    file_content = b"not an image"
    file_name = "test.txt"
    files = {"file": (file_name, file_content, "text/plain")}

    transport = ASGITransport(app=app)

    async def run():
        async with AsyncClient(transport=transport, base_url="http://test") as ac:
            response = await ac.post("/api/v1/upload", files=files)
        assert response.status_code == 422  # Unprocessable Entity
        app.dependency_overrides = {}

    import asyncio

    asyncio.run(run())
</file>

<file path="apps/backend/tests/conftest.py">
import pytest
import pytest_asyncio  # Import the asyncio plugin decorator

from httpx import AsyncClient  # Import AsyncClient for async testing
import sys
import os

# Add the 'app' directory to the Python path so modules can be imported
sys.path.insert(0, os.path.abspath(os.path.join(os.path.dirname(__file__), "..")))

# Import the FastAPI app instance from your main application file
# Ensure this import path matches your project structure
from app.main import app as fastapi_app  # Rename to avoid conflict

# Note: Database/External Service setup/mocking fixtures would also go here later


@pytest.fixture(scope="session")  # Use session scope for app instance
def test_app_instance():
    """Yields the FastAPI app instance for testing setup."""
    # Any setup specific to the app instance before yielding can go here
    yield fastapi_app
    # Any teardown after tests run can go here


@pytest_asyncio.fixture(
    scope="function"
)  # Use function scope for client - ensures isolation
async def test_client(test_app_instance):
    """
    Creates an async TestClient instance for making requests to the app.
    Uses function scope for test isolation.
    """
    # Base URL is important for async client
    # Use 'http://testserver' as it's commonly used by TestClient/httpx for testing
    async with AsyncClient(
        app=test_app_instance, base_url="http://testserver"
    ) as client:
        yield client


# Example of a synchronous client fixture if needed (less common for async FastAPI)
# @pytest.fixture(scope="function")
# def sync_test_client(test_app_instance):
#     """Creates a synchronous TestClient instance."""
#     with TestClient(test_app_instance) as client:
#         yield client
</file>

<file path="apps/backend/.env">
# AstraDB Config
ASTRA_DB_SECURE_BUNDLE_PATH=secrets/secure-connect-helloworld-db.zip
ASTRA_DB_CLIENT_ID=HRoJdikpDwcFmSzZLijHpHxv
ASTRA_DB_CLIENT_SECRET=myWrCPUg29i+sCiYp-vHL+FZ9C5fmPuEah--EdP9TPovEtDiX_-oHimlOm1gPIGHFi18s6NZEzyik3dBJpX+sEnpmMLOiEg+yTYLR7HfDJCpfgrr_foMoXJT+dmA88aL
ASTRA_DB_KEYSPACE=helloworld_ks


# R2 Config
R2_ACCESS_KEY_ID=65f495960d0c8627257535b093f354a5
R2_SECRET_ACCESS_KEY=4a975521606a54128545918f3b3f1d4c8481459d046a812872d6e101eec08844
R2_BUCKET_NAME=hello-world
R2_ACCOUNT_ID=b96a3ebde7bfd280f7da2f9a167eb1fd
R2_ENDPOINT_URL=https://b96a3ebde7bfd280f7da2f9a167eb1fd.r2.cloudflarestorage.com/hello-world
R2_PUBLIC_URL_BASE=https://pub-b96a3ebde7bfd280f7da2f9a167eb1fd.r2.dev

# Sentry Config
SENTRY_DSN=YOUR_SENTRY_DSN

# Auth0 Config
AUTH0_DOMAIN=dev-el1z7m7ax8056y6f.us.auth0.com
AUTH0_API_AUDIENCE=https://hello-world-api
</file>

<file path="apps/backend/.env.example">
# AstraDB Config
ASTRA_DB_SECURE_BUNDLE_PATH=secrets/secure-connect-YOUR_DB_NAME.zip # Replace with your actual bundle filename
ASTRA_DB_CLIENT_ID=YOUR_ASTRA_CLIENT_ID
ASTRA_DB_CLIENT_SECRET=YOUR_ASTRA_CLIENT_SECRET
ASTRA_DB_KEYSPACE=helloworld_ks # Replace with your actual keyspace name


# R2 Config
R2_ACCESS_KEY_ID=YOUR_R2_ACCESS_KEY_ID
R2_SECRET_ACCESS_KEY=YOUR_R2_SECRET_ACCESS_KEY
R2_BUCKET_NAME=YOUR_R2_BUCKET_NAME

# Sentry Config
SENTRY_DSN=YOUR_SENTRY_DSN

# General Config
</file>

<file path="apps/backend/Dockerfile">
# Copy the virtual environment with dependencies created by Poetry from the builder stage
# Poetry installs venvs in a specific location, often /root/.cache/pypoetry/virtualenvs/
# We need to find the correct venv path or configure Poetry to create it locally.
# Safer approach: Copy the installed packages directly from site-packages

# Let's configure poetry to create the venv inside the project directory in the builder stage
# Add this config command BEFORE poetry install in the builder stage:
# RUN poetry config virtualenvs.in-project true

# --- Re-run the builder stage with the venv config ---

# Corrected Stage 1 (Builder) with venv config:
    FROM python:3.10-slim as builder

    RUN apt-get update && \
        apt-get install -y --no-install-recommends python3-pip python3-venv git curl && \
        rm -rf /var/lib/apt/lists/*
    
    RUN python3 -m pip install --upgrade pip
    RUN python3 -m pip install pipx
    RUN python3 -m pipx ensurepath
    ENV PATH="/root/.local/bin:$PATH"
    
    RUN pipx install poetry
    
    WORKDIR /app
    COPY pyproject.toml poetry.lock* ./
    
    # Configure Poetry to create the virtual environment inside the project directory
    RUN poetry config virtualenvs.in-project true
    
    # Now install dependencies - this will create a .venv directory in /app
    RUN poetry install --no-root --only main --no-interaction --no-ansi
    
    
    # Corrected Stage 2 (Runtime):
    FROM python:3.10-slim
    
    ENV PYTHONDONTWRITEBYTECODE 1
    ENV PYTHONUNBUFFERED 1
    WORKDIR /app
    
    # Copy the virtual environment created locally by Poetry in the builder stage
    COPY --from=builder /app/.venv /app/.venv
    
    # Copy the application code
    COPY ./app /app/app
    
    # Activate the virtual environment by setting PATH
    ENV PATH="/app/.venv/bin:$PATH"
    
    # Expose the port the app runs on
    EXPOSE 8000
    ENV PORT=8000
    CMD ["bash","-c","uvicorn app.main:app --host 0.0.0.0 --port ${PORT}"]
</file>

<file path="apps/backend/mypy.ini">
[mypy]
ignore_missing_imports = True

[mypy-cassandra.*]
ignore_missing_imports = True

[mypy-boto3.*]
ignore_missing_imports = True

[mypy-botocore.*]
ignore_missing_imports = True

[mypy-boto3-stubs.*]
ignore_missing_imports = True

[mypy-python_jose.*]
ignore_missing_imports = True
</file>

<file path="apps/backend/pyproject.toml">
[tool.poetry]
name = "backend"
package-mode = false
version = "0.1.0"
description = ""
authors = ["Patrick McFadin <pmcfadin@gmail.com>"]
readme = "README.md"

[tool.poetry.dependencies]
python = "^3.10"
fastapi = "^0.115.12"
uvicorn = {extras = ["standard"], version = "^0.34.2"}
pydantic = "^2.11.3"
pydantic-settings = "^2.9.1"
python-dotenv = "^1.1.0"
httpx = "^0.28.1"
python-jose = {extras = ["cryptography"], version = "^3.4.0"}
cassandra-driver = "^3.29.2"
boto3 = "^1.38.2"
python-multipart = "^0.0.20"

[tool.poetry.scripts]
dev = "uvicorn app.main:app --reload --host 0.0.0.0 --port 8000"

[tool.poetry.group.dev.dependencies]
ruff = "^0.11.7"
black = "^25.1.0"
mypy = "^1.15.0"
pytest = "^8.3.5"
pytest-asyncio = "^0.26.0"
httpx = "^0.28.1"
types-python-jose = "^3.4.0.20250224"
boto3-stubs = "^1.38.2"
types-requests = "^2.32.0.20250328"

[tool.pytest.ini_options]
asyncio_mode = "auto"
testpaths = ["tests"]


[build-system]
requires = ["poetry-core"]
build-backend = "poetry.core.masonry.api"
</file>

<file path="apps/backend/railway.toml">
[build]
builder = "dockerfile"

[deploy]
healthcheckPath   = "/"
healthcheckTimeout = 300
restartPolicyType  = "ON_FAILURE"     #  all-caps, underscore removed
restartPolicyMaxRetries = 5 
watchPaths = ["apps/backend/**"]
</file>

<file path="apps/backend/README.md">
# Backend

This is the FastAPI backend for the monorepo. See `pyproject.toml` for dependencies and scripts.
</file>

<file path="apps/frontend/e2e/example.spec.ts">
import { test, expect } from "@playwright/test";

test("homepage has expected title", async ({ page }) => {
  // Navigate to the base URL defined in playwright.config.ts
  await page.goto("/");

  // Expect the page title to contain "Stack Test App" (adjust if your title is different)
  await expect(page).toHaveTitle(/Stack Test App/);

  // Example: Expect the main heading to be visible
  await expect(page.locator("h1").first()).toBeVisible();
});
</file>

<file path="apps/frontend/public/file.svg">
<svg fill="none" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M14.5 13.5V5.41a1 1 0 0 0-.3-.7L9.8.29A1 1 0 0 0 9.08 0H1.5v13.5A2.5 2.5 0 0 0 4 16h8a2.5 2.5 0 0 0 2.5-2.5m-1.5 0v-7H8v-5H3v12a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1M9.5 5V2.12L12.38 5zM5.13 5h-.62v1.25h2.12V5zm-.62 3h7.12v1.25H4.5zm.62 3h-.62v1.25h7.12V11z" clip-rule="evenodd" fill="#666" fill-rule="evenodd"/></svg>
</file>

<file path="apps/frontend/public/globe.svg">
<svg fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><g clip-path="url(#a)"><path fill-rule="evenodd" clip-rule="evenodd" d="M10.27 14.1a6.5 6.5 0 0 0 3.67-3.45q-1.24.21-2.7.34-.31 1.83-.97 3.1M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16m.48-1.52a7 7 0 0 1-.96 0H7.5a4 4 0 0 1-.84-1.32q-.38-.89-.63-2.08a40 40 0 0 0 3.92 0q-.25 1.2-.63 2.08a4 4 0 0 1-.84 1.31zm2.94-4.76q1.66-.15 2.95-.43a7 7 0 0 0 0-2.58q-1.3-.27-2.95-.43a18 18 0 0 1 0 3.44m-1.27-3.54a17 17 0 0 1 0 3.64 39 39 0 0 1-4.3 0 17 17 0 0 1 0-3.64 39 39 0 0 1 4.3 0m1.1-1.17q1.45.13 2.69.34a6.5 6.5 0 0 0-3.67-3.44q.65 1.26.98 3.1M8.48 1.5l.01.02q.41.37.84 1.31.38.89.63 2.08a40 40 0 0 0-3.92 0q.25-1.2.63-2.08a4 4 0 0 1 .85-1.32 7 7 0 0 1 .96 0m-2.75.4a6.5 6.5 0 0 0-3.67 3.44 29 29 0 0 1 2.7-.34q.31-1.83.97-3.1M4.58 6.28q-1.66.16-2.95.43a7 7 0 0 0 0 2.58q1.3.27 2.95.43a18 18 0 0 1 0-3.44m.17 4.71q-1.45-.12-2.69-.34a6.5 6.5 0 0 0 3.67 3.44q-.65-1.27-.98-3.1" fill="#666"/></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h16v16H0z"/></clipPath></defs></svg>
</file>

<file path="apps/frontend/public/next.svg">
<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 394 80"><path fill="#000" d="M262 0h68.5v12.7h-27.2v66.6h-13.6V12.7H262V0ZM149 0v12.7H94v20.4h44.3v12.6H94v21h55v12.6H80.5V0h68.7zm34.3 0h-17.8l63.8 79.4h17.9l-32-39.7 32-39.6h-17.9l-23 28.6-23-28.6zm18.3 56.7-9-11-27.1 33.7h17.8l18.3-22.7z"/><path fill="#000" d="M81 79.3 17 0H0v79.3h13.6V17l50.2 62.3H81Zm252.6-.4c-1 0-1.8-.4-2.5-1s-1.1-1.6-1.1-2.6.3-1.8 1-2.5 1.6-1 2.6-1 1.8.3 2.5 1a3.4 3.4 0 0 1 .6 4.3 3.7 3.7 0 0 1-3 1.8zm23.2-33.5h6v23.3c0 2.1-.4 4-1.3 5.5a9.1 9.1 0 0 1-3.8 3.5c-1.6.8-3.5 1.3-5.7 1.3-2 0-3.7-.4-5.3-1s-2.8-1.8-3.7-3.2c-.9-1.3-1.4-3-1.4-5h6c.1.8.3 1.6.7 2.2s1 1.2 1.6 1.5c.7.4 1.5.5 2.4.5 1 0 1.8-.2 2.4-.6a4 4 0 0 0 1.6-1.8c.3-.8.5-1.8.5-3V45.5zm30.9 9.1a4.4 4.4 0 0 0-2-3.3 7.5 7.5 0 0 0-4.3-1.1c-1.3 0-2.4.2-3.3.5-.9.4-1.6 1-2 1.6a3.5 3.5 0 0 0-.3 4c.3.5.7.9 1.3 1.2l1.8 1 2 .5 3.2.8c1.3.3 2.5.7 3.7 1.2a13 13 0 0 1 3.2 1.8 8.1 8.1 0 0 1 3 6.5c0 2-.5 3.7-1.5 5.1a10 10 0 0 1-4.4 3.5c-1.8.8-4.1 1.2-6.8 1.2-2.6 0-4.9-.4-6.8-1.2-2-.8-3.4-2-4.5-3.5a10 10 0 0 1-1.7-5.6h6a5 5 0 0 0 3.5 4.6c1 .4 2.2.6 3.4.6 1.3 0 2.5-.2 3.5-.6 1-.4 1.8-1 2.4-1.7a4 4 0 0 0 .8-2.4c0-.9-.2-1.6-.7-2.2a11 11 0 0 0-2.1-1.4l-3.2-1-3.8-1c-2.8-.7-5-1.7-6.6-3.2a7.2 7.2 0 0 1-2.4-5.7 8 8 0 0 1 1.7-5 10 10 0 0 1 4.3-3.5c2-.8 4-1.2 6.4-1.2 2.3 0 4.4.4 6.2 1.2 1.8.8 3.2 2 4.3 3.4 1 1.4 1.5 3 1.5 5h-5.8z"/></svg>
</file>

<file path="apps/frontend/public/vercel.svg">
<svg fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1155 1000"><path d="m577.3 0 577.4 1000H0z" fill="#fff"/></svg>
</file>

<file path="apps/frontend/public/window.svg">
<svg fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path fill-rule="evenodd" clip-rule="evenodd" d="M1.5 2.5h13v10a1 1 0 0 1-1 1h-11a1 1 0 0 1-1-1zM0 1h16v11.5a2.5 2.5 0 0 1-2.5 2.5h-11A2.5 2.5 0 0 1 0 12.5zm3.75 4.5a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5M7 4.75a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0m1.75.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5" fill="#666"/></svg>
</file>

<file path="apps/frontend/src/app/dashboard/file-upload-section.test.tsx">
import React from "react";
import { render, screen, fireEvent, waitFor } from "@testing-library/react";
import { FileUploadSection } from "./page";

global.fetch = jest.fn();

describe("FileUploadSection", () => {
  const mockGetAccessTokenSilently = jest.fn();
  const file = new File(["dummy content"], "test.png", { type: "image/png" });

  beforeEach(() => {
    jest.clearAllMocks();
  });

  it("allows user to select a file", () => {
    render(
      <FileUploadSection getAccessTokenSilently={mockGetAccessTokenSilently} />,
    );
    const input =
      screen.getByLabelText(/file/i) ||
      screen.getByRole("textbox", { hidden: true });
    fireEvent.change(input, { target: { files: [file] } });
    // Button should now be enabled
    expect(screen.getByRole("button", { name: /upload/i })).not.toBeDisabled();
  });

  it("calls upload API with selected file and JWT", async () => {
    mockGetAccessTokenSilently.mockResolvedValue("fake-token");
    (fetch as jest.Mock).mockResolvedValue({
      ok: true,
      json: async () => ({ file_url: "https://example.com/file.png" }),
    });
    render(
      <FileUploadSection getAccessTokenSilently={mockGetAccessTokenSilently} />,
    );
    const input =
      screen.getByLabelText(/file/i) ||
      screen.getByRole("textbox", { hidden: true });
    fireEvent.change(input, { target: { files: [file] } });
    fireEvent.click(screen.getByRole("button", { name: /upload/i }));
    await waitFor(() => {
      expect(fetch).toHaveBeenCalledWith(
        expect.stringContaining("/api/v1/upload"),
        expect.objectContaining({
          method: "POST",
          headers: expect.objectContaining({
            Authorization: "Bearer fake-token",
          }),
        }),
      );
      expect(screen.getByText(/uploaded!/i)).toBeInTheDocument();
    });
  });

  it("shows loading indicator during upload", async () => {
    mockGetAccessTokenSilently.mockResolvedValue("fake-token");
    (fetch as jest.Mock).mockImplementation(
      () =>
        new Promise((resolve) =>
          setTimeout(
            () =>
              resolve({ ok: true, json: async () => ({ file_url: "url" }) }),
            50,
          ),
        ),
    );
    render(
      <FileUploadSection getAccessTokenSilently={mockGetAccessTokenSilently} />,
    );
    const input =
      screen.getByLabelText(/file/i) ||
      screen.getByRole("textbox", { hidden: true });
    fireEvent.change(input, { target: { files: [file] } });
    fireEvent.click(screen.getByRole("button", { name: /upload/i }));
    expect(screen.getByText(/uploading.../i)).toBeInTheDocument();
    await waitFor(() => {
      expect(screen.getByText(/uploaded!/i)).toBeInTheDocument();
    });
  });

  it("displays error message on upload failure", async () => {
    mockGetAccessTokenSilently.mockResolvedValue("fake-token");
    (fetch as jest.Mock).mockResolvedValue({
      ok: false,
      statusText: "Bad Request",
    });
    render(
      <FileUploadSection getAccessTokenSilently={mockGetAccessTokenSilently} />,
    );
    const input =
      screen.getByLabelText(/file/i) ||
      screen.getByRole("textbox", { hidden: true });
    fireEvent.change(input, { target: { files: [file] } });
    fireEvent.click(screen.getByRole("button", { name: /upload/i }));
    await waitFor(() => {
      expect(screen.getByText(/error: upload failed/i)).toBeInTheDocument();
    });
  });

  it("disables upload button when no file is selected or during upload", async () => {
    render(
      <FileUploadSection getAccessTokenSilently={mockGetAccessTokenSilently} />,
    );
    const button = screen.getByRole("button", { name: /upload/i });
    expect(button).toBeDisabled();
    const input =
      screen.getByLabelText(/file/i) ||
      screen.getByRole("textbox", { hidden: true });
    fireEvent.change(input, { target: { files: [file] } });
    expect(button).not.toBeDisabled();
    mockGetAccessTokenSilently.mockResolvedValue("fake-token");
    (fetch as jest.Mock).mockImplementation(
      () =>
        new Promise((resolve) =>
          setTimeout(
            () =>
              resolve({ ok: true, json: async () => ({ file_url: "url" }) }),
            50,
          ),
        ),
    );
    fireEvent.click(button);
    expect(button).toBeDisabled();
    await waitFor(() => {
      expect(screen.getByText(/uploaded!/i)).toBeInTheDocument();
    });
  });
});
</file>

<file path="apps/frontend/src/app/dashboard/FileUploadSection.tsx">
"use client";
import React, { useState } from "react";

export type FileUploadSectionProps = {
  getAccessTokenSilently: () => Promise<string>;
};

export const FileUploadSection: React.FC<FileUploadSectionProps> = ({
  getAccessTokenSilently,
}) => {
  const [selectedFile, setSelectedFile] = useState<File | null>(null);
  const [uploading, setUploading] = useState(false);
  const [uploadError, setUploadError] = useState<string | null>(null);
  const [uploadedUrl, setUploadedUrl] = useState<string | null>(null);

  const handleFileChange = (e: React.ChangeEvent<HTMLInputElement>) => {
    setSelectedFile(e.target.files?.[0] || null);
    setUploadedUrl(null);
    setUploadError(null);
  };

  const handleUpload = async (e: React.FormEvent) => {
    e.preventDefault();
    if (!selectedFile) return;
    setUploading(true);
    setUploadError(null);
    setUploadedUrl(null);
    try {
      const token = await getAccessTokenSilently();
      const apiUrl = process.env.NEXT_PUBLIC_API_URL || "http://localhost:8000";
      const formData = new FormData();
      formData.append("file", selectedFile);
      const response = await fetch(`${apiUrl}/api/v1/upload`, {
        method: "POST",
        headers: {
          Authorization: `Bearer ${token}`,
        },
        body: formData,
      });
      if (!response.ok) {
        throw new Error(`Upload failed: ${response.statusText}`);
      }
      const data = await response.json();
      setUploadedUrl(data.file_url || null);
    } catch (err) {
      if (err instanceof Error) {
        setUploadError(err.message);
      } else {
        setUploadError("Unknown error");
      }
    } finally {
      setUploading(false);
    }
  };

  return (
    <form onSubmit={handleUpload} className="flex flex-col gap-4">
      <label htmlFor="file-upload-input" className="font-semibold">
        Select File
      </label>
      <input
        id="file-upload-input"
        type="file"
        accept="image/*,application/pdf"
        onChange={handleFileChange}
        className="file-input file-input-bordered"
      />
      <button
        type="submit"
        disabled={!selectedFile || uploading}
        className="btn btn-primary"
      >
        {uploading ? "Uploading..." : "Upload"}
      </button>
      {uploadError && <div className="text-red-600">Error: {uploadError}</div>}
      {uploadedUrl && (
        <div className="text-green-700">
          Uploaded!{" "}
          <a
            href={uploadedUrl}
            target="_blank"
            rel="noopener noreferrer"
            className="underline"
          >
            View file
          </a>
        </div>
      )}
    </form>
  );
};
</file>

<file path="apps/frontend/src/app/dashboard/page.test.tsx">
import React from "react";
import { render, screen, waitFor } from "@testing-library/react";
import DashboardPage from "./page";
import { useAuth0 } from "@auth0/auth0-react";

jest.mock("@auth0/auth0-react");

global.fetch = jest.fn();

describe("DashboardPage", () => {
  const mockUser = { name: "Test User", email: "test@example.com" };
  const mockGetAccessTokenSilently = jest.fn();

  beforeEach(() => {
    jest.clearAllMocks();
    (useAuth0 as jest.Mock).mockReturnValue({
      isAuthenticated: true,
      user: mockUser,
      getAccessTokenSilently: mockGetAccessTokenSilently,
    });
  });

  it("should fetch and display greeting from backend on load", async () => {
    mockGetAccessTokenSilently.mockResolvedValue("fake-token");
    (fetch as jest.Mock).mockResolvedValue({
      ok: true,
      json: async () => ({ message: "Hello from backend!" }),
    });
    render(<DashboardPage />);
    expect(screen.getByText(/Loading greeting/i)).toBeInTheDocument();
    await waitFor(() => {
      expect(screen.getByText("Hello from backend!")).toBeInTheDocument();
    });
  });

  it("should display error message if greeting fetch fails", async () => {
    mockGetAccessTokenSilently.mockResolvedValue("fake-token");
    (fetch as jest.Mock).mockResolvedValue({
      ok: false,
      statusText: "Internal Server Error",
    });
    render(<DashboardPage />);
    await waitFor(() => {
      expect(
        screen.getByText(/Error: Error fetching greeting/i),
      ).toBeInTheDocument();
    });
  });

  it("should show loading indicator while fetching greeting", async () => {
    mockGetAccessTokenSilently.mockResolvedValue("fake-token");
    // Slow fetch to keep loading visible
    (fetch as jest.Mock).mockImplementation(
      () =>
        new Promise((resolve) =>
          setTimeout(
            () => resolve({ ok: true, json: async () => ({ message: "Hi" }) }),
            50,
          ),
        ),
    );
    render(<DashboardPage />);
    expect(screen.getByText(/Loading greeting/i)).toBeInTheDocument();
    await waitFor(() => {
      expect(screen.getByText("Hi")).toBeInTheDocument();
    });
  });
});
</file>

<file path="apps/frontend/src/app/dashboard/page.tsx">
"use client";

import React, { useState, useEffect } from "react";
import { withAuthenticationRequired, useAuth0 } from "@auth0/auth0-react";

function DashboardPage() {
  const [greeting, setGreeting] = useState<string | null>(null);
  const [isLoadingGreeting, setIsLoadingGreeting] = useState<boolean>(true);
  const [greetingError, setGreetingError] = useState<string | null>(null);

  const { getAccessTokenSilently, user } = useAuth0();

  useEffect(() => {
    const fetchGreeting = async () => {
      setIsLoadingGreeting(true);
      setGreetingError(null);
      try {
        const token = await getAccessTokenSilently();
        const apiUrl =
          process.env.NEXT_PUBLIC_API_URL || "http://localhost:8000";
        const response = await fetch(`${apiUrl}/api/v1/greet`, {
          headers: {
            Authorization: `Bearer ${token}`,
          },
        });
        if (!response.ok) {
          throw new Error(`Error fetching greeting: ${response.statusText}`);
        }
        const data = await response.json();
        setGreeting(data.message || "No greeting found.");
      } catch (err) {
        if (err instanceof Error) {
          setGreetingError(err.message);
        } else {
          setGreetingError("Unknown error");
        }
      } finally {
        setIsLoadingGreeting(false);
      }
    };
    fetchGreeting();
    // eslint-disable-next-line react-hooks/exhaustive-deps
  }, []);

  return (
    <main className="flex min-h-screen flex-col items-center justify-between p-24">
      <h1 className="text-4xl font-bold mb-4">Dashboard</h1>
      <p className="text-lg">
        Welcome to your dashboard{user && `, ${user.name || user.email}`}!
      </p>
      <div className="mt-8 w-full max-w-xl">
        <h2 className="text-2xl font-semibold mb-2">Greeting from Backend</h2>
        {isLoadingGreeting ? (
          <div className="text-gray-500">Loading greeting...</div>
        ) : greetingError ? (
          <div className="text-red-600">Error: {greetingError}</div>
        ) : (
          <div className="bg-gray-100 rounded p-4 text-lg">{greeting}</div>
        )}
      </div>

      {/* File Upload Section */}
      <div className="mt-12 w-full max-w-xl">
        <h2 className="text-2xl font-semibold mb-2">Upload a File</h2>
        <FileUploadSection getAccessTokenSilently={getAccessTokenSilently} />
      </div>
    </main>
  );
}

import { FileUploadSection } from "./FileUploadSection";

export default withAuthenticationRequired(DashboardPage, {
  onRedirecting: () => <div>Loading...</div>,
});
</file>

<file path="apps/frontend/src/app/dashboard/protected-dashboard.test.tsx">
import React from "react";
import { render, screen } from "@testing-library/react";
import * as DashboardPageModule from "./page";
const { ProtectedDashboardPage } = DashboardPageModule;
// Debug log
console.log(
  "[DEBUG] DashboardPageModule exports:",
  Object.keys(DashboardPageModule),
);
import { useAuth0 } from "@auth0/auth0-react";

jest.mock("@auth0/auth0-react", () => {
  const actual = jest.requireActual("@auth0/auth0-react");
  return {
    ...actual,
    useAuth0: jest.fn(),
  };
});

describe("ProtectedDashboardPage", () => {
  beforeEach(() => {
    jest.clearAllMocks();
  });

  it("should show loading state when unauthenticated", () => {
    (useAuth0 as jest.Mock).mockReturnValue({
      isAuthenticated: false,
      user: undefined,
      getAccessTokenSilently: jest.fn(),
    });
    render(<ProtectedDashboardPage />);
    expect(screen.getByText(/loading session/i)).toBeInTheDocument();
  });
});
</file>

<file path="apps/frontend/src/app/globals.css">
@import "tailwindcss";

:root {
  --background: #ffffff;
  --foreground: #171717;
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
}

@media (prefers-color-scheme: dark) {
  :root {
    --background: #0a0a0a;
    --foreground: #ededed;
  }
}

body {
  background: var(--background);
  color: var(--foreground);
  font-family: Arial, Helvetica, sans-serif;
}
</file>

<file path="apps/frontend/src/app/layout.tsx">
import type { Metadata } from "next";
import { Geist, Geist_Mono } from "next/font/google";
import "./globals.css";

const geistSans = Geist({
  variable: "--font-geist-sans",
  subsets: ["latin"],
});

const geistMono = Geist_Mono({
  variable: "--font-geist-mono",
  subsets: ["latin"],
});

export const metadata: Metadata = {
  title: "Create Next App",
  description: "Generated by create next app",
};

import Providers from "./providers";
import AuthButtons from "@/components/AuthButtons";

export default function RootLayout({
  children,
}: Readonly<{
  children: React.ReactNode;
}>) {
  return (
    <html lang="en">
      <body
        className={`${geistSans.variable} ${geistMono.variable} antialiased bg-gray-100 text-gray-900`}
      >
        <Providers>
          <header className="bg-white p-4 shadow flex justify-between items-center">
            <span>Site Header</span>
            <AuthButtons />
          </header>
          <main className="p-4">{children}</main>
          <footer className="bg-gray-200 p-4 text-center text-sm">
            Site Footer
          </footer>
        </Providers>
      </body>
    </html>
  );
}
</file>

<file path="apps/frontend/src/app/page.tsx">
import React from "react";

export default function Home() {
  return (
    <div className="container mx-auto text-center py-10">
      <h1 className="text-4xl font-bold mb-4">Welcome to the Stack Test App</h1>
      <p className="text-lg text-gray-700">This is the public landing page.</p>
    </div>
  );
}
</file>

<file path="apps/frontend/src/app/providers.tsx">
"use client"; // This component must be a Client Component

import { Auth0Provider } from "@auth0/auth0-react";
import React from "react";

interface ProvidersProps {
  children: React.ReactNode;
}

export default function Providers({ children }: ProvidersProps) {
  console.log("[Providers] Rendering. Env:", {
    domain: process.env.NEXT_PUBLIC_AUTH0_DOMAIN,
    clientId: process.env.NEXT_PUBLIC_AUTH0_CLIENT_ID,
    audience: process.env.NEXT_PUBLIC_AUTH0_AUDIENCE,
  });
  const domain = process.env.NEXT_PUBLIC_AUTH0_DOMAIN;
  const clientId = process.env.NEXT_PUBLIC_AUTH0_CLIENT_ID;
  const audience = process.env.NEXT_PUBLIC_AUTH0_AUDIENCE; // Get audience

  if (!domain || !clientId) {
    // Optionally render a message or throw an error if config is missing
    return <>{children}</>;
  }

  return (
    <Auth0Provider
      domain={domain}
      clientId={clientId}
      authorizationParams={{
        // Use the audience from environment variables for API access
        audience: audience,
        // Specify the redirect URI, ensuring it matches Auth0 config
        redirect_uri:
          typeof window !== "undefined" ? window.location.origin : undefined,
      }}
    >
      {children}
    </Auth0Provider>
  );
}
</file>

<file path="apps/frontend/src/components/AuthButtons.tsx">
"use client"; // Mark as a Client Component

import { useAuth0 } from "@auth0/auth0-react";
import React from "react";

export default function AuthButtons() {
  console.log("[AuthButtons] Rendering");
  const { isAuthenticated, loginWithRedirect, logout, isLoading } = useAuth0();

  if (isLoading) {
    return <div className="text-sm text-gray-500">Loading...</div>; // Show loading state
  }

  return (
    <div>
      {!isAuthenticated && (
        <button
          onClick={() => loginWithRedirect()}
          className="px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 text-sm"
        >
          Log In
        </button>
      )}
      {isAuthenticated && (
        <button
          onClick={() =>
            logout({ logoutParams: { returnTo: window.location.origin } })
          }
          className="px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 text-sm"
        >
          Log Out
        </button>
      )}
    </div>
  );
}
</file>

<file path="apps/frontend/.env.example">
NEXT_PUBLIC_AUTH0_DOMAIN=YOUR_AUTH0_DOMAIN
NEXT_PUBLIC_AUTH0_CLIENT_ID=YOUR_AUTH0_CLIENT_ID
# Optional: Define API audience if needed for API calls later
NEXT_PUBLIC_AUTH0_AUDIENCE=YOUR_AUTH0_API_AUDIENCE
NEXT_PUBLIC_API_URL=http://localhost:8000
</file>

<file path="apps/frontend/.env.local">
NEXT_PUBLIC_AUTH0_DOMAIN=dev-el1z7m7ax8056y6f.us.auth0.com
NEXT_PUBLIC_AUTH0_CLIENT_ID=GzimI52w0CmsUGWQJn8HaNTU5A6ZtlLC
# Optional: Define API audience if needed for API calls later
NEXT_PUBLIC_AUTH0_AUDIENCE=https://hello-world-api
NEXT_PUBLIC_API_URL=http://localhost:8000
</file>

<file path="apps/frontend/eslint.config.mjs">
import { dirname } from "path";
import { fileURLToPath } from "url";
import { FlatCompat } from "@eslint/eslintrc";

const __filename = fileURLToPath(import.meta.url);
const __dirname = dirname(__filename);

const compat = new FlatCompat({
  baseDirectory: __dirname,
});

const eslintConfig = [
  ...compat.extends("next/core-web-vitals", "next/typescript"),
];

export default eslintConfig;
</file>

<file path="apps/frontend/jest.config.js">
const nextJest = require("next/jest");

// Provide the path to your Next.js app to load next.config.js and .env files
const createJestConfig = nextJest({ dir: "./" });

// Add any custom config to be passed to Jest
/** @type {import('jest').Config} */
const customJestConfig = {
  testPathIgnorePatterns: ["<rootDir>/e2e/", "/node_modules/"],
  // Add more setup options before each test is run
  setupFilesAfterEnv: ["<rootDir>/jest.setup.ts"],

  // Use jsdom as the test environment
  testEnvironment: "jest-environment-jsdom",

  // Module name mapper for handling module aliases (e.g., @/*)
  moduleNameMapper: {
    "^@/(.*)$": "<rootDir>/src/$1",
  },

  // Ignore node_modules, except for specific ones if needed (usually not required with Next.js preset)
  // transformIgnorePatterns: [
  //   '/node_modules/',
  //   '^.+\\.module\\.(css|sass|scss)$',
  // ],

  // Preset for TypeScript Jest execution
  preset: "ts-jest",
};

// createJestConfig is exported this way to ensure that next/jest can load the Next.js config which is async
module.exports = createJestConfig(customJestConfig);
</file>

<file path="apps/frontend/jest.setup.ts">
// Optional: configure or set up a testing framework before each test
// Used for __tests__/testing-library.js
// Learn more: https://github.com/testing-library/jest-dom
import "@testing-library/jest-dom"; // Imports Jest-DOM custom matchers
</file>

<file path="apps/frontend/next-env.d.ts">
/// <reference types="next" />
/// <reference types="next/image-types/global" />

// NOTE: This file should not be edited
// see https://nextjs.org/docs/app/api-reference/config/typescript for more information.
</file>

<file path="apps/frontend/next.config.ts">
import type { NextConfig } from "next";

const nextConfig: NextConfig = {
  /* config options here */
};

export default nextConfig;
</file>

<file path="apps/frontend/package.json">
{
  "name": "frontend",
  "version": "0.1.0",
  "private": true,
  "packageManager": "pnpm@10.9.0",
  "scripts": {
    "dev": "next dev --turbopack",
    "build": "next build",
    "start": "next start",
    "lint": "next lint",
    "typecheck": "tsc --noEmit",
    "format": "prettier --write . --ignore-path ../../.gitignore",
    "clean": "rm -rf .next",
    "test": "jest",
    "test:watch": "jest --watch",
    "test:e2e": "playwright test"
  },
  "dependencies": {
    "@auth0/auth0-react": "^2.3.0",
    "next": "15.3.1",
    "react": "^19.0.0",
    "react-dom": "^19.0.0"
  },
  "devDependencies": {
    "@eslint/eslintrc": "^3",
    "@playwright/test": "^1.52.0",
    "@tailwindcss/postcss": "^4",
    "@testing-library/jest-dom": "^6.6.3",
    "@testing-library/react": "^16.3.0",
    "@types/jest": "^29.5.14",
    "@types/node": "^20",
    "@types/react": "^19",
    "@types/react-dom": "^19",
    "dotenv": "^16.5.0",
    "eslint": "^9",
    "eslint-config-next": "15.3.1",
    "jest": "^29.7.0",
    "jest-environment-jsdom": "^29.7.0",
    "tailwindcss": "^4",
    "ts-jest": "^29.3.2",
    "ts-node": "^10.9.2",
    "typescript": "^5"
  }
}
</file>

<file path="apps/frontend/playwright.config.ts">
import { defineConfig, devices } from "@playwright/test";
import path from "path";
import dotenv from "dotenv";

dotenv.config({ path: path.resolve(__dirname, ".", ".env.local") }); // Load .env.local for base URL

const PORT = process.env.PORT || 3000;
const baseURL = process.env.PLAYWRIGHT_BASE_URL || `http://localhost:${PORT}`;

/**
 * See https://playwright.dev/docs/test-configuration.
 */
export default defineConfig({
  testDir: "./e2e", // Directory where E2E tests will live
  fullyParallel: true,
  forbidOnly: !!process.env.CI,
  retries: process.env.CI ? 2 : 0,
  workers: process.env.CI ? 1 : undefined,
  reporter: "html", // Generates an HTML report
  use: {
    baseURL: baseURL,
    trace: "on-first-retry",
  },
  projects: [
    {
      name: "chromium",
      use: { ...devices["Desktop Chrome"] },
    },
    // {
    //   name: 'firefox',
    //   use: { ...devices['Desktop Firefox'] },
    // },
    // {
    //   name: 'webkit',
    //   use: { ...devices['Desktop Safari'] },
    // },
  ],
  // webServer: {
  //   command: 'pnpm run dev',
  //   url: baseURL,
  //   reuseExistingServer: !process.env.CI,
  //   stdout: 'pipe',
  //   stderr: 'pipe',
  // },
});
</file>

<file path="apps/frontend/postcss.config.mjs">
const config = {
  plugins: ["@tailwindcss/postcss"],
};

export default config;
</file>

<file path="apps/frontend/README.md">
This is a [Next.js](https://nextjs.org) project bootstrapped with [`create-next-app`](https://nextjs.org/docs/app/api-reference/cli/create-next-app).

## Getting Started

First, run the development server:

```bash
npm run dev
# or
yarn dev
# or
pnpm dev
# or
bun dev
```

Open [http://localhost:3000](http://localhost:3000) with your browser to see the result.

You can start editing the page by modifying `app/page.tsx`. The page auto-updates as you edit the file.

This project uses [`next/font`](https://nextjs.org/docs/app/building-your-application/optimizing/fonts) to automatically optimize and load [Geist](https://vercel.com/font), a new font family for Vercel.

## Learn More

To learn more about Next.js, take a look at the following resources:

- [Next.js Documentation](https://nextjs.org/docs) - learn about Next.js features and API.
- [Learn Next.js](https://nextjs.org/learn) - an interactive Next.js tutorial.

You can check out [the Next.js GitHub repository](https://github.com/vercel/next.js) - your feedback and contributions are welcome!

## Deploy on Vercel

The easiest way to deploy your Next.js app is to use the [Vercel Platform](https://vercel.com/new?utm_medium=default-template&filter=next.js&utm_source=create-next-app&utm_campaign=create-next-app-readme) from the creators of Next.js.

Check out our [Next.js deployment documentation](https://nextjs.org/docs/app/building-your-application/deploying) for more details.
</file>

<file path="apps/frontend/tsconfig.json">
{
  "compilerOptions": {
    "target": "ES2017",
    "lib": ["dom", "dom.iterable", "esnext"],
    "allowJs": true,
    "skipLibCheck": true,
    "strict": true,
    "noEmit": true,
    "esModuleInterop": true,
    "module": "esnext",
    "moduleResolution": "bundler",
    "resolveJsonModule": true,
    "isolatedModules": true,
    "jsx": "preserve",
    "incremental": true,
    "plugins": [
      {
        "name": "next"
      }
    ],
    "paths": {
      "@/*": ["./src/*"]
    }
  },
  "include": ["next-env.d.ts", "**/*.ts", "**/*.tsx", ".next/types/**/*.ts"],
  "exclude": ["node_modules"]
}
</file>

<file path="mockup/public/placeholder.svg">
<svg xmlns="http://www.w3.org/2000/svg" width="1200" height="1200" fill="none"><rect width="1200" height="1200" fill="#EAEAEA" rx="3"/><g opacity=".5"><g opacity=".5"><path fill="#FAFAFA" d="M600.709 736.5c-75.454 0-136.621-61.167-136.621-136.62 0-75.454 61.167-136.621 136.621-136.621 75.453 0 136.62 61.167 136.62 136.621 0 75.453-61.167 136.62-136.62 136.62Z"/><path stroke="#C9C9C9" stroke-width="2.418" d="M600.709 736.5c-75.454 0-136.621-61.167-136.621-136.62 0-75.454 61.167-136.621 136.621-136.621 75.453 0 136.62 61.167 136.62 136.621 0 75.453-61.167 136.62-136.62 136.62Z"/></g><path stroke="url(#a)" stroke-width="2.418" d="M0-1.209h553.581" transform="scale(1 -1) rotate(45 1163.11 91.165)"/><path stroke="url(#b)" stroke-width="2.418" d="M404.846 598.671h391.726"/><path stroke="url(#c)" stroke-width="2.418" d="M599.5 795.742V404.017"/><path stroke="url(#d)" stroke-width="2.418" d="m795.717 796.597-391.441-391.44"/><path fill="#fff" d="M600.709 656.704c-31.384 0-56.825-25.441-56.825-56.824 0-31.384 25.441-56.825 56.825-56.825 31.383 0 56.824 25.441 56.824 56.825 0 31.383-25.441 56.824-56.824 56.824Z"/><g clip-path="url(#e)"><path fill="#666" fill-rule="evenodd" d="M616.426 586.58h-31.434v16.176l3.553-3.554.531-.531h9.068l.074-.074 8.463-8.463h2.565l7.18 7.181V586.58Zm-15.715 14.654 3.698 3.699 1.283 1.282-2.565 2.565-1.282-1.283-5.2-5.199h-6.066l-5.514 5.514-.073.073v2.876a2.418 2.418 0 0 0 2.418 2.418h26.598a2.418 2.418 0 0 0 2.418-2.418v-8.317l-8.463-8.463-7.181 7.181-.071.072Zm-19.347 5.442v4.085a6.045 6.045 0 0 0 6.046 6.045h26.598a6.044 6.044 0 0 0 6.045-6.045v-7.108l1.356-1.355-1.282-1.283-.074-.073v-17.989h-38.689v23.43l-.146.146.146.147Z" clip-rule="evenodd"/></g><path stroke="#C9C9C9" stroke-width="2.418" d="M600.709 656.704c-31.384 0-56.825-25.441-56.825-56.824 0-31.384 25.441-56.825 56.825-56.825 31.383 0 56.824 25.441 56.824 56.825 0 31.383-25.441 56.824-56.824 56.824Z"/></g><defs><linearGradient id="a" x1="554.061" x2="-.48" y1=".083" y2=".087" gradientUnits="userSpaceOnUse"><stop stop-color="#C9C9C9" stop-opacity="0"/><stop offset=".208" stop-color="#C9C9C9"/><stop offset=".792" stop-color="#C9C9C9"/><stop offset="1" stop-color="#C9C9C9" stop-opacity="0"/></linearGradient><linearGradient id="b" x1="796.912" x2="404.507" y1="599.963" y2="599.965" gradientUnits="userSpaceOnUse"><stop stop-color="#C9C9C9" stop-opacity="0"/><stop offset=".208" stop-color="#C9C9C9"/><stop offset=".792" stop-color="#C9C9C9"/><stop offset="1" stop-color="#C9C9C9" stop-opacity="0"/></linearGradient><linearGradient id="c" x1="600.792" x2="600.794" y1="403.677" y2="796.082" gradientUnits="userSpaceOnUse"><stop stop-color="#C9C9C9" stop-opacity="0"/><stop offset=".208" stop-color="#C9C9C9"/><stop offset=".792" stop-color="#C9C9C9"/><stop offset="1" stop-color="#C9C9C9" stop-opacity="0"/></linearGradient><linearGradient id="d" x1="404.85" x2="796.972" y1="403.903" y2="796.02" gradientUnits="userSpaceOnUse"><stop stop-color="#C9C9C9" stop-opacity="0"/><stop offset=".208" stop-color="#C9C9C9"/><stop offset=".792" stop-color="#C9C9C9"/><stop offset="1" stop-color="#C9C9C9" stop-opacity="0"/></linearGradient><clipPath id="e"><path fill="#fff" d="M581.364 580.535h38.689v38.689h-38.689z"/></clipPath></defs></svg>
</file>

<file path="mockup/public/robots.txt">
User-agent: Googlebot
Allow: /

User-agent: Bingbot
Allow: /

User-agent: Twitterbot
Allow: /

User-agent: facebookexternalhit
Allow: /

User-agent: *
Allow: /
</file>

<file path="mockup/src/components/ui/accordion.tsx">
import * as React from "react"
import * as AccordionPrimitive from "@radix-ui/react-accordion"
import { ChevronDown } from "lucide-react"

import { cn } from "@/lib/utils"

const Accordion = AccordionPrimitive.Root

const AccordionItem = React.forwardRef<
  React.ElementRef<typeof AccordionPrimitive.Item>,
  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Item>
>(({ className, ...props }, ref) => (
  <AccordionPrimitive.Item
    ref={ref}
    className={cn("border-b", className)}
    {...props}
  />
))
AccordionItem.displayName = "AccordionItem"

const AccordionTrigger = React.forwardRef<
  React.ElementRef<typeof AccordionPrimitive.Trigger>,
  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Trigger>
>(({ className, children, ...props }, ref) => (
  <AccordionPrimitive.Header className="flex">
    <AccordionPrimitive.Trigger
      ref={ref}
      className={cn(
        "flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",
        className
      )}
      {...props}
    >
      {children}
      <ChevronDown className="h-4 w-4 shrink-0 transition-transform duration-200" />
    </AccordionPrimitive.Trigger>
  </AccordionPrimitive.Header>
))
AccordionTrigger.displayName = AccordionPrimitive.Trigger.displayName

const AccordionContent = React.forwardRef<
  React.ElementRef<typeof AccordionPrimitive.Content>,
  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Content>
>(({ className, children, ...props }, ref) => (
  <AccordionPrimitive.Content
    ref={ref}
    className="overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down"
    {...props}
  >
    <div className={cn("pb-4 pt-0", className)}>{children}</div>
  </AccordionPrimitive.Content>
))

AccordionContent.displayName = AccordionPrimitive.Content.displayName

export { Accordion, AccordionItem, AccordionTrigger, AccordionContent }
</file>

<file path="mockup/src/components/ui/alert-dialog.tsx">
import * as React from "react"
import * as AlertDialogPrimitive from "@radix-ui/react-alert-dialog"

import { cn } from "@/lib/utils"
import { buttonVariants } from "@/components/ui/button"

const AlertDialog = AlertDialogPrimitive.Root

const AlertDialogTrigger = AlertDialogPrimitive.Trigger

const AlertDialogPortal = AlertDialogPrimitive.Portal

const AlertDialogOverlay = React.forwardRef<
  React.ElementRef<typeof AlertDialogPrimitive.Overlay>,
  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Overlay>
>(({ className, ...props }, ref) => (
  <AlertDialogPrimitive.Overlay
    className={cn(
      "fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",
      className
    )}
    {...props}
    ref={ref}
  />
))
AlertDialogOverlay.displayName = AlertDialogPrimitive.Overlay.displayName

const AlertDialogContent = React.forwardRef<
  React.ElementRef<typeof AlertDialogPrimitive.Content>,
  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Content>
>(({ className, ...props }, ref) => (
  <AlertDialogPortal>
    <AlertDialogOverlay />
    <AlertDialogPrimitive.Content
      ref={ref}
      className={cn(
        "fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",
        className
      )}
      {...props}
    />
  </AlertDialogPortal>
))
AlertDialogContent.displayName = AlertDialogPrimitive.Content.displayName

const AlertDialogHeader = ({
  className,
  ...props
}: React.HTMLAttributes<HTMLDivElement>) => (
  <div
    className={cn(
      "flex flex-col space-y-2 text-center sm:text-left",
      className
    )}
    {...props}
  />
)
AlertDialogHeader.displayName = "AlertDialogHeader"

const AlertDialogFooter = ({
  className,
  ...props
}: React.HTMLAttributes<HTMLDivElement>) => (
  <div
    className={cn(
      "flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",
      className
    )}
    {...props}
  />
)
AlertDialogFooter.displayName = "AlertDialogFooter"

const AlertDialogTitle = React.forwardRef<
  React.ElementRef<typeof AlertDialogPrimitive.Title>,
  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Title>
>(({ className, ...props }, ref) => (
  <AlertDialogPrimitive.Title
    ref={ref}
    className={cn("text-lg font-semibold", className)}
    {...props}
  />
))
AlertDialogTitle.displayName = AlertDialogPrimitive.Title.displayName

const AlertDialogDescription = React.forwardRef<
  React.ElementRef<typeof AlertDialogPrimitive.Description>,
  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Description>
>(({ className, ...props }, ref) => (
  <AlertDialogPrimitive.Description
    ref={ref}
    className={cn("text-sm text-muted-foreground", className)}
    {...props}
  />
))
AlertDialogDescription.displayName =
  AlertDialogPrimitive.Description.displayName

const AlertDialogAction = React.forwardRef<
  React.ElementRef<typeof AlertDialogPrimitive.Action>,
  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Action>
>(({ className, ...props }, ref) => (
  <AlertDialogPrimitive.Action
    ref={ref}
    className={cn(buttonVariants(), className)}
    {...props}
  />
))
AlertDialogAction.displayName = AlertDialogPrimitive.Action.displayName

const AlertDialogCancel = React.forwardRef<
  React.ElementRef<typeof AlertDialogPrimitive.Cancel>,
  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Cancel>
>(({ className, ...props }, ref) => (
  <AlertDialogPrimitive.Cancel
    ref={ref}
    className={cn(
      buttonVariants({ variant: "outline" }),
      "mt-2 sm:mt-0",
      className
    )}
    {...props}
  />
))
AlertDialogCancel.displayName = AlertDialogPrimitive.Cancel.displayName

export {
  AlertDialog,
  AlertDialogPortal,
  AlertDialogOverlay,
  AlertDialogTrigger,
  AlertDialogContent,
  AlertDialogHeader,
  AlertDialogFooter,
  AlertDialogTitle,
  AlertDialogDescription,
  AlertDialogAction,
  AlertDialogCancel,
}
</file>

<file path="mockup/src/components/ui/alert.tsx">
import * as React from "react"
import { cva, type VariantProps } from "class-variance-authority"

import { cn } from "@/lib/utils"

const alertVariants = cva(
  "relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",
  {
    variants: {
      variant: {
        default: "bg-background text-foreground",
        destructive:
          "border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive",
      },
    },
    defaultVariants: {
      variant: "default",
    },
  }
)

const Alert = React.forwardRef<
  HTMLDivElement,
  React.HTMLAttributes<HTMLDivElement> & VariantProps<typeof alertVariants>
>(({ className, variant, ...props }, ref) => (
  <div
    ref={ref}
    role="alert"
    className={cn(alertVariants({ variant }), className)}
    {...props}
  />
))
Alert.displayName = "Alert"

const AlertTitle = React.forwardRef<
  HTMLParagraphElement,
  React.HTMLAttributes<HTMLHeadingElement>
>(({ className, ...props }, ref) => (
  <h5
    ref={ref}
    className={cn("mb-1 font-medium leading-none tracking-tight", className)}
    {...props}
  />
))
AlertTitle.displayName = "AlertTitle"

const AlertDescription = React.forwardRef<
  HTMLParagraphElement,
  React.HTMLAttributes<HTMLParagraphElement>
>(({ className, ...props }, ref) => (
  <div
    ref={ref}
    className={cn("text-sm [&_p]:leading-relaxed", className)}
    {...props}
  />
))
AlertDescription.displayName = "AlertDescription"

export { Alert, AlertTitle, AlertDescription }
</file>

<file path="mockup/src/components/ui/aspect-ratio.tsx">
import * as AspectRatioPrimitive from "@radix-ui/react-aspect-ratio"

const AspectRatio = AspectRatioPrimitive.Root

export { AspectRatio }
</file>

<file path="mockup/src/components/ui/avatar.tsx">
import * as React from "react"
import * as AvatarPrimitive from "@radix-ui/react-avatar"

import { cn } from "@/lib/utils"

const Avatar = React.forwardRef<
  React.ElementRef<typeof AvatarPrimitive.Root>,
  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Root>
>(({ className, ...props }, ref) => (
  <AvatarPrimitive.Root
    ref={ref}
    className={cn(
      "relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",
      className
    )}
    {...props}
  />
))
Avatar.displayName = AvatarPrimitive.Root.displayName

const AvatarImage = React.forwardRef<
  React.ElementRef<typeof AvatarPrimitive.Image>,
  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Image>
>(({ className, ...props }, ref) => (
  <AvatarPrimitive.Image
    ref={ref}
    className={cn("aspect-square h-full w-full", className)}
    {...props}
  />
))
AvatarImage.displayName = AvatarPrimitive.Image.displayName

const AvatarFallback = React.forwardRef<
  React.ElementRef<typeof AvatarPrimitive.Fallback>,
  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Fallback>
>(({ className, ...props }, ref) => (
  <AvatarPrimitive.Fallback
    ref={ref}
    className={cn(
      "flex h-full w-full items-center justify-center rounded-full bg-muted",
      className
    )}
    {...props}
  />
))
AvatarFallback.displayName = AvatarPrimitive.Fallback.displayName

export { Avatar, AvatarImage, AvatarFallback }
</file>

<file path="mockup/src/components/ui/badge.tsx">
import * as React from "react"
import { cva, type VariantProps } from "class-variance-authority"

import { cn } from "@/lib/utils"

const badgeVariants = cva(
  "inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",
  {
    variants: {
      variant: {
        default:
          "border-transparent bg-primary text-primary-foreground hover:bg-primary/80",
        secondary:
          "border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",
        destructive:
          "border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",
        outline: "text-foreground",
      },
    },
    defaultVariants: {
      variant: "default",
    },
  }
)

export interface BadgeProps
  extends React.HTMLAttributes<HTMLDivElement>,
    VariantProps<typeof badgeVariants> {}

function Badge({ className, variant, ...props }: BadgeProps) {
  return (
    <div className={cn(badgeVariants({ variant }), className)} {...props} />
  )
}

export { Badge, badgeVariants }
</file>

<file path="mockup/src/components/ui/breadcrumb.tsx">
import * as React from "react"
import { Slot } from "@radix-ui/react-slot"
import { ChevronRight, MoreHorizontal } from "lucide-react"

import { cn } from "@/lib/utils"

const Breadcrumb = React.forwardRef<
  HTMLElement,
  React.ComponentPropsWithoutRef<"nav"> & {
    separator?: React.ReactNode
  }
>(({ ...props }, ref) => <nav ref={ref} aria-label="breadcrumb" {...props} />)
Breadcrumb.displayName = "Breadcrumb"

const BreadcrumbList = React.forwardRef<
  HTMLOListElement,
  React.ComponentPropsWithoutRef<"ol">
>(({ className, ...props }, ref) => (
  <ol
    ref={ref}
    className={cn(
      "flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5",
      className
    )}
    {...props}
  />
))
BreadcrumbList.displayName = "BreadcrumbList"

const BreadcrumbItem = React.forwardRef<
  HTMLLIElement,
  React.ComponentPropsWithoutRef<"li">
>(({ className, ...props }, ref) => (
  <li
    ref={ref}
    className={cn("inline-flex items-center gap-1.5", className)}
    {...props}
  />
))
BreadcrumbItem.displayName = "BreadcrumbItem"

const BreadcrumbLink = React.forwardRef<
  HTMLAnchorElement,
  React.ComponentPropsWithoutRef<"a"> & {
    asChild?: boolean
  }
>(({ asChild, className, ...props }, ref) => {
  const Comp = asChild ? Slot : "a"

  return (
    <Comp
      ref={ref}
      className={cn("transition-colors hover:text-foreground", className)}
      {...props}
    />
  )
})
BreadcrumbLink.displayName = "BreadcrumbLink"

const BreadcrumbPage = React.forwardRef<
  HTMLSpanElement,
  React.ComponentPropsWithoutRef<"span">
>(({ className, ...props }, ref) => (
  <span
    ref={ref}
    role="link"
    aria-disabled="true"
    aria-current="page"
    className={cn("font-normal text-foreground", className)}
    {...props}
  />
))
BreadcrumbPage.displayName = "BreadcrumbPage"

const BreadcrumbSeparator = ({
  children,
  className,
  ...props
}: React.ComponentProps<"li">) => (
  <li
    role="presentation"
    aria-hidden="true"
    className={cn("[&>svg]:size-3.5", className)}
    {...props}
  >
    {children ?? <ChevronRight />}
  </li>
)
BreadcrumbSeparator.displayName = "BreadcrumbSeparator"

const BreadcrumbEllipsis = ({
  className,
  ...props
}: React.ComponentProps<"span">) => (
  <span
    role="presentation"
    aria-hidden="true"
    className={cn("flex h-9 w-9 items-center justify-center", className)}
    {...props}
  >
    <MoreHorizontal className="h-4 w-4" />
    <span className="sr-only">More</span>
  </span>
)
BreadcrumbEllipsis.displayName = "BreadcrumbElipssis"

export {
  Breadcrumb,
  BreadcrumbList,
  BreadcrumbItem,
  BreadcrumbLink,
  BreadcrumbPage,
  BreadcrumbSeparator,
  BreadcrumbEllipsis,
}
</file>

<file path="mockup/src/components/ui/button.tsx">
import * as React from "react"
import { Slot } from "@radix-ui/react-slot"
import { cva, type VariantProps } from "class-variance-authority"

import { cn } from "@/lib/utils"

const buttonVariants = cva(
  "inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",
  {
    variants: {
      variant: {
        default: "bg-primary text-primary-foreground hover:bg-primary/90",
        destructive:
          "bg-destructive text-destructive-foreground hover:bg-destructive/90",
        outline:
          "border border-input bg-background hover:bg-accent hover:text-accent-foreground",
        secondary:
          "bg-secondary text-secondary-foreground hover:bg-secondary/80",
        ghost: "hover:bg-accent hover:text-accent-foreground",
        link: "text-primary underline-offset-4 hover:underline",
      },
      size: {
        default: "h-10 px-4 py-2",
        sm: "h-9 rounded-md px-3",
        lg: "h-11 rounded-md px-8",
        icon: "h-10 w-10",
      },
    },
    defaultVariants: {
      variant: "default",
      size: "default",
    },
  }
)

export interface ButtonProps
  extends React.ButtonHTMLAttributes<HTMLButtonElement>,
    VariantProps<typeof buttonVariants> {
  asChild?: boolean
}

const Button = React.forwardRef<HTMLButtonElement, ButtonProps>(
  ({ className, variant, size, asChild = false, ...props }, ref) => {
    const Comp = asChild ? Slot : "button"
    return (
      <Comp
        className={cn(buttonVariants({ variant, size, className }))}
        ref={ref}
        {...props}
      />
    )
  }
)
Button.displayName = "Button"

export { Button, buttonVariants }
</file>

<file path="mockup/src/components/ui/calendar.tsx">
import * as React from "react";
import { ChevronLeft, ChevronRight } from "lucide-react";
import { DayPicker } from "react-day-picker";

import { cn } from "@/lib/utils";
import { buttonVariants } from "@/components/ui/button";

export type CalendarProps = React.ComponentProps<typeof DayPicker>;

function Calendar({
  className,
  classNames,
  showOutsideDays = true,
  ...props
}: CalendarProps) {
  return (
    <DayPicker
      showOutsideDays={showOutsideDays}
      className={cn("p-3", className)}
      classNames={{
        months: "flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",
        month: "space-y-4",
        caption: "flex justify-center pt-1 relative items-center",
        caption_label: "text-sm font-medium",
        nav: "space-x-1 flex items-center",
        nav_button: cn(
          buttonVariants({ variant: "outline" }),
          "h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"
        ),
        nav_button_previous: "absolute left-1",
        nav_button_next: "absolute right-1",
        table: "w-full border-collapse space-y-1",
        head_row: "flex",
        head_cell:
          "text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",
        row: "flex w-full mt-2",
        cell: "h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",
        day: cn(
          buttonVariants({ variant: "ghost" }),
          "h-9 w-9 p-0 font-normal aria-selected:opacity-100"
        ),
        day_range_end: "day-range-end",
        day_selected:
          "bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",
        day_today: "bg-accent text-accent-foreground",
        day_outside:
          "day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",
        day_disabled: "text-muted-foreground opacity-50",
        day_range_middle:
          "aria-selected:bg-accent aria-selected:text-accent-foreground",
        day_hidden: "invisible",
        ...classNames,
      }}
      components={{
        IconLeft: ({ ..._props }) => <ChevronLeft className="h-4 w-4" />,
        IconRight: ({ ..._props }) => <ChevronRight className="h-4 w-4" />,
      }}
      {...props}
    />
  );
}
Calendar.displayName = "Calendar";

export { Calendar };
</file>

<file path="mockup/src/components/ui/card.tsx">
import * as React from "react"

import { cn } from "@/lib/utils"

const Card = React.forwardRef<
  HTMLDivElement,
  React.HTMLAttributes<HTMLDivElement>
>(({ className, ...props }, ref) => (
  <div
    ref={ref}
    className={cn(
      "rounded-lg border bg-card text-card-foreground shadow-sm",
      className
    )}
    {...props}
  />
))
Card.displayName = "Card"

const CardHeader = React.forwardRef<
  HTMLDivElement,
  React.HTMLAttributes<HTMLDivElement>
>(({ className, ...props }, ref) => (
  <div
    ref={ref}
    className={cn("flex flex-col space-y-1.5 p-6", className)}
    {...props}
  />
))
CardHeader.displayName = "CardHeader"

const CardTitle = React.forwardRef<
  HTMLParagraphElement,
  React.HTMLAttributes<HTMLHeadingElement>
>(({ className, ...props }, ref) => (
  <h3
    ref={ref}
    className={cn(
      "text-2xl font-semibold leading-none tracking-tight",
      className
    )}
    {...props}
  />
))
CardTitle.displayName = "CardTitle"

const CardDescription = React.forwardRef<
  HTMLParagraphElement,
  React.HTMLAttributes<HTMLParagraphElement>
>(({ className, ...props }, ref) => (
  <p
    ref={ref}
    className={cn("text-sm text-muted-foreground", className)}
    {...props}
  />
))
CardDescription.displayName = "CardDescription"

const CardContent = React.forwardRef<
  HTMLDivElement,
  React.HTMLAttributes<HTMLDivElement>
>(({ className, ...props }, ref) => (
  <div ref={ref} className={cn("p-6 pt-0", className)} {...props} />
))
CardContent.displayName = "CardContent"

const CardFooter = React.forwardRef<
  HTMLDivElement,
  React.HTMLAttributes<HTMLDivElement>
>(({ className, ...props }, ref) => (
  <div
    ref={ref}
    className={cn("flex items-center p-6 pt-0", className)}
    {...props}
  />
))
CardFooter.displayName = "CardFooter"

export { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }
</file>

<file path="mockup/src/components/ui/carousel.tsx">
import * as React from "react"
import useEmblaCarousel, {
  type UseEmblaCarouselType,
} from "embla-carousel-react"
import { ArrowLeft, ArrowRight } from "lucide-react"

import { cn } from "@/lib/utils"
import { Button } from "@/components/ui/button"

type CarouselApi = UseEmblaCarouselType[1]
type UseCarouselParameters = Parameters<typeof useEmblaCarousel>
type CarouselOptions = UseCarouselParameters[0]
type CarouselPlugin = UseCarouselParameters[1]

type CarouselProps = {
  opts?: CarouselOptions
  plugins?: CarouselPlugin
  orientation?: "horizontal" | "vertical"
  setApi?: (api: CarouselApi) => void
}

type CarouselContextProps = {
  carouselRef: ReturnType<typeof useEmblaCarousel>[0]
  api: ReturnType<typeof useEmblaCarousel>[1]
  scrollPrev: () => void
  scrollNext: () => void
  canScrollPrev: boolean
  canScrollNext: boolean
} & CarouselProps

const CarouselContext = React.createContext<CarouselContextProps | null>(null)

function useCarousel() {
  const context = React.useContext(CarouselContext)

  if (!context) {
    throw new Error("useCarousel must be used within a <Carousel />")
  }

  return context
}

const Carousel = React.forwardRef<
  HTMLDivElement,
  React.HTMLAttributes<HTMLDivElement> & CarouselProps
>(
  (
    {
      orientation = "horizontal",
      opts,
      setApi,
      plugins,
      className,
      children,
      ...props
    },
    ref
  ) => {
    const [carouselRef, api] = useEmblaCarousel(
      {
        ...opts,
        axis: orientation === "horizontal" ? "x" : "y",
      },
      plugins
    )
    const [canScrollPrev, setCanScrollPrev] = React.useState(false)
    const [canScrollNext, setCanScrollNext] = React.useState(false)

    const onSelect = React.useCallback((api: CarouselApi) => {
      if (!api) {
        return
      }

      setCanScrollPrev(api.canScrollPrev())
      setCanScrollNext(api.canScrollNext())
    }, [])

    const scrollPrev = React.useCallback(() => {
      api?.scrollPrev()
    }, [api])

    const scrollNext = React.useCallback(() => {
      api?.scrollNext()
    }, [api])

    const handleKeyDown = React.useCallback(
      (event: React.KeyboardEvent<HTMLDivElement>) => {
        if (event.key === "ArrowLeft") {
          event.preventDefault()
          scrollPrev()
        } else if (event.key === "ArrowRight") {
          event.preventDefault()
          scrollNext()
        }
      },
      [scrollPrev, scrollNext]
    )

    React.useEffect(() => {
      if (!api || !setApi) {
        return
      }

      setApi(api)
    }, [api, setApi])

    React.useEffect(() => {
      if (!api) {
        return
      }

      onSelect(api)
      api.on("reInit", onSelect)
      api.on("select", onSelect)

      return () => {
        api?.off("select", onSelect)
      }
    }, [api, onSelect])

    return (
      <CarouselContext.Provider
        value={{
          carouselRef,
          api: api,
          opts,
          orientation:
            orientation || (opts?.axis === "y" ? "vertical" : "horizontal"),
          scrollPrev,
          scrollNext,
          canScrollPrev,
          canScrollNext,
        }}
      >
        <div
          ref={ref}
          onKeyDownCapture={handleKeyDown}
          className={cn("relative", className)}
          role="region"
          aria-roledescription="carousel"
          {...props}
        >
          {children}
        </div>
      </CarouselContext.Provider>
    )
  }
)
Carousel.displayName = "Carousel"

const CarouselContent = React.forwardRef<
  HTMLDivElement,
  React.HTMLAttributes<HTMLDivElement>
>(({ className, ...props }, ref) => {
  const { carouselRef, orientation } = useCarousel()

  return (
    <div ref={carouselRef} className="overflow-hidden">
      <div
        ref={ref}
        className={cn(
          "flex",
          orientation === "horizontal" ? "-ml-4" : "-mt-4 flex-col",
          className
        )}
        {...props}
      />
    </div>
  )
})
CarouselContent.displayName = "CarouselContent"

const CarouselItem = React.forwardRef<
  HTMLDivElement,
  React.HTMLAttributes<HTMLDivElement>
>(({ className, ...props }, ref) => {
  const { orientation } = useCarousel()

  return (
    <div
      ref={ref}
      role="group"
      aria-roledescription="slide"
      className={cn(
        "min-w-0 shrink-0 grow-0 basis-full",
        orientation === "horizontal" ? "pl-4" : "pt-4",
        className
      )}
      {...props}
    />
  )
})
CarouselItem.displayName = "CarouselItem"

const CarouselPrevious = React.forwardRef<
  HTMLButtonElement,
  React.ComponentProps<typeof Button>
>(({ className, variant = "outline", size = "icon", ...props }, ref) => {
  const { orientation, scrollPrev, canScrollPrev } = useCarousel()

  return (
    <Button
      ref={ref}
      variant={variant}
      size={size}
      className={cn(
        "absolute  h-8 w-8 rounded-full",
        orientation === "horizontal"
          ? "-left-12 top-1/2 -translate-y-1/2"
          : "-top-12 left-1/2 -translate-x-1/2 rotate-90",
        className
      )}
      disabled={!canScrollPrev}
      onClick={scrollPrev}
      {...props}
    >
      <ArrowLeft className="h-4 w-4" />
      <span className="sr-only">Previous slide</span>
    </Button>
  )
})
CarouselPrevious.displayName = "CarouselPrevious"

const CarouselNext = React.forwardRef<
  HTMLButtonElement,
  React.ComponentProps<typeof Button>
>(({ className, variant = "outline", size = "icon", ...props }, ref) => {
  const { orientation, scrollNext, canScrollNext } = useCarousel()

  return (
    <Button
      ref={ref}
      variant={variant}
      size={size}
      className={cn(
        "absolute h-8 w-8 rounded-full",
        orientation === "horizontal"
          ? "-right-12 top-1/2 -translate-y-1/2"
          : "-bottom-12 left-1/2 -translate-x-1/2 rotate-90",
        className
      )}
      disabled={!canScrollNext}
      onClick={scrollNext}
      {...props}
    >
      <ArrowRight className="h-4 w-4" />
      <span className="sr-only">Next slide</span>
    </Button>
  )
})
CarouselNext.displayName = "CarouselNext"

export {
  type CarouselApi,
  Carousel,
  CarouselContent,
  CarouselItem,
  CarouselPrevious,
  CarouselNext,
}
</file>

<file path="mockup/src/components/ui/chart.tsx">
import * as React from "react"
import * as RechartsPrimitive from "recharts"

import { cn } from "@/lib/utils"

// Format: { THEME_NAME: CSS_SELECTOR }
const THEMES = { light: "", dark: ".dark" } as const

export type ChartConfig = {
  [k in string]: {
    label?: React.ReactNode
    icon?: React.ComponentType
  } & (
    | { color?: string; theme?: never }
    | { color?: never; theme: Record<keyof typeof THEMES, string> }
  )
}

type ChartContextProps = {
  config: ChartConfig
}

const ChartContext = React.createContext<ChartContextProps | null>(null)

function useChart() {
  const context = React.useContext(ChartContext)

  if (!context) {
    throw new Error("useChart must be used within a <ChartContainer />")
  }

  return context
}

const ChartContainer = React.forwardRef<
  HTMLDivElement,
  React.ComponentProps<"div"> & {
    config: ChartConfig
    children: React.ComponentProps<
      typeof RechartsPrimitive.ResponsiveContainer
    >["children"]
  }
>(({ id, className, children, config, ...props }, ref) => {
  const uniqueId = React.useId()
  const chartId = `chart-${id || uniqueId.replace(/:/g, "")}`

  return (
    <ChartContext.Provider value={{ config }}>
      <div
        data-chart={chartId}
        ref={ref}
        className={cn(
          "flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none",
          className
        )}
        {...props}
      >
        <ChartStyle id={chartId} config={config} />
        <RechartsPrimitive.ResponsiveContainer>
          {children}
        </RechartsPrimitive.ResponsiveContainer>
      </div>
    </ChartContext.Provider>
  )
})
ChartContainer.displayName = "Chart"

const ChartStyle = ({ id, config }: { id: string; config: ChartConfig }) => {
  const colorConfig = Object.entries(config).filter(
    ([_, config]) => config.theme || config.color
  )

  if (!colorConfig.length) {
    return null
  }

  return (
    <style
      dangerouslySetInnerHTML={{
        __html: Object.entries(THEMES)
          .map(
            ([theme, prefix]) => `
${prefix} [data-chart=${id}] {
${colorConfig
  .map(([key, itemConfig]) => {
    const color =
      itemConfig.theme?.[theme as keyof typeof itemConfig.theme] ||
      itemConfig.color
    return color ? `  --color-${key}: ${color};` : null
  })
  .join("\n")}
}
`
          )
          .join("\n"),
      }}
    />
  )
}

const ChartTooltip = RechartsPrimitive.Tooltip

const ChartTooltipContent = React.forwardRef<
  HTMLDivElement,
  React.ComponentProps<typeof RechartsPrimitive.Tooltip> &
    React.ComponentProps<"div"> & {
      hideLabel?: boolean
      hideIndicator?: boolean
      indicator?: "line" | "dot" | "dashed"
      nameKey?: string
      labelKey?: string
    }
>(
  (
    {
      active,
      payload,
      className,
      indicator = "dot",
      hideLabel = false,
      hideIndicator = false,
      label,
      labelFormatter,
      labelClassName,
      formatter,
      color,
      nameKey,
      labelKey,
    },
    ref
  ) => {
    const { config } = useChart()

    const tooltipLabel = React.useMemo(() => {
      if (hideLabel || !payload?.length) {
        return null
      }

      const [item] = payload
      const key = `${labelKey || item.dataKey || item.name || "value"}`
      const itemConfig = getPayloadConfigFromPayload(config, item, key)
      const value =
        !labelKey && typeof label === "string"
          ? config[label as keyof typeof config]?.label || label
          : itemConfig?.label

      if (labelFormatter) {
        return (
          <div className={cn("font-medium", labelClassName)}>
            {labelFormatter(value, payload)}
          </div>
        )
      }

      if (!value) {
        return null
      }

      return <div className={cn("font-medium", labelClassName)}>{value}</div>
    }, [
      label,
      labelFormatter,
      payload,
      hideLabel,
      labelClassName,
      config,
      labelKey,
    ])

    if (!active || !payload?.length) {
      return null
    }

    const nestLabel = payload.length === 1 && indicator !== "dot"

    return (
      <div
        ref={ref}
        className={cn(
          "grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl",
          className
        )}
      >
        {!nestLabel ? tooltipLabel : null}
        <div className="grid gap-1.5">
          {payload.map((item, index) => {
            const key = `${nameKey || item.name || item.dataKey || "value"}`
            const itemConfig = getPayloadConfigFromPayload(config, item, key)
            const indicatorColor = color || item.payload.fill || item.color

            return (
              <div
                key={item.dataKey}
                className={cn(
                  "flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground",
                  indicator === "dot" && "items-center"
                )}
              >
                {formatter && item?.value !== undefined && item.name ? (
                  formatter(item.value, item.name, item, index, item.payload)
                ) : (
                  <>
                    {itemConfig?.icon ? (
                      <itemConfig.icon />
                    ) : (
                      !hideIndicator && (
                        <div
                          className={cn(
                            "shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]",
                            {
                              "h-2.5 w-2.5": indicator === "dot",
                              "w-1": indicator === "line",
                              "w-0 border-[1.5px] border-dashed bg-transparent":
                                indicator === "dashed",
                              "my-0.5": nestLabel && indicator === "dashed",
                            }
                          )}
                          style={
                            {
                              "--color-bg": indicatorColor,
                              "--color-border": indicatorColor,
                            } as React.CSSProperties
                          }
                        />
                      )
                    )}
                    <div
                      className={cn(
                        "flex flex-1 justify-between leading-none",
                        nestLabel ? "items-end" : "items-center"
                      )}
                    >
                      <div className="grid gap-1.5">
                        {nestLabel ? tooltipLabel : null}
                        <span className="text-muted-foreground">
                          {itemConfig?.label || item.name}
                        </span>
                      </div>
                      {item.value && (
                        <span className="font-mono font-medium tabular-nums text-foreground">
                          {item.value.toLocaleString()}
                        </span>
                      )}
                    </div>
                  </>
                )}
              </div>
            )
          })}
        </div>
      </div>
    )
  }
)
ChartTooltipContent.displayName = "ChartTooltip"

const ChartLegend = RechartsPrimitive.Legend

const ChartLegendContent = React.forwardRef<
  HTMLDivElement,
  React.ComponentProps<"div"> &
    Pick<RechartsPrimitive.LegendProps, "payload" | "verticalAlign"> & {
      hideIcon?: boolean
      nameKey?: string
    }
>(
  (
    { className, hideIcon = false, payload, verticalAlign = "bottom", nameKey },
    ref
  ) => {
    const { config } = useChart()

    if (!payload?.length) {
      return null
    }

    return (
      <div
        ref={ref}
        className={cn(
          "flex items-center justify-center gap-4",
          verticalAlign === "top" ? "pb-3" : "pt-3",
          className
        )}
      >
        {payload.map((item) => {
          const key = `${nameKey || item.dataKey || "value"}`
          const itemConfig = getPayloadConfigFromPayload(config, item, key)

          return (
            <div
              key={item.value}
              className={cn(
                "flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground"
              )}
            >
              {itemConfig?.icon && !hideIcon ? (
                <itemConfig.icon />
              ) : (
                <div
                  className="h-2 w-2 shrink-0 rounded-[2px]"
                  style={{
                    backgroundColor: item.color,
                  }}
                />
              )}
              {itemConfig?.label}
            </div>
          )
        })}
      </div>
    )
  }
)
ChartLegendContent.displayName = "ChartLegend"

// Helper to extract item config from a payload.
function getPayloadConfigFromPayload(
  config: ChartConfig,
  payload: unknown,
  key: string
) {
  if (typeof payload !== "object" || payload === null) {
    return undefined
  }

  const payloadPayload =
    "payload" in payload &&
    typeof payload.payload === "object" &&
    payload.payload !== null
      ? payload.payload
      : undefined

  let configLabelKey: string = key

  if (
    key in payload &&
    typeof payload[key as keyof typeof payload] === "string"
  ) {
    configLabelKey = payload[key as keyof typeof payload] as string
  } else if (
    payloadPayload &&
    key in payloadPayload &&
    typeof payloadPayload[key as keyof typeof payloadPayload] === "string"
  ) {
    configLabelKey = payloadPayload[
      key as keyof typeof payloadPayload
    ] as string
  }

  return configLabelKey in config
    ? config[configLabelKey]
    : config[key as keyof typeof config]
}

export {
  ChartContainer,
  ChartTooltip,
  ChartTooltipContent,
  ChartLegend,
  ChartLegendContent,
  ChartStyle,
}
</file>

<file path="mockup/src/components/ui/checkbox.tsx">
import * as React from "react"
import * as CheckboxPrimitive from "@radix-ui/react-checkbox"
import { Check } from "lucide-react"

import { cn } from "@/lib/utils"

const Checkbox = React.forwardRef<
  React.ElementRef<typeof CheckboxPrimitive.Root>,
  React.ComponentPropsWithoutRef<typeof CheckboxPrimitive.Root>
>(({ className, ...props }, ref) => (
  <CheckboxPrimitive.Root
    ref={ref}
    className={cn(
      "peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",
      className
    )}
    {...props}
  >
    <CheckboxPrimitive.Indicator
      className={cn("flex items-center justify-center text-current")}
    >
      <Check className="h-4 w-4" />
    </CheckboxPrimitive.Indicator>
  </CheckboxPrimitive.Root>
))
Checkbox.displayName = CheckboxPrimitive.Root.displayName

export { Checkbox }
</file>

<file path="mockup/src/components/ui/collapsible.tsx">
import * as CollapsiblePrimitive from "@radix-ui/react-collapsible"

const Collapsible = CollapsiblePrimitive.Root

const CollapsibleTrigger = CollapsiblePrimitive.CollapsibleTrigger

const CollapsibleContent = CollapsiblePrimitive.CollapsibleContent

export { Collapsible, CollapsibleTrigger, CollapsibleContent }
</file>

<file path="mockup/src/components/ui/command.tsx">
import * as React from "react"
import { type DialogProps } from "@radix-ui/react-dialog"
import { Command as CommandPrimitive } from "cmdk"
import { Search } from "lucide-react"

import { cn } from "@/lib/utils"
import { Dialog, DialogContent } from "@/components/ui/dialog"

const Command = React.forwardRef<
  React.ElementRef<typeof CommandPrimitive>,
  React.ComponentPropsWithoutRef<typeof CommandPrimitive>
>(({ className, ...props }, ref) => (
  <CommandPrimitive
    ref={ref}
    className={cn(
      "flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",
      className
    )}
    {...props}
  />
))
Command.displayName = CommandPrimitive.displayName

interface CommandDialogProps extends DialogProps {}

const CommandDialog = ({ children, ...props }: CommandDialogProps) => {
  return (
    <Dialog {...props}>
      <DialogContent className="overflow-hidden p-0 shadow-lg">
        <Command className="[&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-group]]:px-2 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5">
          {children}
        </Command>
      </DialogContent>
    </Dialog>
  )
}

const CommandInput = React.forwardRef<
  React.ElementRef<typeof CommandPrimitive.Input>,
  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Input>
>(({ className, ...props }, ref) => (
  <div className="flex items-center border-b px-3" cmdk-input-wrapper="">
    <Search className="mr-2 h-4 w-4 shrink-0 opacity-50" />
    <CommandPrimitive.Input
      ref={ref}
      className={cn(
        "flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",
        className
      )}
      {...props}
    />
  </div>
))

CommandInput.displayName = CommandPrimitive.Input.displayName

const CommandList = React.forwardRef<
  React.ElementRef<typeof CommandPrimitive.List>,
  React.ComponentPropsWithoutRef<typeof CommandPrimitive.List>
>(({ className, ...props }, ref) => (
  <CommandPrimitive.List
    ref={ref}
    className={cn("max-h-[300px] overflow-y-auto overflow-x-hidden", className)}
    {...props}
  />
))

CommandList.displayName = CommandPrimitive.List.displayName

const CommandEmpty = React.forwardRef<
  React.ElementRef<typeof CommandPrimitive.Empty>,
  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Empty>
>((props, ref) => (
  <CommandPrimitive.Empty
    ref={ref}
    className="py-6 text-center text-sm"
    {...props}
  />
))

CommandEmpty.displayName = CommandPrimitive.Empty.displayName

const CommandGroup = React.forwardRef<
  React.ElementRef<typeof CommandPrimitive.Group>,
  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Group>
>(({ className, ...props }, ref) => (
  <CommandPrimitive.Group
    ref={ref}
    className={cn(
      "overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",
      className
    )}
    {...props}
  />
))

CommandGroup.displayName = CommandPrimitive.Group.displayName

const CommandSeparator = React.forwardRef<
  React.ElementRef<typeof CommandPrimitive.Separator>,
  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Separator>
>(({ className, ...props }, ref) => (
  <CommandPrimitive.Separator
    ref={ref}
    className={cn("-mx-1 h-px bg-border", className)}
    {...props}
  />
))
CommandSeparator.displayName = CommandPrimitive.Separator.displayName

const CommandItem = React.forwardRef<
  React.ElementRef<typeof CommandPrimitive.Item>,
  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Item>
>(({ className, ...props }, ref) => (
  <CommandPrimitive.Item
    ref={ref}
    className={cn(
      "relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",
      className
    )}
    {...props}
  />
))

CommandItem.displayName = CommandPrimitive.Item.displayName

const CommandShortcut = ({
  className,
  ...props
}: React.HTMLAttributes<HTMLSpanElement>) => {
  return (
    <span
      className={cn(
        "ml-auto text-xs tracking-widest text-muted-foreground",
        className
      )}
      {...props}
    />
  )
}
CommandShortcut.displayName = "CommandShortcut"

export {
  Command,
  CommandDialog,
  CommandInput,
  CommandList,
  CommandEmpty,
  CommandGroup,
  CommandItem,
  CommandShortcut,
  CommandSeparator,
}
</file>

<file path="mockup/src/components/ui/context-menu.tsx">
import * as React from "react"
import * as ContextMenuPrimitive from "@radix-ui/react-context-menu"
import { Check, ChevronRight, Circle } from "lucide-react"

import { cn } from "@/lib/utils"

const ContextMenu = ContextMenuPrimitive.Root

const ContextMenuTrigger = ContextMenuPrimitive.Trigger

const ContextMenuGroup = ContextMenuPrimitive.Group

const ContextMenuPortal = ContextMenuPrimitive.Portal

const ContextMenuSub = ContextMenuPrimitive.Sub

const ContextMenuRadioGroup = ContextMenuPrimitive.RadioGroup

const ContextMenuSubTrigger = React.forwardRef<
  React.ElementRef<typeof ContextMenuPrimitive.SubTrigger>,
  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.SubTrigger> & {
    inset?: boolean
  }
>(({ className, inset, children, ...props }, ref) => (
  <ContextMenuPrimitive.SubTrigger
    ref={ref}
    className={cn(
      "flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground",
      inset && "pl-8",
      className
    )}
    {...props}
  >
    {children}
    <ChevronRight className="ml-auto h-4 w-4" />
  </ContextMenuPrimitive.SubTrigger>
))
ContextMenuSubTrigger.displayName = ContextMenuPrimitive.SubTrigger.displayName

const ContextMenuSubContent = React.forwardRef<
  React.ElementRef<typeof ContextMenuPrimitive.SubContent>,
  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.SubContent>
>(({ className, ...props }, ref) => (
  <ContextMenuPrimitive.SubContent
    ref={ref}
    className={cn(
      "z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",
      className
    )}
    {...props}
  />
))
ContextMenuSubContent.displayName = ContextMenuPrimitive.SubContent.displayName

const ContextMenuContent = React.forwardRef<
  React.ElementRef<typeof ContextMenuPrimitive.Content>,
  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Content>
>(({ className, ...props }, ref) => (
  <ContextMenuPrimitive.Portal>
    <ContextMenuPrimitive.Content
      ref={ref}
      className={cn(
        "z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md animate-in fade-in-80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",
        className
      )}
      {...props}
    />
  </ContextMenuPrimitive.Portal>
))
ContextMenuContent.displayName = ContextMenuPrimitive.Content.displayName

const ContextMenuItem = React.forwardRef<
  React.ElementRef<typeof ContextMenuPrimitive.Item>,
  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Item> & {
    inset?: boolean
  }
>(({ className, inset, ...props }, ref) => (
  <ContextMenuPrimitive.Item
    ref={ref}
    className={cn(
      "relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",
      inset && "pl-8",
      className
    )}
    {...props}
  />
))
ContextMenuItem.displayName = ContextMenuPrimitive.Item.displayName

const ContextMenuCheckboxItem = React.forwardRef<
  React.ElementRef<typeof ContextMenuPrimitive.CheckboxItem>,
  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.CheckboxItem>
>(({ className, children, checked, ...props }, ref) => (
  <ContextMenuPrimitive.CheckboxItem
    ref={ref}
    className={cn(
      "relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",
      className
    )}
    checked={checked}
    {...props}
  >
    <span className="absolute left-2 flex h-3.5 w-3.5 items-center justify-center">
      <ContextMenuPrimitive.ItemIndicator>
        <Check className="h-4 w-4" />
      </ContextMenuPrimitive.ItemIndicator>
    </span>
    {children}
  </ContextMenuPrimitive.CheckboxItem>
))
ContextMenuCheckboxItem.displayName =
  ContextMenuPrimitive.CheckboxItem.displayName

const ContextMenuRadioItem = React.forwardRef<
  React.ElementRef<typeof ContextMenuPrimitive.RadioItem>,
  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.RadioItem>
>(({ className, children, ...props }, ref) => (
  <ContextMenuPrimitive.RadioItem
    ref={ref}
    className={cn(
      "relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",
      className
    )}
    {...props}
  >
    <span className="absolute left-2 flex h-3.5 w-3.5 items-center justify-center">
      <ContextMenuPrimitive.ItemIndicator>
        <Circle className="h-2 w-2 fill-current" />
      </ContextMenuPrimitive.ItemIndicator>
    </span>
    {children}
  </ContextMenuPrimitive.RadioItem>
))
ContextMenuRadioItem.displayName = ContextMenuPrimitive.RadioItem.displayName

const ContextMenuLabel = React.forwardRef<
  React.ElementRef<typeof ContextMenuPrimitive.Label>,
  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Label> & {
    inset?: boolean
  }
>(({ className, inset, ...props }, ref) => (
  <ContextMenuPrimitive.Label
    ref={ref}
    className={cn(
      "px-2 py-1.5 text-sm font-semibold text-foreground",
      inset && "pl-8",
      className
    )}
    {...props}
  />
))
ContextMenuLabel.displayName = ContextMenuPrimitive.Label.displayName

const ContextMenuSeparator = React.forwardRef<
  React.ElementRef<typeof ContextMenuPrimitive.Separator>,
  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Separator>
>(({ className, ...props }, ref) => (
  <ContextMenuPrimitive.Separator
    ref={ref}
    className={cn("-mx-1 my-1 h-px bg-border", className)}
    {...props}
  />
))
ContextMenuSeparator.displayName = ContextMenuPrimitive.Separator.displayName

const ContextMenuShortcut = ({
  className,
  ...props
}: React.HTMLAttributes<HTMLSpanElement>) => {
  return (
    <span
      className={cn(
        "ml-auto text-xs tracking-widest text-muted-foreground",
        className
      )}
      {...props}
    />
  )
}
ContextMenuShortcut.displayName = "ContextMenuShortcut"

export {
  ContextMenu,
  ContextMenuTrigger,
  ContextMenuContent,
  ContextMenuItem,
  ContextMenuCheckboxItem,
  ContextMenuRadioItem,
  ContextMenuLabel,
  ContextMenuSeparator,
  ContextMenuShortcut,
  ContextMenuGroup,
  ContextMenuPortal,
  ContextMenuSub,
  ContextMenuSubContent,
  ContextMenuSubTrigger,
  ContextMenuRadioGroup,
}
</file>

<file path="mockup/src/components/ui/dialog.tsx">
import * as React from "react"
import * as DialogPrimitive from "@radix-ui/react-dialog"
import { X } from "lucide-react"

import { cn } from "@/lib/utils"

const Dialog = DialogPrimitive.Root

const DialogTrigger = DialogPrimitive.Trigger

const DialogPortal = DialogPrimitive.Portal

const DialogClose = DialogPrimitive.Close

const DialogOverlay = React.forwardRef<
  React.ElementRef<typeof DialogPrimitive.Overlay>,
  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>
>(({ className, ...props }, ref) => (
  <DialogPrimitive.Overlay
    ref={ref}
    className={cn(
      "fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",
      className
    )}
    {...props}
  />
))
DialogOverlay.displayName = DialogPrimitive.Overlay.displayName

const DialogContent = React.forwardRef<
  React.ElementRef<typeof DialogPrimitive.Content>,
  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>
>(({ className, children, ...props }, ref) => (
  <DialogPortal>
    <DialogOverlay />
    <DialogPrimitive.Content
      ref={ref}
      className={cn(
        "fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",
        className
      )}
      {...props}
    >
      {children}
      <DialogPrimitive.Close className="absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground">
        <X className="h-4 w-4" />
        <span className="sr-only">Close</span>
      </DialogPrimitive.Close>
    </DialogPrimitive.Content>
  </DialogPortal>
))
DialogContent.displayName = DialogPrimitive.Content.displayName

const DialogHeader = ({
  className,
  ...props
}: React.HTMLAttributes<HTMLDivElement>) => (
  <div
    className={cn(
      "flex flex-col space-y-1.5 text-center sm:text-left",
      className
    )}
    {...props}
  />
)
DialogHeader.displayName = "DialogHeader"

const DialogFooter = ({
  className,
  ...props
}: React.HTMLAttributes<HTMLDivElement>) => (
  <div
    className={cn(
      "flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",
      className
    )}
    {...props}
  />
)
DialogFooter.displayName = "DialogFooter"

const DialogTitle = React.forwardRef<
  React.ElementRef<typeof DialogPrimitive.Title>,
  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>
>(({ className, ...props }, ref) => (
  <DialogPrimitive.Title
    ref={ref}
    className={cn(
      "text-lg font-semibold leading-none tracking-tight",
      className
    )}
    {...props}
  />
))
DialogTitle.displayName = DialogPrimitive.Title.displayName

const DialogDescription = React.forwardRef<
  React.ElementRef<typeof DialogPrimitive.Description>,
  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>
>(({ className, ...props }, ref) => (
  <DialogPrimitive.Description
    ref={ref}
    className={cn("text-sm text-muted-foreground", className)}
    {...props}
  />
))
DialogDescription.displayName = DialogPrimitive.Description.displayName

export {
  Dialog,
  DialogPortal,
  DialogOverlay,
  DialogClose,
  DialogTrigger,
  DialogContent,
  DialogHeader,
  DialogFooter,
  DialogTitle,
  DialogDescription,
}
</file>

<file path="mockup/src/components/ui/drawer.tsx">
import * as React from "react"
import { Drawer as DrawerPrimitive } from "vaul"

import { cn } from "@/lib/utils"

const Drawer = ({
  shouldScaleBackground = true,
  ...props
}: React.ComponentProps<typeof DrawerPrimitive.Root>) => (
  <DrawerPrimitive.Root
    shouldScaleBackground={shouldScaleBackground}
    {...props}
  />
)
Drawer.displayName = "Drawer"

const DrawerTrigger = DrawerPrimitive.Trigger

const DrawerPortal = DrawerPrimitive.Portal

const DrawerClose = DrawerPrimitive.Close

const DrawerOverlay = React.forwardRef<
  React.ElementRef<typeof DrawerPrimitive.Overlay>,
  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Overlay>
>(({ className, ...props }, ref) => (
  <DrawerPrimitive.Overlay
    ref={ref}
    className={cn("fixed inset-0 z-50 bg-black/80", className)}
    {...props}
  />
))
DrawerOverlay.displayName = DrawerPrimitive.Overlay.displayName

const DrawerContent = React.forwardRef<
  React.ElementRef<typeof DrawerPrimitive.Content>,
  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Content>
>(({ className, children, ...props }, ref) => (
  <DrawerPortal>
    <DrawerOverlay />
    <DrawerPrimitive.Content
      ref={ref}
      className={cn(
        "fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background",
        className
      )}
      {...props}
    >
      <div className="mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted" />
      {children}
    </DrawerPrimitive.Content>
  </DrawerPortal>
))
DrawerContent.displayName = "DrawerContent"

const DrawerHeader = ({
  className,
  ...props
}: React.HTMLAttributes<HTMLDivElement>) => (
  <div
    className={cn("grid gap-1.5 p-4 text-center sm:text-left", className)}
    {...props}
  />
)
DrawerHeader.displayName = "DrawerHeader"

const DrawerFooter = ({
  className,
  ...props
}: React.HTMLAttributes<HTMLDivElement>) => (
  <div
    className={cn("mt-auto flex flex-col gap-2 p-4", className)}
    {...props}
  />
)
DrawerFooter.displayName = "DrawerFooter"

const DrawerTitle = React.forwardRef<
  React.ElementRef<typeof DrawerPrimitive.Title>,
  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Title>
>(({ className, ...props }, ref) => (
  <DrawerPrimitive.Title
    ref={ref}
    className={cn(
      "text-lg font-semibold leading-none tracking-tight",
      className
    )}
    {...props}
  />
))
DrawerTitle.displayName = DrawerPrimitive.Title.displayName

const DrawerDescription = React.forwardRef<
  React.ElementRef<typeof DrawerPrimitive.Description>,
  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Description>
>(({ className, ...props }, ref) => (
  <DrawerPrimitive.Description
    ref={ref}
    className={cn("text-sm text-muted-foreground", className)}
    {...props}
  />
))
DrawerDescription.displayName = DrawerPrimitive.Description.displayName

export {
  Drawer,
  DrawerPortal,
  DrawerOverlay,
  DrawerTrigger,
  DrawerClose,
  DrawerContent,
  DrawerHeader,
  DrawerFooter,
  DrawerTitle,
  DrawerDescription,
}
</file>

<file path="mockup/src/components/ui/dropdown-menu.tsx">
import * as React from "react"
import * as DropdownMenuPrimitive from "@radix-ui/react-dropdown-menu"
import { Check, ChevronRight, Circle } from "lucide-react"

import { cn } from "@/lib/utils"

const DropdownMenu = DropdownMenuPrimitive.Root

const DropdownMenuTrigger = DropdownMenuPrimitive.Trigger

const DropdownMenuGroup = DropdownMenuPrimitive.Group

const DropdownMenuPortal = DropdownMenuPrimitive.Portal

const DropdownMenuSub = DropdownMenuPrimitive.Sub

const DropdownMenuRadioGroup = DropdownMenuPrimitive.RadioGroup

const DropdownMenuSubTrigger = React.forwardRef<
  React.ElementRef<typeof DropdownMenuPrimitive.SubTrigger>,
  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubTrigger> & {
    inset?: boolean
  }
>(({ className, inset, children, ...props }, ref) => (
  <DropdownMenuPrimitive.SubTrigger
    ref={ref}
    className={cn(
      "flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",
      inset && "pl-8",
      className
    )}
    {...props}
  >
    {children}
    <ChevronRight className="ml-auto h-4 w-4" />
  </DropdownMenuPrimitive.SubTrigger>
))
DropdownMenuSubTrigger.displayName =
  DropdownMenuPrimitive.SubTrigger.displayName

const DropdownMenuSubContent = React.forwardRef<
  React.ElementRef<typeof DropdownMenuPrimitive.SubContent>,
  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubContent>
>(({ className, ...props }, ref) => (
  <DropdownMenuPrimitive.SubContent
    ref={ref}
    className={cn(
      "z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",
      className
    )}
    {...props}
  />
))
DropdownMenuSubContent.displayName =
  DropdownMenuPrimitive.SubContent.displayName

const DropdownMenuContent = React.forwardRef<
  React.ElementRef<typeof DropdownMenuPrimitive.Content>,
  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Content>
>(({ className, sideOffset = 4, ...props }, ref) => (
  <DropdownMenuPrimitive.Portal>
    <DropdownMenuPrimitive.Content
      ref={ref}
      sideOffset={sideOffset}
      className={cn(
        "z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",
        className
      )}
      {...props}
    />
  </DropdownMenuPrimitive.Portal>
))
DropdownMenuContent.displayName = DropdownMenuPrimitive.Content.displayName

const DropdownMenuItem = React.forwardRef<
  React.ElementRef<typeof DropdownMenuPrimitive.Item>,
  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Item> & {
    inset?: boolean
  }
>(({ className, inset, ...props }, ref) => (
  <DropdownMenuPrimitive.Item
    ref={ref}
    className={cn(
      "relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",
      inset && "pl-8",
      className
    )}
    {...props}
  />
))
DropdownMenuItem.displayName = DropdownMenuPrimitive.Item.displayName

const DropdownMenuCheckboxItem = React.forwardRef<
  React.ElementRef<typeof DropdownMenuPrimitive.CheckboxItem>,
  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.CheckboxItem>
>(({ className, children, checked, ...props }, ref) => (
  <DropdownMenuPrimitive.CheckboxItem
    ref={ref}
    className={cn(
      "relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",
      className
    )}
    checked={checked}
    {...props}
  >
    <span className="absolute left-2 flex h-3.5 w-3.5 items-center justify-center">
      <DropdownMenuPrimitive.ItemIndicator>
        <Check className="h-4 w-4" />
      </DropdownMenuPrimitive.ItemIndicator>
    </span>
    {children}
  </DropdownMenuPrimitive.CheckboxItem>
))
DropdownMenuCheckboxItem.displayName =
  DropdownMenuPrimitive.CheckboxItem.displayName

const DropdownMenuRadioItem = React.forwardRef<
  React.ElementRef<typeof DropdownMenuPrimitive.RadioItem>,
  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.RadioItem>
>(({ className, children, ...props }, ref) => (
  <DropdownMenuPrimitive.RadioItem
    ref={ref}
    className={cn(
      "relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",
      className
    )}
    {...props}
  >
    <span className="absolute left-2 flex h-3.5 w-3.5 items-center justify-center">
      <DropdownMenuPrimitive.ItemIndicator>
        <Circle className="h-2 w-2 fill-current" />
      </DropdownMenuPrimitive.ItemIndicator>
    </span>
    {children}
  </DropdownMenuPrimitive.RadioItem>
))
DropdownMenuRadioItem.displayName = DropdownMenuPrimitive.RadioItem.displayName

const DropdownMenuLabel = React.forwardRef<
  React.ElementRef<typeof DropdownMenuPrimitive.Label>,
  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Label> & {
    inset?: boolean
  }
>(({ className, inset, ...props }, ref) => (
  <DropdownMenuPrimitive.Label
    ref={ref}
    className={cn(
      "px-2 py-1.5 text-sm font-semibold",
      inset && "pl-8",
      className
    )}
    {...props}
  />
))
DropdownMenuLabel.displayName = DropdownMenuPrimitive.Label.displayName

const DropdownMenuSeparator = React.forwardRef<
  React.ElementRef<typeof DropdownMenuPrimitive.Separator>,
  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Separator>
>(({ className, ...props }, ref) => (
  <DropdownMenuPrimitive.Separator
    ref={ref}
    className={cn("-mx-1 my-1 h-px bg-muted", className)}
    {...props}
  />
))
DropdownMenuSeparator.displayName = DropdownMenuPrimitive.Separator.displayName

const DropdownMenuShortcut = ({
  className,
  ...props
}: React.HTMLAttributes<HTMLSpanElement>) => {
  return (
    <span
      className={cn("ml-auto text-xs tracking-widest opacity-60", className)}
      {...props}
    />
  )
}
DropdownMenuShortcut.displayName = "DropdownMenuShortcut"

export {
  DropdownMenu,
  DropdownMenuTrigger,
  DropdownMenuContent,
  DropdownMenuItem,
  DropdownMenuCheckboxItem,
  DropdownMenuRadioItem,
  DropdownMenuLabel,
  DropdownMenuSeparator,
  DropdownMenuShortcut,
  DropdownMenuGroup,
  DropdownMenuPortal,
  DropdownMenuSub,
  DropdownMenuSubContent,
  DropdownMenuSubTrigger,
  DropdownMenuRadioGroup,
}
</file>

<file path="mockup/src/components/ui/form.tsx">
import * as React from "react"
import * as LabelPrimitive from "@radix-ui/react-label"
import { Slot } from "@radix-ui/react-slot"
import {
  Controller,
  ControllerProps,
  FieldPath,
  FieldValues,
  FormProvider,
  useFormContext,
} from "react-hook-form"

import { cn } from "@/lib/utils"
import { Label } from "@/components/ui/label"

const Form = FormProvider

type FormFieldContextValue<
  TFieldValues extends FieldValues = FieldValues,
  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>
> = {
  name: TName
}

const FormFieldContext = React.createContext<FormFieldContextValue>(
  {} as FormFieldContextValue
)

const FormField = <
  TFieldValues extends FieldValues = FieldValues,
  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>
>({
  ...props
}: ControllerProps<TFieldValues, TName>) => {
  return (
    <FormFieldContext.Provider value={{ name: props.name }}>
      <Controller {...props} />
    </FormFieldContext.Provider>
  )
}

const useFormField = () => {
  const fieldContext = React.useContext(FormFieldContext)
  const itemContext = React.useContext(FormItemContext)
  const { getFieldState, formState } = useFormContext()

  const fieldState = getFieldState(fieldContext.name, formState)

  if (!fieldContext) {
    throw new Error("useFormField should be used within <FormField>")
  }

  const { id } = itemContext

  return {
    id,
    name: fieldContext.name,
    formItemId: `${id}-form-item`,
    formDescriptionId: `${id}-form-item-description`,
    formMessageId: `${id}-form-item-message`,
    ...fieldState,
  }
}

type FormItemContextValue = {
  id: string
}

const FormItemContext = React.createContext<FormItemContextValue>(
  {} as FormItemContextValue
)

const FormItem = React.forwardRef<
  HTMLDivElement,
  React.HTMLAttributes<HTMLDivElement>
>(({ className, ...props }, ref) => {
  const id = React.useId()

  return (
    <FormItemContext.Provider value={{ id }}>
      <div ref={ref} className={cn("space-y-2", className)} {...props} />
    </FormItemContext.Provider>
  )
})
FormItem.displayName = "FormItem"

const FormLabel = React.forwardRef<
  React.ElementRef<typeof LabelPrimitive.Root>,
  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root>
>(({ className, ...props }, ref) => {
  const { error, formItemId } = useFormField()

  return (
    <Label
      ref={ref}
      className={cn(error && "text-destructive", className)}
      htmlFor={formItemId}
      {...props}
    />
  )
})
FormLabel.displayName = "FormLabel"

const FormControl = React.forwardRef<
  React.ElementRef<typeof Slot>,
  React.ComponentPropsWithoutRef<typeof Slot>
>(({ ...props }, ref) => {
  const { error, formItemId, formDescriptionId, formMessageId } = useFormField()

  return (
    <Slot
      ref={ref}
      id={formItemId}
      aria-describedby={
        !error
          ? `${formDescriptionId}`
          : `${formDescriptionId} ${formMessageId}`
      }
      aria-invalid={!!error}
      {...props}
    />
  )
})
FormControl.displayName = "FormControl"

const FormDescription = React.forwardRef<
  HTMLParagraphElement,
  React.HTMLAttributes<HTMLParagraphElement>
>(({ className, ...props }, ref) => {
  const { formDescriptionId } = useFormField()

  return (
    <p
      ref={ref}
      id={formDescriptionId}
      className={cn("text-sm text-muted-foreground", className)}
      {...props}
    />
  )
})
FormDescription.displayName = "FormDescription"

const FormMessage = React.forwardRef<
  HTMLParagraphElement,
  React.HTMLAttributes<HTMLParagraphElement>
>(({ className, children, ...props }, ref) => {
  const { error, formMessageId } = useFormField()
  const body = error ? String(error?.message) : children

  if (!body) {
    return null
  }

  return (
    <p
      ref={ref}
      id={formMessageId}
      className={cn("text-sm font-medium text-destructive", className)}
      {...props}
    >
      {body}
    </p>
  )
})
FormMessage.displayName = "FormMessage"

export {
  useFormField,
  Form,
  FormItem,
  FormLabel,
  FormControl,
  FormDescription,
  FormMessage,
  FormField,
}
</file>

<file path="mockup/src/components/ui/hover-card.tsx">
import * as React from "react"
import * as HoverCardPrimitive from "@radix-ui/react-hover-card"

import { cn } from "@/lib/utils"

const HoverCard = HoverCardPrimitive.Root

const HoverCardTrigger = HoverCardPrimitive.Trigger

const HoverCardContent = React.forwardRef<
  React.ElementRef<typeof HoverCardPrimitive.Content>,
  React.ComponentPropsWithoutRef<typeof HoverCardPrimitive.Content>
>(({ className, align = "center", sideOffset = 4, ...props }, ref) => (
  <HoverCardPrimitive.Content
    ref={ref}
    align={align}
    sideOffset={sideOffset}
    className={cn(
      "z-50 w-64 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",
      className
    )}
    {...props}
  />
))
HoverCardContent.displayName = HoverCardPrimitive.Content.displayName

export { HoverCard, HoverCardTrigger, HoverCardContent }
</file>

<file path="mockup/src/components/ui/input-otp.tsx">
import * as React from "react"
import { OTPInput, OTPInputContext } from "input-otp"
import { Dot } from "lucide-react"

import { cn } from "@/lib/utils"

const InputOTP = React.forwardRef<
  React.ElementRef<typeof OTPInput>,
  React.ComponentPropsWithoutRef<typeof OTPInput>
>(({ className, containerClassName, ...props }, ref) => (
  <OTPInput
    ref={ref}
    containerClassName={cn(
      "flex items-center gap-2 has-[:disabled]:opacity-50",
      containerClassName
    )}
    className={cn("disabled:cursor-not-allowed", className)}
    {...props}
  />
))
InputOTP.displayName = "InputOTP"

const InputOTPGroup = React.forwardRef<
  React.ElementRef<"div">,
  React.ComponentPropsWithoutRef<"div">
>(({ className, ...props }, ref) => (
  <div ref={ref} className={cn("flex items-center", className)} {...props} />
))
InputOTPGroup.displayName = "InputOTPGroup"

const InputOTPSlot = React.forwardRef<
  React.ElementRef<"div">,
  React.ComponentPropsWithoutRef<"div"> & { index: number }
>(({ index, className, ...props }, ref) => {
  const inputOTPContext = React.useContext(OTPInputContext)
  const { char, hasFakeCaret, isActive } = inputOTPContext.slots[index]

  return (
    <div
      ref={ref}
      className={cn(
        "relative flex h-10 w-10 items-center justify-center border-y border-r border-input text-sm transition-all first:rounded-l-md first:border-l last:rounded-r-md",
        isActive && "z-10 ring-2 ring-ring ring-offset-background",
        className
      )}
      {...props}
    >
      {char}
      {hasFakeCaret && (
        <div className="pointer-events-none absolute inset-0 flex items-center justify-center">
          <div className="h-4 w-px animate-caret-blink bg-foreground duration-1000" />
        </div>
      )}
    </div>
  )
})
InputOTPSlot.displayName = "InputOTPSlot"

const InputOTPSeparator = React.forwardRef<
  React.ElementRef<"div">,
  React.ComponentPropsWithoutRef<"div">
>(({ ...props }, ref) => (
  <div ref={ref} role="separator" {...props}>
    <Dot />
  </div>
))
InputOTPSeparator.displayName = "InputOTPSeparator"

export { InputOTP, InputOTPGroup, InputOTPSlot, InputOTPSeparator }
</file>

<file path="mockup/src/components/ui/input.tsx">
import * as React from "react"

import { cn } from "@/lib/utils"

const Input = React.forwardRef<HTMLInputElement, React.ComponentProps<"input">>(
  ({ className, type, ...props }, ref) => {
    return (
      <input
        type={type}
        className={cn(
          "flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",
          className
        )}
        ref={ref}
        {...props}
      />
    )
  }
)
Input.displayName = "Input"

export { Input }
</file>

<file path="mockup/src/components/ui/label.tsx">
import * as React from "react"
import * as LabelPrimitive from "@radix-ui/react-label"
import { cva, type VariantProps } from "class-variance-authority"

import { cn } from "@/lib/utils"

const labelVariants = cva(
  "text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"
)

const Label = React.forwardRef<
  React.ElementRef<typeof LabelPrimitive.Root>,
  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> &
    VariantProps<typeof labelVariants>
>(({ className, ...props }, ref) => (
  <LabelPrimitive.Root
    ref={ref}
    className={cn(labelVariants(), className)}
    {...props}
  />
))
Label.displayName = LabelPrimitive.Root.displayName

export { Label }
</file>

<file path="mockup/src/components/ui/menubar.tsx">
import * as React from "react"
import * as MenubarPrimitive from "@radix-ui/react-menubar"
import { Check, ChevronRight, Circle } from "lucide-react"

import { cn } from "@/lib/utils"

const MenubarMenu = MenubarPrimitive.Menu

const MenubarGroup = MenubarPrimitive.Group

const MenubarPortal = MenubarPrimitive.Portal

const MenubarSub = MenubarPrimitive.Sub

const MenubarRadioGroup = MenubarPrimitive.RadioGroup

const Menubar = React.forwardRef<
  React.ElementRef<typeof MenubarPrimitive.Root>,
  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Root>
>(({ className, ...props }, ref) => (
  <MenubarPrimitive.Root
    ref={ref}
    className={cn(
      "flex h-10 items-center space-x-1 rounded-md border bg-background p-1",
      className
    )}
    {...props}
  />
))
Menubar.displayName = MenubarPrimitive.Root.displayName

const MenubarTrigger = React.forwardRef<
  React.ElementRef<typeof MenubarPrimitive.Trigger>,
  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Trigger>
>(({ className, ...props }, ref) => (
  <MenubarPrimitive.Trigger
    ref={ref}
    className={cn(
      "flex cursor-default select-none items-center rounded-sm px-3 py-1.5 text-sm font-medium outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground",
      className
    )}
    {...props}
  />
))
MenubarTrigger.displayName = MenubarPrimitive.Trigger.displayName

const MenubarSubTrigger = React.forwardRef<
  React.ElementRef<typeof MenubarPrimitive.SubTrigger>,
  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.SubTrigger> & {
    inset?: boolean
  }
>(({ className, inset, children, ...props }, ref) => (
  <MenubarPrimitive.SubTrigger
    ref={ref}
    className={cn(
      "flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground",
      inset && "pl-8",
      className
    )}
    {...props}
  >
    {children}
    <ChevronRight className="ml-auto h-4 w-4" />
  </MenubarPrimitive.SubTrigger>
))
MenubarSubTrigger.displayName = MenubarPrimitive.SubTrigger.displayName

const MenubarSubContent = React.forwardRef<
  React.ElementRef<typeof MenubarPrimitive.SubContent>,
  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.SubContent>
>(({ className, ...props }, ref) => (
  <MenubarPrimitive.SubContent
    ref={ref}
    className={cn(
      "z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",
      className
    )}
    {...props}
  />
))
MenubarSubContent.displayName = MenubarPrimitive.SubContent.displayName

const MenubarContent = React.forwardRef<
  React.ElementRef<typeof MenubarPrimitive.Content>,
  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Content>
>(
  (
    { className, align = "start", alignOffset = -4, sideOffset = 8, ...props },
    ref
  ) => (
    <MenubarPrimitive.Portal>
      <MenubarPrimitive.Content
        ref={ref}
        align={align}
        alignOffset={alignOffset}
        sideOffset={sideOffset}
        className={cn(
          "z-50 min-w-[12rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",
          className
        )}
        {...props}
      />
    </MenubarPrimitive.Portal>
  )
)
MenubarContent.displayName = MenubarPrimitive.Content.displayName

const MenubarItem = React.forwardRef<
  React.ElementRef<typeof MenubarPrimitive.Item>,
  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Item> & {
    inset?: boolean
  }
>(({ className, inset, ...props }, ref) => (
  <MenubarPrimitive.Item
    ref={ref}
    className={cn(
      "relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",
      inset && "pl-8",
      className
    )}
    {...props}
  />
))
MenubarItem.displayName = MenubarPrimitive.Item.displayName

const MenubarCheckboxItem = React.forwardRef<
  React.ElementRef<typeof MenubarPrimitive.CheckboxItem>,
  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.CheckboxItem>
>(({ className, children, checked, ...props }, ref) => (
  <MenubarPrimitive.CheckboxItem
    ref={ref}
    className={cn(
      "relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",
      className
    )}
    checked={checked}
    {...props}
  >
    <span className="absolute left-2 flex h-3.5 w-3.5 items-center justify-center">
      <MenubarPrimitive.ItemIndicator>
        <Check className="h-4 w-4" />
      </MenubarPrimitive.ItemIndicator>
    </span>
    {children}
  </MenubarPrimitive.CheckboxItem>
))
MenubarCheckboxItem.displayName = MenubarPrimitive.CheckboxItem.displayName

const MenubarRadioItem = React.forwardRef<
  React.ElementRef<typeof MenubarPrimitive.RadioItem>,
  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.RadioItem>
>(({ className, children, ...props }, ref) => (
  <MenubarPrimitive.RadioItem
    ref={ref}
    className={cn(
      "relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",
      className
    )}
    {...props}
  >
    <span className="absolute left-2 flex h-3.5 w-3.5 items-center justify-center">
      <MenubarPrimitive.ItemIndicator>
        <Circle className="h-2 w-2 fill-current" />
      </MenubarPrimitive.ItemIndicator>
    </span>
    {children}
  </MenubarPrimitive.RadioItem>
))
MenubarRadioItem.displayName = MenubarPrimitive.RadioItem.displayName

const MenubarLabel = React.forwardRef<
  React.ElementRef<typeof MenubarPrimitive.Label>,
  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Label> & {
    inset?: boolean
  }
>(({ className, inset, ...props }, ref) => (
  <MenubarPrimitive.Label
    ref={ref}
    className={cn(
      "px-2 py-1.5 text-sm font-semibold",
      inset && "pl-8",
      className
    )}
    {...props}
  />
))
MenubarLabel.displayName = MenubarPrimitive.Label.displayName

const MenubarSeparator = React.forwardRef<
  React.ElementRef<typeof MenubarPrimitive.Separator>,
  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Separator>
>(({ className, ...props }, ref) => (
  <MenubarPrimitive.Separator
    ref={ref}
    className={cn("-mx-1 my-1 h-px bg-muted", className)}
    {...props}
  />
))
MenubarSeparator.displayName = MenubarPrimitive.Separator.displayName

const MenubarShortcut = ({
  className,
  ...props
}: React.HTMLAttributes<HTMLSpanElement>) => {
  return (
    <span
      className={cn(
        "ml-auto text-xs tracking-widest text-muted-foreground",
        className
      )}
      {...props}
    />
  )
}
MenubarShortcut.displayname = "MenubarShortcut"

export {
  Menubar,
  MenubarMenu,
  MenubarTrigger,
  MenubarContent,
  MenubarItem,
  MenubarSeparator,
  MenubarLabel,
  MenubarCheckboxItem,
  MenubarRadioGroup,
  MenubarRadioItem,
  MenubarPortal,
  MenubarSubContent,
  MenubarSubTrigger,
  MenubarGroup,
  MenubarSub,
  MenubarShortcut,
}
</file>

<file path="mockup/src/components/ui/navigation-menu.tsx">
import * as React from "react"
import * as NavigationMenuPrimitive from "@radix-ui/react-navigation-menu"
import { cva } from "class-variance-authority"
import { ChevronDown } from "lucide-react"

import { cn } from "@/lib/utils"

const NavigationMenu = React.forwardRef<
  React.ElementRef<typeof NavigationMenuPrimitive.Root>,
  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Root>
>(({ className, children, ...props }, ref) => (
  <NavigationMenuPrimitive.Root
    ref={ref}
    className={cn(
      "relative z-10 flex max-w-max flex-1 items-center justify-center",
      className
    )}
    {...props}
  >
    {children}
    <NavigationMenuViewport />
  </NavigationMenuPrimitive.Root>
))
NavigationMenu.displayName = NavigationMenuPrimitive.Root.displayName

const NavigationMenuList = React.forwardRef<
  React.ElementRef<typeof NavigationMenuPrimitive.List>,
  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.List>
>(({ className, ...props }, ref) => (
  <NavigationMenuPrimitive.List
    ref={ref}
    className={cn(
      "group flex flex-1 list-none items-center justify-center space-x-1",
      className
    )}
    {...props}
  />
))
NavigationMenuList.displayName = NavigationMenuPrimitive.List.displayName

const NavigationMenuItem = NavigationMenuPrimitive.Item

const navigationMenuTriggerStyle = cva(
  "group inline-flex h-10 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground focus:outline-none disabled:pointer-events-none disabled:opacity-50 data-[active]:bg-accent/50 data-[state=open]:bg-accent/50"
)

const NavigationMenuTrigger = React.forwardRef<
  React.ElementRef<typeof NavigationMenuPrimitive.Trigger>,
  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Trigger>
>(({ className, children, ...props }, ref) => (
  <NavigationMenuPrimitive.Trigger
    ref={ref}
    className={cn(navigationMenuTriggerStyle(), "group", className)}
    {...props}
  >
    {children}{" "}
    <ChevronDown
      className="relative top-[1px] ml-1 h-3 w-3 transition duration-200 group-data-[state=open]:rotate-180"
      aria-hidden="true"
    />
  </NavigationMenuPrimitive.Trigger>
))
NavigationMenuTrigger.displayName = NavigationMenuPrimitive.Trigger.displayName

const NavigationMenuContent = React.forwardRef<
  React.ElementRef<typeof NavigationMenuPrimitive.Content>,
  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Content>
>(({ className, ...props }, ref) => (
  <NavigationMenuPrimitive.Content
    ref={ref}
    className={cn(
      "left-0 top-0 w-full data-[motion^=from-]:animate-in data-[motion^=to-]:animate-out data-[motion^=from-]:fade-in data-[motion^=to-]:fade-out data-[motion=from-end]:slide-in-from-right-52 data-[motion=from-start]:slide-in-from-left-52 data-[motion=to-end]:slide-out-to-right-52 data-[motion=to-start]:slide-out-to-left-52 md:absolute md:w-auto ",
      className
    )}
    {...props}
  />
))
NavigationMenuContent.displayName = NavigationMenuPrimitive.Content.displayName

const NavigationMenuLink = NavigationMenuPrimitive.Link

const NavigationMenuViewport = React.forwardRef<
  React.ElementRef<typeof NavigationMenuPrimitive.Viewport>,
  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Viewport>
>(({ className, ...props }, ref) => (
  <div className={cn("absolute left-0 top-full flex justify-center")}>
    <NavigationMenuPrimitive.Viewport
      className={cn(
        "origin-top-center relative mt-1.5 h-[var(--radix-navigation-menu-viewport-height)] w-full overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-90 md:w-[var(--radix-navigation-menu-viewport-width)]",
        className
      )}
      ref={ref}
      {...props}
    />
  </div>
))
NavigationMenuViewport.displayName =
  NavigationMenuPrimitive.Viewport.displayName

const NavigationMenuIndicator = React.forwardRef<
  React.ElementRef<typeof NavigationMenuPrimitive.Indicator>,
  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Indicator>
>(({ className, ...props }, ref) => (
  <NavigationMenuPrimitive.Indicator
    ref={ref}
    className={cn(
      "top-full z-[1] flex h-1.5 items-end justify-center overflow-hidden data-[state=visible]:animate-in data-[state=hidden]:animate-out data-[state=hidden]:fade-out data-[state=visible]:fade-in",
      className
    )}
    {...props}
  >
    <div className="relative top-[60%] h-2 w-2 rotate-45 rounded-tl-sm bg-border shadow-md" />
  </NavigationMenuPrimitive.Indicator>
))
NavigationMenuIndicator.displayName =
  NavigationMenuPrimitive.Indicator.displayName

export {
  navigationMenuTriggerStyle,
  NavigationMenu,
  NavigationMenuList,
  NavigationMenuItem,
  NavigationMenuContent,
  NavigationMenuTrigger,
  NavigationMenuLink,
  NavigationMenuIndicator,
  NavigationMenuViewport,
}
</file>

<file path="mockup/src/components/ui/pagination.tsx">
import * as React from "react"
import { ChevronLeft, ChevronRight, MoreHorizontal } from "lucide-react"

import { cn } from "@/lib/utils"
import { ButtonProps, buttonVariants } from "@/components/ui/button"

const Pagination = ({ className, ...props }: React.ComponentProps<"nav">) => (
  <nav
    role="navigation"
    aria-label="pagination"
    className={cn("mx-auto flex w-full justify-center", className)}
    {...props}
  />
)
Pagination.displayName = "Pagination"

const PaginationContent = React.forwardRef<
  HTMLUListElement,
  React.ComponentProps<"ul">
>(({ className, ...props }, ref) => (
  <ul
    ref={ref}
    className={cn("flex flex-row items-center gap-1", className)}
    {...props}
  />
))
PaginationContent.displayName = "PaginationContent"

const PaginationItem = React.forwardRef<
  HTMLLIElement,
  React.ComponentProps<"li">
>(({ className, ...props }, ref) => (
  <li ref={ref} className={cn("", className)} {...props} />
))
PaginationItem.displayName = "PaginationItem"

type PaginationLinkProps = {
  isActive?: boolean
} & Pick<ButtonProps, "size"> &
  React.ComponentProps<"a">

const PaginationLink = ({
  className,
  isActive,
  size = "icon",
  ...props
}: PaginationLinkProps) => (
  <a
    aria-current={isActive ? "page" : undefined}
    className={cn(
      buttonVariants({
        variant: isActive ? "outline" : "ghost",
        size,
      }),
      className
    )}
    {...props}
  />
)
PaginationLink.displayName = "PaginationLink"

const PaginationPrevious = ({
  className,
  ...props
}: React.ComponentProps<typeof PaginationLink>) => (
  <PaginationLink
    aria-label="Go to previous page"
    size="default"
    className={cn("gap-1 pl-2.5", className)}
    {...props}
  >
    <ChevronLeft className="h-4 w-4" />
    <span>Previous</span>
  </PaginationLink>
)
PaginationPrevious.displayName = "PaginationPrevious"

const PaginationNext = ({
  className,
  ...props
}: React.ComponentProps<typeof PaginationLink>) => (
  <PaginationLink
    aria-label="Go to next page"
    size="default"
    className={cn("gap-1 pr-2.5", className)}
    {...props}
  >
    <span>Next</span>
    <ChevronRight className="h-4 w-4" />
  </PaginationLink>
)
PaginationNext.displayName = "PaginationNext"

const PaginationEllipsis = ({
  className,
  ...props
}: React.ComponentProps<"span">) => (
  <span
    aria-hidden
    className={cn("flex h-9 w-9 items-center justify-center", className)}
    {...props}
  >
    <MoreHorizontal className="h-4 w-4" />
    <span className="sr-only">More pages</span>
  </span>
)
PaginationEllipsis.displayName = "PaginationEllipsis"

export {
  Pagination,
  PaginationContent,
  PaginationEllipsis,
  PaginationItem,
  PaginationLink,
  PaginationNext,
  PaginationPrevious,
}
</file>

<file path="mockup/src/components/ui/popover.tsx">
import * as React from "react"
import * as PopoverPrimitive from "@radix-ui/react-popover"

import { cn } from "@/lib/utils"

const Popover = PopoverPrimitive.Root

const PopoverTrigger = PopoverPrimitive.Trigger

const PopoverContent = React.forwardRef<
  React.ElementRef<typeof PopoverPrimitive.Content>,
  React.ComponentPropsWithoutRef<typeof PopoverPrimitive.Content>
>(({ className, align = "center", sideOffset = 4, ...props }, ref) => (
  <PopoverPrimitive.Portal>
    <PopoverPrimitive.Content
      ref={ref}
      align={align}
      sideOffset={sideOffset}
      className={cn(
        "z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",
        className
      )}
      {...props}
    />
  </PopoverPrimitive.Portal>
))
PopoverContent.displayName = PopoverPrimitive.Content.displayName

export { Popover, PopoverTrigger, PopoverContent }
</file>

<file path="mockup/src/components/ui/progress.tsx">
import * as React from "react"
import * as ProgressPrimitive from "@radix-ui/react-progress"

import { cn } from "@/lib/utils"

const Progress = React.forwardRef<
  React.ElementRef<typeof ProgressPrimitive.Root>,
  React.ComponentPropsWithoutRef<typeof ProgressPrimitive.Root>
>(({ className, value, ...props }, ref) => (
  <ProgressPrimitive.Root
    ref={ref}
    className={cn(
      "relative h-4 w-full overflow-hidden rounded-full bg-secondary",
      className
    )}
    {...props}
  >
    <ProgressPrimitive.Indicator
      className="h-full w-full flex-1 bg-primary transition-all"
      style={{ transform: `translateX(-${100 - (value || 0)}%)` }}
    />
  </ProgressPrimitive.Root>
))
Progress.displayName = ProgressPrimitive.Root.displayName

export { Progress }
</file>

<file path="mockup/src/components/ui/radio-group.tsx">
import * as React from "react"
import * as RadioGroupPrimitive from "@radix-ui/react-radio-group"
import { Circle } from "lucide-react"

import { cn } from "@/lib/utils"

const RadioGroup = React.forwardRef<
  React.ElementRef<typeof RadioGroupPrimitive.Root>,
  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Root>
>(({ className, ...props }, ref) => {
  return (
    <RadioGroupPrimitive.Root
      className={cn("grid gap-2", className)}
      {...props}
      ref={ref}
    />
  )
})
RadioGroup.displayName = RadioGroupPrimitive.Root.displayName

const RadioGroupItem = React.forwardRef<
  React.ElementRef<typeof RadioGroupPrimitive.Item>,
  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Item>
>(({ className, ...props }, ref) => {
  return (
    <RadioGroupPrimitive.Item
      ref={ref}
      className={cn(
        "aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",
        className
      )}
      {...props}
    >
      <RadioGroupPrimitive.Indicator className="flex items-center justify-center">
        <Circle className="h-2.5 w-2.5 fill-current text-current" />
      </RadioGroupPrimitive.Indicator>
    </RadioGroupPrimitive.Item>
  )
})
RadioGroupItem.displayName = RadioGroupPrimitive.Item.displayName

export { RadioGroup, RadioGroupItem }
</file>

<file path="mockup/src/components/ui/resizable.tsx">
import { GripVertical } from "lucide-react"
import * as ResizablePrimitive from "react-resizable-panels"

import { cn } from "@/lib/utils"

const ResizablePanelGroup = ({
  className,
  ...props
}: React.ComponentProps<typeof ResizablePrimitive.PanelGroup>) => (
  <ResizablePrimitive.PanelGroup
    className={cn(
      "flex h-full w-full data-[panel-group-direction=vertical]:flex-col",
      className
    )}
    {...props}
  />
)

const ResizablePanel = ResizablePrimitive.Panel

const ResizableHandle = ({
  withHandle,
  className,
  ...props
}: React.ComponentProps<typeof ResizablePrimitive.PanelResizeHandle> & {
  withHandle?: boolean
}) => (
  <ResizablePrimitive.PanelResizeHandle
    className={cn(
      "relative flex w-px items-center justify-center bg-border after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-1 data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:-translate-y-1/2 data-[panel-group-direction=vertical]:after:translate-x-0 [&[data-panel-group-direction=vertical]>div]:rotate-90",
      className
    )}
    {...props}
  >
    {withHandle && (
      <div className="z-10 flex h-4 w-3 items-center justify-center rounded-sm border bg-border">
        <GripVertical className="h-2.5 w-2.5" />
      </div>
    )}
  </ResizablePrimitive.PanelResizeHandle>
)

export { ResizablePanelGroup, ResizablePanel, ResizableHandle }
</file>

<file path="mockup/src/components/ui/scroll-area.tsx">
import * as React from "react"
import * as ScrollAreaPrimitive from "@radix-ui/react-scroll-area"

import { cn } from "@/lib/utils"

const ScrollArea = React.forwardRef<
  React.ElementRef<typeof ScrollAreaPrimitive.Root>,
  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.Root>
>(({ className, children, ...props }, ref) => (
  <ScrollAreaPrimitive.Root
    ref={ref}
    className={cn("relative overflow-hidden", className)}
    {...props}
  >
    <ScrollAreaPrimitive.Viewport className="h-full w-full rounded-[inherit]">
      {children}
    </ScrollAreaPrimitive.Viewport>
    <ScrollBar />
    <ScrollAreaPrimitive.Corner />
  </ScrollAreaPrimitive.Root>
))
ScrollArea.displayName = ScrollAreaPrimitive.Root.displayName

const ScrollBar = React.forwardRef<
  React.ElementRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>,
  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>
>(({ className, orientation = "vertical", ...props }, ref) => (
  <ScrollAreaPrimitive.ScrollAreaScrollbar
    ref={ref}
    orientation={orientation}
    className={cn(
      "flex touch-none select-none transition-colors",
      orientation === "vertical" &&
        "h-full w-2.5 border-l border-l-transparent p-[1px]",
      orientation === "horizontal" &&
        "h-2.5 flex-col border-t border-t-transparent p-[1px]",
      className
    )}
    {...props}
  >
    <ScrollAreaPrimitive.ScrollAreaThumb className="relative flex-1 rounded-full bg-border" />
  </ScrollAreaPrimitive.ScrollAreaScrollbar>
))
ScrollBar.displayName = ScrollAreaPrimitive.ScrollAreaScrollbar.displayName

export { ScrollArea, ScrollBar }
</file>

<file path="mockup/src/components/ui/select.tsx">
import * as React from "react"
import * as SelectPrimitive from "@radix-ui/react-select"
import { Check, ChevronDown, ChevronUp } from "lucide-react"

import { cn } from "@/lib/utils"

const Select = SelectPrimitive.Root

const SelectGroup = SelectPrimitive.Group

const SelectValue = SelectPrimitive.Value

const SelectTrigger = React.forwardRef<
  React.ElementRef<typeof SelectPrimitive.Trigger>,
  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Trigger>
>(({ className, children, ...props }, ref) => (
  <SelectPrimitive.Trigger
    ref={ref}
    className={cn(
      "flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",
      className
    )}
    {...props}
  >
    {children}
    <SelectPrimitive.Icon asChild>
      <ChevronDown className="h-4 w-4 opacity-50" />
    </SelectPrimitive.Icon>
  </SelectPrimitive.Trigger>
))
SelectTrigger.displayName = SelectPrimitive.Trigger.displayName

const SelectScrollUpButton = React.forwardRef<
  React.ElementRef<typeof SelectPrimitive.ScrollUpButton>,
  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollUpButton>
>(({ className, ...props }, ref) => (
  <SelectPrimitive.ScrollUpButton
    ref={ref}
    className={cn(
      "flex cursor-default items-center justify-center py-1",
      className
    )}
    {...props}
  >
    <ChevronUp className="h-4 w-4" />
  </SelectPrimitive.ScrollUpButton>
))
SelectScrollUpButton.displayName = SelectPrimitive.ScrollUpButton.displayName

const SelectScrollDownButton = React.forwardRef<
  React.ElementRef<typeof SelectPrimitive.ScrollDownButton>,
  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollDownButton>
>(({ className, ...props }, ref) => (
  <SelectPrimitive.ScrollDownButton
    ref={ref}
    className={cn(
      "flex cursor-default items-center justify-center py-1",
      className
    )}
    {...props}
  >
    <ChevronDown className="h-4 w-4" />
  </SelectPrimitive.ScrollDownButton>
))
SelectScrollDownButton.displayName =
  SelectPrimitive.ScrollDownButton.displayName

const SelectContent = React.forwardRef<
  React.ElementRef<typeof SelectPrimitive.Content>,
  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Content>
>(({ className, children, position = "popper", ...props }, ref) => (
  <SelectPrimitive.Portal>
    <SelectPrimitive.Content
      ref={ref}
      className={cn(
        "relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",
        position === "popper" &&
          "data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",
        className
      )}
      position={position}
      {...props}
    >
      <SelectScrollUpButton />
      <SelectPrimitive.Viewport
        className={cn(
          "p-1",
          position === "popper" &&
            "h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"
        )}
      >
        {children}
      </SelectPrimitive.Viewport>
      <SelectScrollDownButton />
    </SelectPrimitive.Content>
  </SelectPrimitive.Portal>
))
SelectContent.displayName = SelectPrimitive.Content.displayName

const SelectLabel = React.forwardRef<
  React.ElementRef<typeof SelectPrimitive.Label>,
  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Label>
>(({ className, ...props }, ref) => (
  <SelectPrimitive.Label
    ref={ref}
    className={cn("py-1.5 pl-8 pr-2 text-sm font-semibold", className)}
    {...props}
  />
))
SelectLabel.displayName = SelectPrimitive.Label.displayName

const SelectItem = React.forwardRef<
  React.ElementRef<typeof SelectPrimitive.Item>,
  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Item>
>(({ className, children, ...props }, ref) => (
  <SelectPrimitive.Item
    ref={ref}
    className={cn(
      "relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",
      className
    )}
    {...props}
  >
    <span className="absolute left-2 flex h-3.5 w-3.5 items-center justify-center">
      <SelectPrimitive.ItemIndicator>
        <Check className="h-4 w-4" />
      </SelectPrimitive.ItemIndicator>
    </span>

    <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>
  </SelectPrimitive.Item>
))
SelectItem.displayName = SelectPrimitive.Item.displayName

const SelectSeparator = React.forwardRef<
  React.ElementRef<typeof SelectPrimitive.Separator>,
  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Separator>
>(({ className, ...props }, ref) => (
  <SelectPrimitive.Separator
    ref={ref}
    className={cn("-mx-1 my-1 h-px bg-muted", className)}
    {...props}
  />
))
SelectSeparator.displayName = SelectPrimitive.Separator.displayName

export {
  Select,
  SelectGroup,
  SelectValue,
  SelectTrigger,
  SelectContent,
  SelectLabel,
  SelectItem,
  SelectSeparator,
  SelectScrollUpButton,
  SelectScrollDownButton,
}
</file>

<file path="mockup/src/components/ui/separator.tsx">
import * as React from "react"
import * as SeparatorPrimitive from "@radix-ui/react-separator"

import { cn } from "@/lib/utils"

const Separator = React.forwardRef<
  React.ElementRef<typeof SeparatorPrimitive.Root>,
  React.ComponentPropsWithoutRef<typeof SeparatorPrimitive.Root>
>(
  (
    { className, orientation = "horizontal", decorative = true, ...props },
    ref
  ) => (
    <SeparatorPrimitive.Root
      ref={ref}
      decorative={decorative}
      orientation={orientation}
      className={cn(
        "shrink-0 bg-border",
        orientation === "horizontal" ? "h-[1px] w-full" : "h-full w-[1px]",
        className
      )}
      {...props}
    />
  )
)
Separator.displayName = SeparatorPrimitive.Root.displayName

export { Separator }
</file>

<file path="mockup/src/components/ui/sheet.tsx">
import * as SheetPrimitive from "@radix-ui/react-dialog"
import { cva, type VariantProps } from "class-variance-authority"
import { X } from "lucide-react"
import * as React from "react"

import { cn } from "@/lib/utils"

const Sheet = SheetPrimitive.Root

const SheetTrigger = SheetPrimitive.Trigger

const SheetClose = SheetPrimitive.Close

const SheetPortal = SheetPrimitive.Portal

const SheetOverlay = React.forwardRef<
  React.ElementRef<typeof SheetPrimitive.Overlay>,
  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Overlay>
>(({ className, ...props }, ref) => (
  <SheetPrimitive.Overlay
    className={cn(
      "fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",
      className
    )}
    {...props}
    ref={ref}
  />
))
SheetOverlay.displayName = SheetPrimitive.Overlay.displayName

const sheetVariants = cva(
  "fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",
  {
    variants: {
      side: {
        top: "inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",
        bottom:
          "inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",
        left: "inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",
        right:
          "inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm",
      },
    },
    defaultVariants: {
      side: "right",
    },
  }
)

interface SheetContentProps
  extends React.ComponentPropsWithoutRef<typeof SheetPrimitive.Content>,
  VariantProps<typeof sheetVariants> { }

const SheetContent = React.forwardRef<
  React.ElementRef<typeof SheetPrimitive.Content>,
  SheetContentProps
>(({ side = "right", className, children, ...props }, ref) => (
  <SheetPortal>
    <SheetOverlay />
    <SheetPrimitive.Content
      ref={ref}
      className={cn(sheetVariants({ side }), className)}
      {...props}
    >
      {children}
      <SheetPrimitive.Close className="absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary">
        <X className="h-4 w-4" />
        <span className="sr-only">Close</span>
      </SheetPrimitive.Close>
    </SheetPrimitive.Content>
  </SheetPortal>
))
SheetContent.displayName = SheetPrimitive.Content.displayName

const SheetHeader = ({
  className,
  ...props
}: React.HTMLAttributes<HTMLDivElement>) => (
  <div
    className={cn(
      "flex flex-col space-y-2 text-center sm:text-left",
      className
    )}
    {...props}
  />
)
SheetHeader.displayName = "SheetHeader"

const SheetFooter = ({
  className,
  ...props
}: React.HTMLAttributes<HTMLDivElement>) => (
  <div
    className={cn(
      "flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",
      className
    )}
    {...props}
  />
)
SheetFooter.displayName = "SheetFooter"

const SheetTitle = React.forwardRef<
  React.ElementRef<typeof SheetPrimitive.Title>,
  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Title>
>(({ className, ...props }, ref) => (
  <SheetPrimitive.Title
    ref={ref}
    className={cn("text-lg font-semibold text-foreground", className)}
    {...props}
  />
))
SheetTitle.displayName = SheetPrimitive.Title.displayName

const SheetDescription = React.forwardRef<
  React.ElementRef<typeof SheetPrimitive.Description>,
  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Description>
>(({ className, ...props }, ref) => (
  <SheetPrimitive.Description
    ref={ref}
    className={cn("text-sm text-muted-foreground", className)}
    {...props}
  />
))
SheetDescription.displayName = SheetPrimitive.Description.displayName

export {
  Sheet, SheetClose,
  SheetContent, SheetDescription, SheetFooter, SheetHeader, SheetOverlay, SheetPortal, SheetTitle, SheetTrigger
}
</file>

<file path="mockup/src/components/ui/sidebar.tsx">
import * as React from "react"
import { Slot } from "@radix-ui/react-slot"
import { VariantProps, cva } from "class-variance-authority"
import { PanelLeft } from "lucide-react"

import { useIsMobile } from "@/hooks/use-mobile"
import { cn } from "@/lib/utils"
import { Button } from "@/components/ui/button"
import { Input } from "@/components/ui/input"
import { Separator } from "@/components/ui/separator"
import { Sheet, SheetContent } from "@/components/ui/sheet"
import { Skeleton } from "@/components/ui/skeleton"
import {
  Tooltip,
  TooltipContent,
  TooltipProvider,
  TooltipTrigger,
} from "@/components/ui/tooltip"

const SIDEBAR_COOKIE_NAME = "sidebar:state"
const SIDEBAR_COOKIE_MAX_AGE = 60 * 60 * 24 * 7
const SIDEBAR_WIDTH = "16rem"
const SIDEBAR_WIDTH_MOBILE = "18rem"
const SIDEBAR_WIDTH_ICON = "3rem"
const SIDEBAR_KEYBOARD_SHORTCUT = "b"

type SidebarContext = {
  state: "expanded" | "collapsed"
  open: boolean
  setOpen: (open: boolean) => void
  openMobile: boolean
  setOpenMobile: (open: boolean) => void
  isMobile: boolean
  toggleSidebar: () => void
}

const SidebarContext = React.createContext<SidebarContext | null>(null)

function useSidebar() {
  const context = React.useContext(SidebarContext)
  if (!context) {
    throw new Error("useSidebar must be used within a SidebarProvider.")
  }

  return context
}

const SidebarProvider = React.forwardRef<
  HTMLDivElement,
  React.ComponentProps<"div"> & {
    defaultOpen?: boolean
    open?: boolean
    onOpenChange?: (open: boolean) => void
  }
>(
  (
    {
      defaultOpen = true,
      open: openProp,
      onOpenChange: setOpenProp,
      className,
      style,
      children,
      ...props
    },
    ref
  ) => {
    const isMobile = useIsMobile()
    const [openMobile, setOpenMobile] = React.useState(false)

    // This is the internal state of the sidebar.
    // We use openProp and setOpenProp for control from outside the component.
    const [_open, _setOpen] = React.useState(defaultOpen)
    const open = openProp ?? _open
    const setOpen = React.useCallback(
      (value: boolean | ((value: boolean) => boolean)) => {
        const openState = typeof value === "function" ? value(open) : value
        if (setOpenProp) {
          setOpenProp(openState)
        } else {
          _setOpen(openState)
        }

        // This sets the cookie to keep the sidebar state.
        document.cookie = `${SIDEBAR_COOKIE_NAME}=${openState}; path=/; max-age=${SIDEBAR_COOKIE_MAX_AGE}`
      },
      [setOpenProp, open]
    )

    // Helper to toggle the sidebar.
    const toggleSidebar = React.useCallback(() => {
      return isMobile
        ? setOpenMobile((open) => !open)
        : setOpen((open) => !open)
    }, [isMobile, setOpen, setOpenMobile])

    // Adds a keyboard shortcut to toggle the sidebar.
    React.useEffect(() => {
      const handleKeyDown = (event: KeyboardEvent) => {
        if (
          event.key === SIDEBAR_KEYBOARD_SHORTCUT &&
          (event.metaKey || event.ctrlKey)
        ) {
          event.preventDefault()
          toggleSidebar()
        }
      }

      window.addEventListener("keydown", handleKeyDown)
      return () => window.removeEventListener("keydown", handleKeyDown)
    }, [toggleSidebar])

    // We add a state so that we can do data-state="expanded" or "collapsed".
    // This makes it easier to style the sidebar with Tailwind classes.
    const state = open ? "expanded" : "collapsed"

    const contextValue = React.useMemo<SidebarContext>(
      () => ({
        state,
        open,
        setOpen,
        isMobile,
        openMobile,
        setOpenMobile,
        toggleSidebar,
      }),
      [state, open, setOpen, isMobile, openMobile, setOpenMobile, toggleSidebar]
    )

    return (
      <SidebarContext.Provider value={contextValue}>
        <TooltipProvider delayDuration={0}>
          <div
            style={
              {
                "--sidebar-width": SIDEBAR_WIDTH,
                "--sidebar-width-icon": SIDEBAR_WIDTH_ICON,
                ...style,
              } as React.CSSProperties
            }
            className={cn(
              "group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",
              className
            )}
            ref={ref}
            {...props}
          >
            {children}
          </div>
        </TooltipProvider>
      </SidebarContext.Provider>
    )
  }
)
SidebarProvider.displayName = "SidebarProvider"

const Sidebar = React.forwardRef<
  HTMLDivElement,
  React.ComponentProps<"div"> & {
    side?: "left" | "right"
    variant?: "sidebar" | "floating" | "inset"
    collapsible?: "offcanvas" | "icon" | "none"
  }
>(
  (
    {
      side = "left",
      variant = "sidebar",
      collapsible = "offcanvas",
      className,
      children,
      ...props
    },
    ref
  ) => {
    const { isMobile, state, openMobile, setOpenMobile } = useSidebar()

    if (collapsible === "none") {
      return (
        <div
          className={cn(
            "flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",
            className
          )}
          ref={ref}
          {...props}
        >
          {children}
        </div>
      )
    }

    if (isMobile) {
      return (
        <Sheet open={openMobile} onOpenChange={setOpenMobile} {...props}>
          <SheetContent
            data-sidebar="sidebar"
            data-mobile="true"
            className="w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden"
            style={
              {
                "--sidebar-width": SIDEBAR_WIDTH_MOBILE,
              } as React.CSSProperties
            }
            side={side}
          >
            <div className="flex h-full w-full flex-col">{children}</div>
          </SheetContent>
        </Sheet>
      )
    }

    return (
      <div
        ref={ref}
        className="group peer hidden md:block text-sidebar-foreground"
        data-state={state}
        data-collapsible={state === "collapsed" ? collapsible : ""}
        data-variant={variant}
        data-side={side}
      >
        {/* This is what handles the sidebar gap on desktop */}
        <div
          className={cn(
            "duration-200 relative h-svh w-[--sidebar-width] bg-transparent transition-[width] ease-linear",
            "group-data-[collapsible=offcanvas]:w-0",
            "group-data-[side=right]:rotate-180",
            variant === "floating" || variant === "inset"
              ? "group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]"
              : "group-data-[collapsible=icon]:w-[--sidebar-width-icon]"
          )}
        />
        <div
          className={cn(
            "duration-200 fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] ease-linear md:flex",
            side === "left"
              ? "left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]"
              : "right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",
            // Adjust the padding for floating and inset variants.
            variant === "floating" || variant === "inset"
              ? "p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]"
              : "group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",
            className
          )}
          {...props}
        >
          <div
            data-sidebar="sidebar"
            className="flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow"
          >
            {children}
          </div>
        </div>
      </div>
    )
  }
)
Sidebar.displayName = "Sidebar"

const SidebarTrigger = React.forwardRef<
  React.ElementRef<typeof Button>,
  React.ComponentProps<typeof Button>
>(({ className, onClick, ...props }, ref) => {
  const { toggleSidebar } = useSidebar()

  return (
    <Button
      ref={ref}
      data-sidebar="trigger"
      variant="ghost"
      size="icon"
      className={cn("h-7 w-7", className)}
      onClick={(event) => {
        onClick?.(event)
        toggleSidebar()
      }}
      {...props}
    >
      <PanelLeft />
      <span className="sr-only">Toggle Sidebar</span>
    </Button>
  )
})
SidebarTrigger.displayName = "SidebarTrigger"

const SidebarRail = React.forwardRef<
  HTMLButtonElement,
  React.ComponentProps<"button">
>(({ className, ...props }, ref) => {
  const { toggleSidebar } = useSidebar()

  return (
    <button
      ref={ref}
      data-sidebar="rail"
      aria-label="Toggle Sidebar"
      tabIndex={-1}
      onClick={toggleSidebar}
      title="Toggle Sidebar"
      className={cn(
        "absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex",
        "[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize",
        "[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize",
        "group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar",
        "[[data-side=left][data-collapsible=offcanvas]_&]:-right-2",
        "[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",
        className
      )}
      {...props}
    />
  )
})
SidebarRail.displayName = "SidebarRail"

const SidebarInset = React.forwardRef<
  HTMLDivElement,
  React.ComponentProps<"main">
>(({ className, ...props }, ref) => {
  return (
    <main
      ref={ref}
      className={cn(
        "relative flex min-h-svh flex-1 flex-col bg-background",
        "peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",
        className
      )}
      {...props}
    />
  )
})
SidebarInset.displayName = "SidebarInset"

const SidebarInput = React.forwardRef<
  React.ElementRef<typeof Input>,
  React.ComponentProps<typeof Input>
>(({ className, ...props }, ref) => {
  return (
    <Input
      ref={ref}
      data-sidebar="input"
      className={cn(
        "h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",
        className
      )}
      {...props}
    />
  )
})
SidebarInput.displayName = "SidebarInput"

const SidebarHeader = React.forwardRef<
  HTMLDivElement,
  React.ComponentProps<"div">
>(({ className, ...props }, ref) => {
  return (
    <div
      ref={ref}
      data-sidebar="header"
      className={cn("flex flex-col gap-2 p-2", className)}
      {...props}
    />
  )
})
SidebarHeader.displayName = "SidebarHeader"

const SidebarFooter = React.forwardRef<
  HTMLDivElement,
  React.ComponentProps<"div">
>(({ className, ...props }, ref) => {
  return (
    <div
      ref={ref}
      data-sidebar="footer"
      className={cn("flex flex-col gap-2 p-2", className)}
      {...props}
    />
  )
})
SidebarFooter.displayName = "SidebarFooter"

const SidebarSeparator = React.forwardRef<
  React.ElementRef<typeof Separator>,
  React.ComponentProps<typeof Separator>
>(({ className, ...props }, ref) => {
  return (
    <Separator
      ref={ref}
      data-sidebar="separator"
      className={cn("mx-2 w-auto bg-sidebar-border", className)}
      {...props}
    />
  )
})
SidebarSeparator.displayName = "SidebarSeparator"

const SidebarContent = React.forwardRef<
  HTMLDivElement,
  React.ComponentProps<"div">
>(({ className, ...props }, ref) => {
  return (
    <div
      ref={ref}
      data-sidebar="content"
      className={cn(
        "flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",
        className
      )}
      {...props}
    />
  )
})
SidebarContent.displayName = "SidebarContent"

const SidebarGroup = React.forwardRef<
  HTMLDivElement,
  React.ComponentProps<"div">
>(({ className, ...props }, ref) => {
  return (
    <div
      ref={ref}
      data-sidebar="group"
      className={cn("relative flex w-full min-w-0 flex-col p-2", className)}
      {...props}
    />
  )
})
SidebarGroup.displayName = "SidebarGroup"

const SidebarGroupLabel = React.forwardRef<
  HTMLDivElement,
  React.ComponentProps<"div"> & { asChild?: boolean }
>(({ className, asChild = false, ...props }, ref) => {
  const Comp = asChild ? Slot : "div"

  return (
    <Comp
      ref={ref}
      data-sidebar="group-label"
      className={cn(
        "duration-200 flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0",
        "group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",
        className
      )}
      {...props}
    />
  )
})
SidebarGroupLabel.displayName = "SidebarGroupLabel"

const SidebarGroupAction = React.forwardRef<
  HTMLButtonElement,
  React.ComponentProps<"button"> & { asChild?: boolean }
>(({ className, asChild = false, ...props }, ref) => {
  const Comp = asChild ? Slot : "button"

  return (
    <Comp
      ref={ref}
      data-sidebar="group-action"
      className={cn(
        "absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0",
        // Increases the hit area of the button on mobile.
        "after:absolute after:-inset-2 after:md:hidden",
        "group-data-[collapsible=icon]:hidden",
        className
      )}
      {...props}
    />
  )
})
SidebarGroupAction.displayName = "SidebarGroupAction"

const SidebarGroupContent = React.forwardRef<
  HTMLDivElement,
  React.ComponentProps<"div">
>(({ className, ...props }, ref) => (
  <div
    ref={ref}
    data-sidebar="group-content"
    className={cn("w-full text-sm", className)}
    {...props}
  />
))
SidebarGroupContent.displayName = "SidebarGroupContent"

const SidebarMenu = React.forwardRef<
  HTMLUListElement,
  React.ComponentProps<"ul">
>(({ className, ...props }, ref) => (
  <ul
    ref={ref}
    data-sidebar="menu"
    className={cn("flex w-full min-w-0 flex-col gap-1", className)}
    {...props}
  />
))
SidebarMenu.displayName = "SidebarMenu"

const SidebarMenuItem = React.forwardRef<
  HTMLLIElement,
  React.ComponentProps<"li">
>(({ className, ...props }, ref) => (
  <li
    ref={ref}
    data-sidebar="menu-item"
    className={cn("group/menu-item relative", className)}
    {...props}
  />
))
SidebarMenuItem.displayName = "SidebarMenuItem"

const sidebarMenuButtonVariants = cva(
  "peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",
  {
    variants: {
      variant: {
        default: "hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",
        outline:
          "bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]",
      },
      size: {
        default: "h-8 text-sm",
        sm: "h-7 text-xs",
        lg: "h-12 text-sm group-data-[collapsible=icon]:!p-0",
      },
    },
    defaultVariants: {
      variant: "default",
      size: "default",
    },
  }
)

const SidebarMenuButton = React.forwardRef<
  HTMLButtonElement,
  React.ComponentProps<"button"> & {
    asChild?: boolean
    isActive?: boolean
    tooltip?: string | React.ComponentProps<typeof TooltipContent>
  } & VariantProps<typeof sidebarMenuButtonVariants>
>(
  (
    {
      asChild = false,
      isActive = false,
      variant = "default",
      size = "default",
      tooltip,
      className,
      ...props
    },
    ref
  ) => {
    const Comp = asChild ? Slot : "button"
    const { isMobile, state } = useSidebar()

    const button = (
      <Comp
        ref={ref}
        data-sidebar="menu-button"
        data-size={size}
        data-active={isActive}
        className={cn(sidebarMenuButtonVariants({ variant, size }), className)}
        {...props}
      />
    )

    if (!tooltip) {
      return button
    }

    if (typeof tooltip === "string") {
      tooltip = {
        children: tooltip,
      }
    }

    return (
      <Tooltip>
        <TooltipTrigger asChild>{button}</TooltipTrigger>
        <TooltipContent
          side="right"
          align="center"
          hidden={state !== "collapsed" || isMobile}
          {...tooltip}
        />
      </Tooltip>
    )
  }
)
SidebarMenuButton.displayName = "SidebarMenuButton"

const SidebarMenuAction = React.forwardRef<
  HTMLButtonElement,
  React.ComponentProps<"button"> & {
    asChild?: boolean
    showOnHover?: boolean
  }
>(({ className, asChild = false, showOnHover = false, ...props }, ref) => {
  const Comp = asChild ? Slot : "button"

  return (
    <Comp
      ref={ref}
      data-sidebar="menu-action"
      className={cn(
        "absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0",
        // Increases the hit area of the button on mobile.
        "after:absolute after:-inset-2 after:md:hidden",
        "peer-data-[size=sm]/menu-button:top-1",
        "peer-data-[size=default]/menu-button:top-1.5",
        "peer-data-[size=lg]/menu-button:top-2.5",
        "group-data-[collapsible=icon]:hidden",
        showOnHover &&
          "group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",
        className
      )}
      {...props}
    />
  )
})
SidebarMenuAction.displayName = "SidebarMenuAction"

const SidebarMenuBadge = React.forwardRef<
  HTMLDivElement,
  React.ComponentProps<"div">
>(({ className, ...props }, ref) => (
  <div
    ref={ref}
    data-sidebar="menu-badge"
    className={cn(
      "absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground select-none pointer-events-none",
      "peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground",
      "peer-data-[size=sm]/menu-button:top-1",
      "peer-data-[size=default]/menu-button:top-1.5",
      "peer-data-[size=lg]/menu-button:top-2.5",
      "group-data-[collapsible=icon]:hidden",
      className
    )}
    {...props}
  />
))
SidebarMenuBadge.displayName = "SidebarMenuBadge"

const SidebarMenuSkeleton = React.forwardRef<
  HTMLDivElement,
  React.ComponentProps<"div"> & {
    showIcon?: boolean
  }
>(({ className, showIcon = false, ...props }, ref) => {
  // Random width between 50 to 90%.
  const width = React.useMemo(() => {
    return `${Math.floor(Math.random() * 40) + 50}%`
  }, [])

  return (
    <div
      ref={ref}
      data-sidebar="menu-skeleton"
      className={cn("rounded-md h-8 flex gap-2 px-2 items-center", className)}
      {...props}
    >
      {showIcon && (
        <Skeleton
          className="size-4 rounded-md"
          data-sidebar="menu-skeleton-icon"
        />
      )}
      <Skeleton
        className="h-4 flex-1 max-w-[--skeleton-width]"
        data-sidebar="menu-skeleton-text"
        style={
          {
            "--skeleton-width": width,
          } as React.CSSProperties
        }
      />
    </div>
  )
})
SidebarMenuSkeleton.displayName = "SidebarMenuSkeleton"

const SidebarMenuSub = React.forwardRef<
  HTMLUListElement,
  React.ComponentProps<"ul">
>(({ className, ...props }, ref) => (
  <ul
    ref={ref}
    data-sidebar="menu-sub"
    className={cn(
      "mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5",
      "group-data-[collapsible=icon]:hidden",
      className
    )}
    {...props}
  />
))
SidebarMenuSub.displayName = "SidebarMenuSub"

const SidebarMenuSubItem = React.forwardRef<
  HTMLLIElement,
  React.ComponentProps<"li">
>(({ ...props }, ref) => <li ref={ref} {...props} />)
SidebarMenuSubItem.displayName = "SidebarMenuSubItem"

const SidebarMenuSubButton = React.forwardRef<
  HTMLAnchorElement,
  React.ComponentProps<"a"> & {
    asChild?: boolean
    size?: "sm" | "md"
    isActive?: boolean
  }
>(({ asChild = false, size = "md", isActive, className, ...props }, ref) => {
  const Comp = asChild ? Slot : "a"

  return (
    <Comp
      ref={ref}
      data-sidebar="menu-sub-button"
      data-size={size}
      data-active={isActive}
      className={cn(
        "flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground",
        "data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",
        size === "sm" && "text-xs",
        size === "md" && "text-sm",
        "group-data-[collapsible=icon]:hidden",
        className
      )}
      {...props}
    />
  )
})
SidebarMenuSubButton.displayName = "SidebarMenuSubButton"

export {
  Sidebar,
  SidebarContent,
  SidebarFooter,
  SidebarGroup,
  SidebarGroupAction,
  SidebarGroupContent,
  SidebarGroupLabel,
  SidebarHeader,
  SidebarInput,
  SidebarInset,
  SidebarMenu,
  SidebarMenuAction,
  SidebarMenuBadge,
  SidebarMenuButton,
  SidebarMenuItem,
  SidebarMenuSkeleton,
  SidebarMenuSub,
  SidebarMenuSubButton,
  SidebarMenuSubItem,
  SidebarProvider,
  SidebarRail,
  SidebarSeparator,
  SidebarTrigger,
  useSidebar,
}
</file>

<file path="mockup/src/components/ui/skeleton.tsx">
import { cn } from "@/lib/utils"

function Skeleton({
  className,
  ...props
}: React.HTMLAttributes<HTMLDivElement>) {
  return (
    <div
      className={cn("animate-pulse rounded-md bg-muted", className)}
      {...props}
    />
  )
}

export { Skeleton }
</file>

<file path="mockup/src/components/ui/slider.tsx">
import * as React from "react"
import * as SliderPrimitive from "@radix-ui/react-slider"

import { cn } from "@/lib/utils"

const Slider = React.forwardRef<
  React.ElementRef<typeof SliderPrimitive.Root>,
  React.ComponentPropsWithoutRef<typeof SliderPrimitive.Root>
>(({ className, ...props }, ref) => (
  <SliderPrimitive.Root
    ref={ref}
    className={cn(
      "relative flex w-full touch-none select-none items-center",
      className
    )}
    {...props}
  >
    <SliderPrimitive.Track className="relative h-2 w-full grow overflow-hidden rounded-full bg-secondary">
      <SliderPrimitive.Range className="absolute h-full bg-primary" />
    </SliderPrimitive.Track>
    <SliderPrimitive.Thumb className="block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50" />
  </SliderPrimitive.Root>
))
Slider.displayName = SliderPrimitive.Root.displayName

export { Slider }
</file>

<file path="mockup/src/components/ui/sonner.tsx">
import { useTheme } from "next-themes"
import { Toaster as Sonner, toast } from "sonner"

type ToasterProps = React.ComponentProps<typeof Sonner>

const Toaster = ({ ...props }: ToasterProps) => {
  const { theme = "system" } = useTheme()

  return (
    <Sonner
      theme={theme as ToasterProps["theme"]}
      className="toaster group"
      toastOptions={{
        classNames: {
          toast:
            "group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",
          description: "group-[.toast]:text-muted-foreground",
          actionButton:
            "group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",
          cancelButton:
            "group-[.toast]:bg-muted group-[.toast]:text-muted-foreground",
        },
      }}
      {...props}
    />
  )
}

export { Toaster, toast }
</file>

<file path="mockup/src/components/ui/switch.tsx">
import * as React from "react"
import * as SwitchPrimitives from "@radix-ui/react-switch"

import { cn } from "@/lib/utils"

const Switch = React.forwardRef<
  React.ElementRef<typeof SwitchPrimitives.Root>,
  React.ComponentPropsWithoutRef<typeof SwitchPrimitives.Root>
>(({ className, ...props }, ref) => (
  <SwitchPrimitives.Root
    className={cn(
      "peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",
      className
    )}
    {...props}
    ref={ref}
  >
    <SwitchPrimitives.Thumb
      className={cn(
        "pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0"
      )}
    />
  </SwitchPrimitives.Root>
))
Switch.displayName = SwitchPrimitives.Root.displayName

export { Switch }
</file>

<file path="mockup/src/components/ui/table.tsx">
import * as React from "react"

import { cn } from "@/lib/utils"

const Table = React.forwardRef<
  HTMLTableElement,
  React.HTMLAttributes<HTMLTableElement>
>(({ className, ...props }, ref) => (
  <div className="relative w-full overflow-auto">
    <table
      ref={ref}
      className={cn("w-full caption-bottom text-sm", className)}
      {...props}
    />
  </div>
))
Table.displayName = "Table"

const TableHeader = React.forwardRef<
  HTMLTableSectionElement,
  React.HTMLAttributes<HTMLTableSectionElement>
>(({ className, ...props }, ref) => (
  <thead ref={ref} className={cn("[&_tr]:border-b", className)} {...props} />
))
TableHeader.displayName = "TableHeader"

const TableBody = React.forwardRef<
  HTMLTableSectionElement,
  React.HTMLAttributes<HTMLTableSectionElement>
>(({ className, ...props }, ref) => (
  <tbody
    ref={ref}
    className={cn("[&_tr:last-child]:border-0", className)}
    {...props}
  />
))
TableBody.displayName = "TableBody"

const TableFooter = React.forwardRef<
  HTMLTableSectionElement,
  React.HTMLAttributes<HTMLTableSectionElement>
>(({ className, ...props }, ref) => (
  <tfoot
    ref={ref}
    className={cn(
      "border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",
      className
    )}
    {...props}
  />
))
TableFooter.displayName = "TableFooter"

const TableRow = React.forwardRef<
  HTMLTableRowElement,
  React.HTMLAttributes<HTMLTableRowElement>
>(({ className, ...props }, ref) => (
  <tr
    ref={ref}
    className={cn(
      "border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",
      className
    )}
    {...props}
  />
))
TableRow.displayName = "TableRow"

const TableHead = React.forwardRef<
  HTMLTableCellElement,
  React.ThHTMLAttributes<HTMLTableCellElement>
>(({ className, ...props }, ref) => (
  <th
    ref={ref}
    className={cn(
      "h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",
      className
    )}
    {...props}
  />
))
TableHead.displayName = "TableHead"

const TableCell = React.forwardRef<
  HTMLTableCellElement,
  React.TdHTMLAttributes<HTMLTableCellElement>
>(({ className, ...props }, ref) => (
  <td
    ref={ref}
    className={cn("p-4 align-middle [&:has([role=checkbox])]:pr-0", className)}
    {...props}
  />
))
TableCell.displayName = "TableCell"

const TableCaption = React.forwardRef<
  HTMLTableCaptionElement,
  React.HTMLAttributes<HTMLTableCaptionElement>
>(({ className, ...props }, ref) => (
  <caption
    ref={ref}
    className={cn("mt-4 text-sm text-muted-foreground", className)}
    {...props}
  />
))
TableCaption.displayName = "TableCaption"

export {
  Table,
  TableHeader,
  TableBody,
  TableFooter,
  TableHead,
  TableRow,
  TableCell,
  TableCaption,
}
</file>

<file path="mockup/src/components/ui/tabs.tsx">
import * as React from "react"
import * as TabsPrimitive from "@radix-ui/react-tabs"

import { cn } from "@/lib/utils"

const Tabs = TabsPrimitive.Root

const TabsList = React.forwardRef<
  React.ElementRef<typeof TabsPrimitive.List>,
  React.ComponentPropsWithoutRef<typeof TabsPrimitive.List>
>(({ className, ...props }, ref) => (
  <TabsPrimitive.List
    ref={ref}
    className={cn(
      "inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",
      className
    )}
    {...props}
  />
))
TabsList.displayName = TabsPrimitive.List.displayName

const TabsTrigger = React.forwardRef<
  React.ElementRef<typeof TabsPrimitive.Trigger>,
  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Trigger>
>(({ className, ...props }, ref) => (
  <TabsPrimitive.Trigger
    ref={ref}
    className={cn(
      "inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",
      className
    )}
    {...props}
  />
))
TabsTrigger.displayName = TabsPrimitive.Trigger.displayName

const TabsContent = React.forwardRef<
  React.ElementRef<typeof TabsPrimitive.Content>,
  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Content>
>(({ className, ...props }, ref) => (
  <TabsPrimitive.Content
    ref={ref}
    className={cn(
      "mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",
      className
    )}
    {...props}
  />
))
TabsContent.displayName = TabsPrimitive.Content.displayName

export { Tabs, TabsList, TabsTrigger, TabsContent }
</file>

<file path="mockup/src/components/ui/textarea.tsx">
import * as React from "react"

import { cn } from "@/lib/utils"

export interface TextareaProps
  extends React.TextareaHTMLAttributes<HTMLTextAreaElement> {}

const Textarea = React.forwardRef<HTMLTextAreaElement, TextareaProps>(
  ({ className, ...props }, ref) => {
    return (
      <textarea
        className={cn(
          "flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",
          className
        )}
        ref={ref}
        {...props}
      />
    )
  }
)
Textarea.displayName = "Textarea"

export { Textarea }
</file>

<file path="mockup/src/components/ui/toast.tsx">
import * as React from "react"
import * as ToastPrimitives from "@radix-ui/react-toast"
import { cva, type VariantProps } from "class-variance-authority"
import { X } from "lucide-react"

import { cn } from "@/lib/utils"

const ToastProvider = ToastPrimitives.Provider

const ToastViewport = React.forwardRef<
  React.ElementRef<typeof ToastPrimitives.Viewport>,
  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Viewport>
>(({ className, ...props }, ref) => (
  <ToastPrimitives.Viewport
    ref={ref}
    className={cn(
      "fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",
      className
    )}
    {...props}
  />
))
ToastViewport.displayName = ToastPrimitives.Viewport.displayName

const toastVariants = cva(
  "group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",
  {
    variants: {
      variant: {
        default: "border bg-background text-foreground",
        destructive:
          "destructive group border-destructive bg-destructive text-destructive-foreground",
      },
    },
    defaultVariants: {
      variant: "default",
    },
  }
)

const Toast = React.forwardRef<
  React.ElementRef<typeof ToastPrimitives.Root>,
  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Root> &
    VariantProps<typeof toastVariants>
>(({ className, variant, ...props }, ref) => {
  return (
    <ToastPrimitives.Root
      ref={ref}
      className={cn(toastVariants({ variant }), className)}
      {...props}
    />
  )
})
Toast.displayName = ToastPrimitives.Root.displayName

const ToastAction = React.forwardRef<
  React.ElementRef<typeof ToastPrimitives.Action>,
  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Action>
>(({ className, ...props }, ref) => (
  <ToastPrimitives.Action
    ref={ref}
    className={cn(
      "inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",
      className
    )}
    {...props}
  />
))
ToastAction.displayName = ToastPrimitives.Action.displayName

const ToastClose = React.forwardRef<
  React.ElementRef<typeof ToastPrimitives.Close>,
  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Close>
>(({ className, ...props }, ref) => (
  <ToastPrimitives.Close
    ref={ref}
    className={cn(
      "absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",
      className
    )}
    toast-close=""
    {...props}
  >
    <X className="h-4 w-4" />
  </ToastPrimitives.Close>
))
ToastClose.displayName = ToastPrimitives.Close.displayName

const ToastTitle = React.forwardRef<
  React.ElementRef<typeof ToastPrimitives.Title>,
  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Title>
>(({ className, ...props }, ref) => (
  <ToastPrimitives.Title
    ref={ref}
    className={cn("text-sm font-semibold", className)}
    {...props}
  />
))
ToastTitle.displayName = ToastPrimitives.Title.displayName

const ToastDescription = React.forwardRef<
  React.ElementRef<typeof ToastPrimitives.Description>,
  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Description>
>(({ className, ...props }, ref) => (
  <ToastPrimitives.Description
    ref={ref}
    className={cn("text-sm opacity-90", className)}
    {...props}
  />
))
ToastDescription.displayName = ToastPrimitives.Description.displayName

type ToastProps = React.ComponentPropsWithoutRef<typeof Toast>

type ToastActionElement = React.ReactElement<typeof ToastAction>

export {
  type ToastProps,
  type ToastActionElement,
  ToastProvider,
  ToastViewport,
  Toast,
  ToastTitle,
  ToastDescription,
  ToastClose,
  ToastAction,
}
</file>

<file path="mockup/src/components/ui/toaster.tsx">
import { useToast } from "@/hooks/use-toast"
import {
  Toast,
  ToastClose,
  ToastDescription,
  ToastProvider,
  ToastTitle,
  ToastViewport,
} from "@/components/ui/toast"

export function Toaster() {
  const { toasts } = useToast()

  return (
    <ToastProvider>
      {toasts.map(function ({ id, title, description, action, ...props }) {
        return (
          <Toast key={id} {...props}>
            <div className="grid gap-1">
              {title && <ToastTitle>{title}</ToastTitle>}
              {description && (
                <ToastDescription>{description}</ToastDescription>
              )}
            </div>
            {action}
            <ToastClose />
          </Toast>
        )
      })}
      <ToastViewport />
    </ToastProvider>
  )
}
</file>

<file path="mockup/src/components/ui/toggle-group.tsx">
import * as React from "react"
import * as ToggleGroupPrimitive from "@radix-ui/react-toggle-group"
import { type VariantProps } from "class-variance-authority"

import { cn } from "@/lib/utils"
import { toggleVariants } from "@/components/ui/toggle"

const ToggleGroupContext = React.createContext<
  VariantProps<typeof toggleVariants>
>({
  size: "default",
  variant: "default",
})

const ToggleGroup = React.forwardRef<
  React.ElementRef<typeof ToggleGroupPrimitive.Root>,
  React.ComponentPropsWithoutRef<typeof ToggleGroupPrimitive.Root> &
    VariantProps<typeof toggleVariants>
>(({ className, variant, size, children, ...props }, ref) => (
  <ToggleGroupPrimitive.Root
    ref={ref}
    className={cn("flex items-center justify-center gap-1", className)}
    {...props}
  >
    <ToggleGroupContext.Provider value={{ variant, size }}>
      {children}
    </ToggleGroupContext.Provider>
  </ToggleGroupPrimitive.Root>
))

ToggleGroup.displayName = ToggleGroupPrimitive.Root.displayName

const ToggleGroupItem = React.forwardRef<
  React.ElementRef<typeof ToggleGroupPrimitive.Item>,
  React.ComponentPropsWithoutRef<typeof ToggleGroupPrimitive.Item> &
    VariantProps<typeof toggleVariants>
>(({ className, children, variant, size, ...props }, ref) => {
  const context = React.useContext(ToggleGroupContext)

  return (
    <ToggleGroupPrimitive.Item
      ref={ref}
      className={cn(
        toggleVariants({
          variant: context.variant || variant,
          size: context.size || size,
        }),
        className
      )}
      {...props}
    >
      {children}
    </ToggleGroupPrimitive.Item>
  )
})

ToggleGroupItem.displayName = ToggleGroupPrimitive.Item.displayName

export { ToggleGroup, ToggleGroupItem }
</file>

<file path="mockup/src/components/ui/toggle.tsx">
import * as React from "react"
import * as TogglePrimitive from "@radix-ui/react-toggle"
import { cva, type VariantProps } from "class-variance-authority"

import { cn } from "@/lib/utils"

const toggleVariants = cva(
  "inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground",
  {
    variants: {
      variant: {
        default: "bg-transparent",
        outline:
          "border border-input bg-transparent hover:bg-accent hover:text-accent-foreground",
      },
      size: {
        default: "h-10 px-3",
        sm: "h-9 px-2.5",
        lg: "h-11 px-5",
      },
    },
    defaultVariants: {
      variant: "default",
      size: "default",
    },
  }
)

const Toggle = React.forwardRef<
  React.ElementRef<typeof TogglePrimitive.Root>,
  React.ComponentPropsWithoutRef<typeof TogglePrimitive.Root> &
    VariantProps<typeof toggleVariants>
>(({ className, variant, size, ...props }, ref) => (
  <TogglePrimitive.Root
    ref={ref}
    className={cn(toggleVariants({ variant, size, className }))}
    {...props}
  />
))

Toggle.displayName = TogglePrimitive.Root.displayName

export { Toggle, toggleVariants }
</file>

<file path="mockup/src/components/ui/tooltip.tsx">
import * as React from "react"
import * as TooltipPrimitive from "@radix-ui/react-tooltip"

import { cn } from "@/lib/utils"

const TooltipProvider = TooltipPrimitive.Provider

const Tooltip = TooltipPrimitive.Root

const TooltipTrigger = TooltipPrimitive.Trigger

const TooltipContent = React.forwardRef<
  React.ElementRef<typeof TooltipPrimitive.Content>,
  React.ComponentPropsWithoutRef<typeof TooltipPrimitive.Content>
>(({ className, sideOffset = 4, ...props }, ref) => (
  <TooltipPrimitive.Content
    ref={ref}
    sideOffset={sideOffset}
    className={cn(
      "z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",
      className
    )}
    {...props}
  />
))
TooltipContent.displayName = TooltipPrimitive.Content.displayName

export { Tooltip, TooltipTrigger, TooltipContent, TooltipProvider }
</file>

<file path="mockup/src/components/ui/use-toast.ts">
import { useToast, toast } from "@/hooks/use-toast";

export { useToast, toast };
</file>

<file path="mockup/src/components/Contact.tsx">
import { useState } from "react";
import { Button } from "@/components/ui/button";
import { Input } from "@/components/ui/input";
import { Textarea } from "@/components/ui/textarea";
import { Mail, MessageSquare, Send } from "lucide-react";
import { useToast } from "@/hooks/use-toast";

const Contact = () => {
  const { toast } = useToast();
  const [formData, setFormData] = useState({
    name: "",
    email: "",
    message: "",
  });
  const [isSubmitting, setIsSubmitting] = useState(false);

  const handleChange = (
    e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>
  ) => {
    const { name, value } = e.target;
    setFormData((prev) => ({ ...prev, [name]: value }));
  };

  const handleSubmit = (e: React.FormEvent) => {
    e.preventDefault();
    setIsSubmitting(true);
    
    // Simulate form submission
    setTimeout(() => {
      setIsSubmitting(false);
      setFormData({ name: "", email: "", message: "" });
      toast({
        title: "Message Sent!",
        description: "We'll get back to you as soon as possible.",
      });
    }, 1500);
  };

  return (
    <section id="contact" className="py-20 bg-scoutdog-gray">
      <div className="container mx-auto px-4 md:px-6">
        <div className="grid grid-cols-1 lg:grid-cols-2 gap-12 items-center">
          <div className="space-y-6">
            <div className="inline-block p-3 bg-blue-100 rounded-lg">
              <Mail className="h-6 w-6 text-scoutdog-blue" />
            </div>
            <h2 className="text-3xl md:text-4xl font-bold">Get in Touch</h2>
            <p className="text-lg text-gray-600">
              Have a project in mind or just want to learn more about our services?
              Send us a message and our team will get back to you as soon as possible.
            </p>
            
            <div className="bg-white p-6 rounded-lg shadow-md">
              <div className="flex items-center space-x-3">
                <div className="p-2 bg-blue-100 rounded-full">
                  <MessageSquare className="h-5 w-5 text-scoutdog-blue" />
                </div>
                <div>
                  <h3 className="font-semibold">Quick Response</h3>
                  <p className="text-sm text-gray-500">We typically respond within 24 hours</p>
                </div>
              </div>
            </div>
          </div>

          <div className="bg-white rounded-xl shadow-md p-6 md:p-8 animate-fade-in">
            <form onSubmit={handleSubmit} className="space-y-5">
              <div>
                <label htmlFor="name" className="block text-sm font-medium text-gray-700 mb-1">
                  Your Name
                </label>
                <Input
                  id="name"
                  name="name"
                  value={formData.name}
                  onChange={handleChange}
                  placeholder="John Doe"
                  required
                  className="w-full"
                />
              </div>
              
              <div>
                <label htmlFor="email" className="block text-sm font-medium text-gray-700 mb-1">
                  Email Address
                </label>
                <Input
                  id="email"
                  name="email"
                  type="email"
                  value={formData.email}
                  onChange={handleChange}
                  placeholder="john@example.com"
                  required
                  className="w-full"
                />
              </div>
              
              <div>
                <label htmlFor="message" className="block text-sm font-medium text-gray-700 mb-1">
                  Your Message
                </label>
                <Textarea
                  id="message"
                  name="message"
                  value={formData.message}
                  onChange={handleChange}
                  placeholder="Tell us about your project or inquiry"
                  required
                  className="w-full min-h-[150px]"
                />
              </div>
              
              <Button 
                type="submit" 
                className="w-full bg-scoutdog-blue hover:bg-scoutdog-blue/90 text-white"
                disabled={isSubmitting}
              >
                {isSubmitting ? (
                  <span className="flex items-center">
                    <svg className="animate-spin -ml-1 mr-2 h-4 w-4 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                      <circle className="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" strokeWidth="4"></circle>
                      <path className="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                    </svg>
                    Sending...
                  </span>
                ) : (
                  <span className="flex items-center">
                    Send Message <Send className="ml-2 h-4 w-4" />
                  </span>
                )}
              </Button>
            </form>
          </div>
        </div>
      </div>
    </section>
  );
};

export default Contact;
</file>

<file path="mockup/src/components/Features.tsx">
import { Cpu, Code, LineChart, Bot, Zap, BoltIcon } from "lucide-react";

const features = [
  {
    icon: <Cpu className="h-10 w-10 text-scoutdog-blue" />,
    title: "AI Integration",
    description:
      "Seamlessly integrate cutting-edge AI technologies into efficient web applications that solve real-world problems.",
  },
  {
    icon: <Code className="h-10 w-10 text-scoutdog-blue" />,
    title: "Full-Stack Development",
    description:
      "End-to-end development with Python backends and modern NextJS/Tailwind frontends for optimal performance.",
  },
  {
    icon: <LineChart className="h-10 w-10 text-scoutdog-blue" />,
    title: "Data Analytics",
    description:
      "Transform raw data into actionable insights with intelligent analytics powered by machine learning.",
  },
  {
    icon: <Bot className="h-10 w-10 text-scoutdog-blue" />,
    title: "Automation Tools",
    description:
      "Build custom automation solutions that save time and reduce errors in your business processes.",
  },
  {
    icon: <Zap className="h-10 w-10 text-scoutdog-blue" />,
    title: "Rapid Prototyping",
    description:
      "Quickly test and iterate on ideas with our efficient prototyping methodology and toolchain.",
  },
  {
    icon: <BoltIcon className="h-10 w-10 text-scoutdog-blue" />,
    title: "Performance Optimization",
    description:
      "Ensure your applications run at peak performance with our optimization techniques and best practices.",
  },
];

const Features = () => {
  return (
    <section id="features" className="py-20 bg-scoutdog-gray">
      <div className="container mx-auto px-4 md:px-6">
        <div className="text-center max-w-3xl mx-auto mb-16">
          <h2 className="text-3xl md:text-4xl font-bold mb-4">Powered by Intelligence</h2>
          <p className="text-lg text-gray-600">
            Our suite of tools and services leverage the latest in artificial intelligence
            to create applications that are both powerful and intuitive.
          </p>
        </div>

        <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
          {features.map((feature, index) => (
            <div
              key={index}
              className="bg-white rounded-xl p-6 shadow-md hover:shadow-lg transition-shadow duration-300 animate-slide-up"
              style={{ animationDelay: `${0.1 * index}s` }}
            >
              <div className="mb-4 p-2 inline-block bg-blue-50 rounded-lg">
                {feature.icon}
              </div>
              <h3 className="text-xl font-semibold mb-2">{feature.title}</h3>
              <p className="text-gray-600">{feature.description}</p>
            </div>
          ))}
        </div>
      </div>
    </section>
  );
};

export default Features;
</file>

<file path="mockup/src/components/Footer.tsx">
import { Github, Twitter, Linkedin, Mail } from "lucide-react";

const Footer = () => {
  const year = new Date().getFullYear();

  return (
    <footer className="bg-gray-900 text-white py-12">
      <div className="container mx-auto px-4 md:px-6">
        <div className="grid grid-cols-1 md:grid-cols-4 gap-8">
          <div className="md:col-span-2 space-y-4">
            <div className="flex items-center">
              <img
                src="/lovable-uploads/0ad7e8a3-7d57-431d-b098-6a765f30f2e6.png"
                alt="Scout Dog AI Studios"
                className="h-12 w-auto bg-white p-1 rounded"
              />
            </div>
            <p className="text-gray-400 mt-4 max-w-md">
              Scout Dog AI Studio creates innovative web applications powered by artificial intelligence. 
              We focus on building small but impactful tools that solve real problems.
            </p>
            <div className="flex space-x-4 mt-6">
              <a href="#" className="text-gray-400 hover:text-scoutdog-blue transition-colors">
                <Github className="h-5 w-5" />
              </a>
              <a href="#" className="text-gray-400 hover:text-scoutdog-blue transition-colors">
                <Twitter className="h-5 w-5" />
              </a>
              <a href="#" className="text-gray-400 hover:text-scoutdog-blue transition-colors">
                <Linkedin className="h-5 w-5" />
              </a>
              <a href="#" className="text-gray-400 hover:text-scoutdog-blue transition-colors">
                <Mail className="h-5 w-5" />
              </a>
            </div>
          </div>

          <div>
            <h3 className="font-semibold text-lg mb-4">Quick Links</h3>
            <ul className="space-y-2">
              <li>
                <a href="#features" className="text-gray-400 hover:text-scoutdog-blue transition-colors">
                  Features
                </a>
              </li>
              <li>
                <a href="#projects" className="text-gray-400 hover:text-scoutdog-blue transition-colors">
                  Projects
                </a>
              </li>
              <li>
                <a href="#contact" className="text-gray-400 hover:text-scoutdog-blue transition-colors">
                  Contact
                </a>
              </li>
            </ul>
          </div>

          <div>
            <h3 className="font-semibold text-lg mb-4">Resources</h3>
            <ul className="space-y-2">
              <li>
                <a href="#" className="text-gray-400 hover:text-scoutdog-blue transition-colors">
                  Blog
                </a>
              </li>
              <li>
                <a href="#" className="text-gray-400 hover:text-scoutdog-blue transition-colors">
                  Documentation
                </a>
              </li>
              <li>
                <a href="#" className="text-gray-400 hover:text-scoutdog-blue transition-colors">
                  Privacy Policy
                </a>
              </li>
              <li>
                <a href="#" className="text-gray-400 hover:text-scoutdog-blue transition-colors">
                  Terms of Service
                </a>
              </li>
            </ul>
          </div>
        </div>

        <div className="border-t border-gray-800 mt-12 pt-8">
          <div className="text-center text-gray-500 text-sm">
             {year} Scout Dog AI Studio. All rights reserved.
          </div>
        </div>
      </div>
    </footer>
  );
};

export default Footer;
</file>

<file path="mockup/src/components/Hero.tsx">
import { Button } from "@/components/ui/button";
import { ArrowRight } from "lucide-react";

const Hero = () => {
  return (
    <section className="pt-28 pb-20 md:pt-36 md:pb-28 bg-gradient-to-b from-white to-scoutdog-gray/30">
      <div className="container mx-auto px-4 md:px-6">
        <div className="grid grid-cols-1 lg:grid-cols-12 gap-12 items-center">
          <div className="lg:col-span-7 space-y-6 animate-fade-in" style={{ animationDelay: "0.2s" }}>
            <div className="flex flex-col sm:flex-row items-center sm:items-start gap-6 mb-6">
              <div>
                <h1 className="text-4xl md:text-5xl lg:text-6xl font-bold tracking-tight">
                  Small Apps. Big Impact.
                  <br />
                  <span className="text-scoutdog-blue">AI-Powered</span> Innovation.
                </h1>
              </div>
            </div>

            <p className="text-lg md:text-xl text-gray-600 max-w-2xl">
              Scout Dog AI Studio builds intelligent web applications that solve real problems.
              We combine the power of artificial intelligence with intuitive design to create tools that matter.
            </p>

            <div className="flex flex-col sm:flex-row gap-4 pt-4">
              <Button className="bg-scoutdog-blue hover:bg-scoutdog-blue/90 text-white px-8 py-6">
                Get Started <ArrowRight className="ml-2 h-5 w-5" />
              </Button>
              <Button variant="outline" className="border-gray-300 hover:bg-gray-50 px-8 py-6">
                Learn More
              </Button>
            </div>
          </div>

          <div className="lg:col-span-5 flex items-center justify-center animate-fade-in" style={{ animationDelay: "0.4s" }}>
            <div className="relative w-full h-full max-h-[400px] flex items-center justify-center">
              <div className="absolute inset-0 bg-gradient-to-r from-scoutdog-blue/20 to-blue-400/20 rounded-full blur-xl opacity-70"></div>
              <div className="relative w-full h-full max-w-md">
                <img
                  src="/lovable-uploads/0ad7e8a3-7d57-431d-b098-6a765f30f2e6.png"
                  alt="Scout Dog AI Studios Logo"
                  className="w-full h-full object-contain"
                />
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
  );
};

export default Hero;
</file>

<file path="mockup/src/components/Navbar.tsx">
import { useState, useEffect } from "react";
import { Button } from "@/components/ui/button";
import { Menu, X, LogIn } from "lucide-react";
import { Link } from "react-router-dom";

const Navbar = () => {
  const [isScrolled, setIsScrolled] = useState(false);
  const [isMobileMenuOpen, setIsMobileMenuOpen] = useState(false);

  useEffect(() => {
    const handleScroll = () => {
      if (window.scrollY > 10) {
        setIsScrolled(true);
      } else {
        setIsScrolled(false);
      }
    };

    window.addEventListener("scroll", handleScroll);
    return () => window.removeEventListener("scroll", handleScroll);
  }, []);

  return (
    <nav
      className={`fixed top-0 left-0 w-full z-50 transition-all duration-300 ${
        isScrolled
          ? "bg-white shadow-md py-2"
          : "bg-transparent py-4"
      }`}
    >
      <div className="container mx-auto px-4 md:px-6 flex justify-between items-center">
        <a href="#" className="flex items-center">
          <span className="text-xl md:text-2xl font-bold text-scoutdog-black">
            Scout Dog 
          </span>
          <span className="text-xl md:text-2xl font-bold text-scoutdog-blue">
          &nbsp;AI&nbsp; 
          </span>
          <span className="text-xl md:text-2xl font-bold text-scoutdog-black">
             Studios
          </span>
        </a>

        {/* Desktop Nav Items */}
        <div className="hidden md:flex items-center space-x-6">
          <Link to="/projects" className="font-medium text-gray-800 hover:text-scoutdog-blue transition-colors">
            Projects
          </Link>
          <a href="#contact" className="font-medium text-gray-800 hover:text-scoutdog-blue transition-colors">
            Contact
          </a>
          <Button 
            variant="outline" 
            className="border-scoutdog-blue text-scoutdog-blue hover:bg-scoutdog-blue hover:text-white transition-colors"
          >
            <LogIn className="w-4 h-4 mr-2" />
            Login
          </Button>
        </div>

        {/* Mobile Menu Button */}
        <button
          onClick={() => setIsMobileMenuOpen(!isMobileMenuOpen)}
          className="md:hidden text-gray-800"
          aria-label="Toggle Menu"
        >
          {isMobileMenuOpen ? <X size={24} /> : <Menu size={24} />}
        </button>
      </div>

      {/* Mobile Menu */}
      {isMobileMenuOpen && (
        <div className="md:hidden bg-white shadow-lg py-4 px-6 absolute w-full">
          <div className="flex flex-col space-y-4">
            <Link
              to="/projects"
              className="font-medium text-gray-800 hover:text-scoutdog-blue transition-colors"
              onClick={() => setIsMobileMenuOpen(false)}
            >
              Projects
            </Link>
            <a
              href="#contact"
              className="font-medium text-gray-800 hover:text-scoutdog-blue transition-colors"
              onClick={() => setIsMobileMenuOpen(false)}
            >
              Contact
            </a>
            <Button 
              variant="outline" 
              className="border-scoutdog-blue text-scoutdog-blue hover:bg-scoutdog-blue hover:text-white transition-colors w-full"
            >
              <LogIn className="w-4 h-4 mr-2" />
              Login
            </Button>
          </div>
        </div>
      )}
    </nav>
  );
};

export default Navbar;
</file>

<file path="mockup/src/components/Projects.tsx">
import { Button } from "@/components/ui/button";
import { ExternalLink } from "lucide-react";

const projects = [
  {
    title: "AI Content Assistant",
    description:
      "An intelligent writing assistant that helps create and optimize content for various platforms.",
    tags: ["AI", "NLP", "Content"],
    color: "from-blue-400 to-blue-600",
  },
  {
    title: "Data Visualization Suite",
    description:
      "Turn complex datasets into beautiful, interactive visualizations that tell compelling stories.",
    tags: ["Data", "Analytics", "Charts"],
    color: "from-green-400 to-green-600",
  },
  {
    title: "Process Automation Tool",
    description:
      "Streamline workflows and automate repetitive tasks to boost productivity across teams.",
    tags: ["Automation", "Workflow", "Productivity"],
    color: "from-purple-400 to-purple-600",
  },
];

const Projects = () => {
  return (
    <section id="projects" className="py-20">
      <div className="container mx-auto px-4 md:px-6">
        <div className="text-center max-w-3xl mx-auto mb-16">
          <h2 className="text-3xl md:text-4xl font-bold mb-4">Our Projects</h2>
          <p className="text-lg text-gray-600">
            Explore some of our innovative applications built with cutting-edge AI technology.
          </p>
        </div>

        <div className="grid grid-cols-1 lg:grid-cols-3 gap-8">
          {projects.map((project, index) => (
            <div
              key={index}
              className="bg-white rounded-xl overflow-hidden shadow-md hover:shadow-lg transition-all duration-300 transform hover:-translate-y-1 animate-fade-in flex flex-col"
              style={{ animationDelay: `${0.2 * index}s` }}
            >
              <div className={`h-3 bg-gradient-to-r ${project.color}`}></div>
              <div className="p-6 flex-grow">
                <h3 className="text-xl font-semibold mb-3">{project.title}</h3>
                <p className="text-gray-600 mb-4">{project.description}</p>
                <div className="flex flex-wrap gap-2 mb-4">
                  {project.tags.map((tag) => (
                    <span
                      key={tag}
                      className="bg-gray-100 text-gray-700 px-3 py-1 rounded-full text-sm"
                    >
                      {tag}
                    </span>
                  ))}
                </div>
              </div>
              <div className="px-6 pb-6">
                <Button className="w-full bg-gray-100 text-gray-800 hover:bg-gray-200">
                  Learn More <ExternalLink className="h-4 w-4 ml-2" />
                </Button>
              </div>
            </div>
          ))}
        </div>

        <div className="text-center mt-12">
          <Button
            variant="outline"
            className="border-scoutdog-blue text-scoutdog-blue hover:bg-scoutdog-blue hover:text-white"
          >
            View All Projects
          </Button>
        </div>
      </div>
    </section>
  );
};

export default Projects;
</file>

<file path="mockup/src/hooks/use-mobile.tsx">
import * as React from "react"

const MOBILE_BREAKPOINT = 768

export function useIsMobile() {
  const [isMobile, setIsMobile] = React.useState<boolean | undefined>(undefined)

  React.useEffect(() => {
    const mql = window.matchMedia(`(max-width: ${MOBILE_BREAKPOINT - 1}px)`)
    const onChange = () => {
      setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)
    }
    mql.addEventListener("change", onChange)
    setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)
    return () => mql.removeEventListener("change", onChange)
  }, [])

  return !!isMobile
}
</file>

<file path="mockup/src/hooks/use-toast.ts">
import * as React from "react"

import type {
  ToastActionElement,
  ToastProps,
} from "@/components/ui/toast"

const TOAST_LIMIT = 1
const TOAST_REMOVE_DELAY = 1000000

type ToasterToast = ToastProps & {
  id: string
  title?: React.ReactNode
  description?: React.ReactNode
  action?: ToastActionElement
}

const actionTypes = {
  ADD_TOAST: "ADD_TOAST",
  UPDATE_TOAST: "UPDATE_TOAST",
  DISMISS_TOAST: "DISMISS_TOAST",
  REMOVE_TOAST: "REMOVE_TOAST",
} as const

let count = 0

function genId() {
  count = (count + 1) % Number.MAX_SAFE_INTEGER
  return count.toString()
}

type ActionType = typeof actionTypes

type Action =
  | {
      type: ActionType["ADD_TOAST"]
      toast: ToasterToast
    }
  | {
      type: ActionType["UPDATE_TOAST"]
      toast: Partial<ToasterToast>
    }
  | {
      type: ActionType["DISMISS_TOAST"]
      toastId?: ToasterToast["id"]
    }
  | {
      type: ActionType["REMOVE_TOAST"]
      toastId?: ToasterToast["id"]
    }

interface State {
  toasts: ToasterToast[]
}

const toastTimeouts = new Map<string, ReturnType<typeof setTimeout>>()

const addToRemoveQueue = (toastId: string) => {
  if (toastTimeouts.has(toastId)) {
    return
  }

  const timeout = setTimeout(() => {
    toastTimeouts.delete(toastId)
    dispatch({
      type: "REMOVE_TOAST",
      toastId: toastId,
    })
  }, TOAST_REMOVE_DELAY)

  toastTimeouts.set(toastId, timeout)
}

export const reducer = (state: State, action: Action): State => {
  switch (action.type) {
    case "ADD_TOAST":
      return {
        ...state,
        toasts: [action.toast, ...state.toasts].slice(0, TOAST_LIMIT),
      }

    case "UPDATE_TOAST":
      return {
        ...state,
        toasts: state.toasts.map((t) =>
          t.id === action.toast.id ? { ...t, ...action.toast } : t
        ),
      }

    case "DISMISS_TOAST": {
      const { toastId } = action

      // ! Side effects ! - This could be extracted into a dismissToast() action,
      // but I'll keep it here for simplicity
      if (toastId) {
        addToRemoveQueue(toastId)
      } else {
        state.toasts.forEach((toast) => {
          addToRemoveQueue(toast.id)
        })
      }

      return {
        ...state,
        toasts: state.toasts.map((t) =>
          t.id === toastId || toastId === undefined
            ? {
                ...t,
                open: false,
              }
            : t
        ),
      }
    }
    case "REMOVE_TOAST":
      if (action.toastId === undefined) {
        return {
          ...state,
          toasts: [],
        }
      }
      return {
        ...state,
        toasts: state.toasts.filter((t) => t.id !== action.toastId),
      }
  }
}

const listeners: Array<(state: State) => void> = []

let memoryState: State = { toasts: [] }

function dispatch(action: Action) {
  memoryState = reducer(memoryState, action)
  listeners.forEach((listener) => {
    listener(memoryState)
  })
}

type Toast = Omit<ToasterToast, "id">

function toast({ ...props }: Toast) {
  const id = genId()

  const update = (props: ToasterToast) =>
    dispatch({
      type: "UPDATE_TOAST",
      toast: { ...props, id },
    })
  const dismiss = () => dispatch({ type: "DISMISS_TOAST", toastId: id })

  dispatch({
    type: "ADD_TOAST",
    toast: {
      ...props,
      id,
      open: true,
      onOpenChange: (open) => {
        if (!open) dismiss()
      },
    },
  })

  return {
    id: id,
    dismiss,
    update,
  }
}

function useToast() {
  const [state, setState] = React.useState<State>(memoryState)

  React.useEffect(() => {
    listeners.push(setState)
    return () => {
      const index = listeners.indexOf(setState)
      if (index > -1) {
        listeners.splice(index, 1)
      }
    }
  }, [state])

  return {
    ...state,
    toast,
    dismiss: (toastId?: string) => dispatch({ type: "DISMISS_TOAST", toastId }),
  }
}

export { useToast, toast }
</file>

<file path="mockup/src/lib/utils.ts">
import { clsx, type ClassValue } from "clsx"
import { twMerge } from "tailwind-merge"

export function cn(...inputs: ClassValue[]) {
  return twMerge(clsx(inputs))
}
</file>

<file path="mockup/src/pages/Index.tsx">
import Navbar from "@/components/Navbar";
import Hero from "@/components/Hero";
import Contact from "@/components/Contact";
import Footer from "@/components/Footer";

const Index = () => {
  return (
    <div className="min-h-screen bg-white">
      <Navbar />
      <Hero />
      <Contact />
      <Footer />
    </div>
  );
};

export default Index;
</file>

<file path="mockup/src/pages/NotFound.tsx">
import { useLocation } from "react-router-dom";
import { useEffect } from "react";

const NotFound = () => {
  const location = useLocation();

  useEffect(() => {
    console.error(
      "404 Error: User attempted to access non-existent route:",
      location.pathname
    );
  }, [location.pathname]);

  return (
    <div className="min-h-screen flex items-center justify-center bg-gray-100">
      <div className="text-center">
        <h1 className="text-4xl font-bold mb-4">404</h1>
        <p className="text-xl text-gray-600 mb-4">Oops! Page not found</p>
        <a href="/" className="text-blue-500 hover:text-blue-700 underline">
          Return to Home
        </a>
      </div>
    </div>
  );
};

export default NotFound;
</file>

<file path="mockup/src/pages/Projects.tsx">
import Navbar from "@/components/Navbar";
import Footer from "@/components/Footer";
import { Button } from "@/components/ui/button";
import { ExternalLink } from "lucide-react";

const projects = [
  {
    title: "AI Content Assistant",
    description:
      "An intelligent writing assistant that helps create and optimize content for various platforms.",
    tags: ["AI", "NLP", "Content"],
    color: "from-blue-400 to-blue-600",
  },
  {
    title: "Data Visualization Suite",
    description:
      "Turn complex datasets into beautiful, interactive visualizations that tell compelling stories.",
    tags: ["Data", "Analytics", "Charts"],
    color: "from-green-400 to-green-600",
  },
  {
    title: "Process Automation Tool",
    description:
      "Streamline workflows and automate repetitive tasks to boost productivity across teams.",
    tags: ["Automation", "Workflow", "Productivity"],
    color: "from-purple-400 to-purple-600",
  },
  {
    title: "Smart Document Scanner",
    description:
      "Extract and process information from documents using AI-powered OCR technology.",
    tags: ["OCR", "AI", "Documents"],
    color: "from-red-400 to-red-600",
  },
  {
    title: "Customer Insights Platform",
    description:
      "Analyze customer behavior and feedback to drive data-informed business decisions.",
    tags: ["Analytics", "Customer", "Insights"],
    color: "from-amber-400 to-amber-600",
  },
  {
    title: "Interactive Learning System",
    description:
      "Personalized learning experiences that adapt to individual student progress and needs.",
    tags: ["Education", "Adaptive", "Learning"],
    color: "from-teal-400 to-teal-600",
  }
];

const ProjectsPage = () => {
  return (
    <div className="min-h-screen bg-white">
      <Navbar />
      <div className="pt-28 pb-20">
        <div className="container mx-auto px-4 md:px-6">
          <div className="text-center max-w-3xl mx-auto mb-16">
            <h1 className="text-3xl md:text-5xl font-bold mb-6">Our Projects</h1>
            <p className="text-lg text-gray-600">
              Explore our portfolio of innovative applications built with cutting-edge AI technology to solve real-world challenges.
            </p>
          </div>

          <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
            {projects.map((project, index) => (
              <div
                key={index}
                className="bg-white rounded-xl overflow-hidden shadow-md hover:shadow-lg transition-all duration-300 transform hover:-translate-y-1 animate-fade-in flex flex-col"
                style={{ animationDelay: `${0.1 * (index + 1)}s` }}
              >
                <div className={`h-3 bg-gradient-to-r ${project.color}`}></div>
                <div className="p-6 flex-grow">
                  <h3 className="text-xl font-semibold mb-3">{project.title}</h3>
                  <p className="text-gray-600 mb-4">{project.description}</p>
                  <div className="flex flex-wrap gap-2 mb-4">
                    {project.tags.map((tag) => (
                      <span
                        key={tag}
                        className="bg-gray-100 text-gray-700 px-3 py-1 rounded-full text-sm"
                      >
                        {tag}
                      </span>
                    ))}
                  </div>
                </div>
                <div className="px-6 pb-6">
                  <Button className="w-full bg-gray-100 text-gray-800 hover:bg-gray-200">
                    View Details <ExternalLink className="h-4 w-4 ml-2" />
                  </Button>
                </div>
              </div>
            ))}
          </div>
        </div>
      </div>
      <Footer />
    </div>
  );
};

export default ProjectsPage;
</file>

<file path="mockup/src/App.css">
#root {
  max-width: 1280px;
  margin: 0 auto;
  padding: 2rem;
  text-align: center;
}

.logo {
  height: 6em;
  padding: 1.5em;
  will-change: filter;
  transition: filter 300ms;
}
.logo:hover {
  filter: drop-shadow(0 0 2em #646cffaa);
}
.logo.react:hover {
  filter: drop-shadow(0 0 2em #61dafbaa);
}

@keyframes logo-spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

@media (prefers-reduced-motion: no-preference) {
  a:nth-of-type(2) .logo {
    animation: logo-spin infinite 20s linear;
  }
}

.card {
  padding: 2em;
}

.read-the-docs {
  color: #888;
}
</file>

<file path="mockup/src/App.tsx">
import { Toaster } from "@/components/ui/toaster";
import { Toaster as Sonner } from "@/components/ui/sonner";
import { TooltipProvider } from "@/components/ui/tooltip";
import { QueryClient, QueryClientProvider } from "@tanstack/react-query";
import { BrowserRouter, Routes, Route } from "react-router-dom";
import Index from "./pages/Index";
import ProjectsPage from "./pages/Projects";
import NotFound from "./pages/NotFound";

const queryClient = new QueryClient();

const App = () => (
  <QueryClientProvider client={queryClient}>
    <TooltipProvider>
      <Toaster />
      <Sonner />
      <BrowserRouter>
        <Routes>
          <Route path="/" element={<Index />} />
          <Route path="/projects" element={<ProjectsPage />} />
          {/* ADD ALL CUSTOM ROUTES ABOVE THE CATCH-ALL "*" ROUTE */}
          <Route path="*" element={<NotFound />} />
        </Routes>
      </BrowserRouter>
    </TooltipProvider>
  </QueryClientProvider>
);

export default App;
</file>

<file path="mockup/src/index.css">
@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --background: 0 0% 100%;
    --foreground: 222.2 84% 4.9%;

    --card: 0 0% 100%;
    --card-foreground: 222.2 84% 4.9%;

    --popover: 0 0% 100%;
    --popover-foreground: 222.2 84% 4.9%;

    --primary: 222.2 47.4% 11.2%;
    --primary-foreground: 210 40% 98%;

    --secondary: 210 40% 96.1%;
    --secondary-foreground: 222.2 47.4% 11.2%;

    --muted: 210 40% 96.1%;
    --muted-foreground: 215.4 16.3% 46.9%;

    --accent: 210 40% 96.1%;
    --accent-foreground: 222.2 47.4% 11.2%;

    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 210 40% 98%;

    --border: 214.3 31.8% 91.4%;
    --input: 214.3 31.8% 91.4%;
    --ring: 222.2 84% 4.9%;

    --radius: 0.5rem;

    --sidebar-background: 0 0% 98%;
    --sidebar-foreground: 240 5.3% 26.1%;
    --sidebar-primary: 240 5.9% 10%;
    --sidebar-primary-foreground: 0 0% 98%;
    --sidebar-accent: 240 4.8% 95.9%;
    --sidebar-accent-foreground: 240 5.9% 10%;
    --sidebar-border: 220 13% 91%;
    --sidebar-ring: 217.2 91.2% 59.8%;
  }

  .dark {
    --background: 222.2 84% 4.9%;
    --foreground: 210 40% 98%;

    --card: 222.2 84% 4.9%;
    --card-foreground: 210 40% 98%;

    --popover: 222.2 84% 4.9%;
    --popover-foreground: 210 40% 98%;

    --primary: 210 40% 98%;
    --primary-foreground: 222.2 47.4% 11.2%;

    --secondary: 217.2 32.6% 17.5%;
    --secondary-foreground: 210 40% 98%;

    --muted: 217.2 32.6% 17.5%;
    --muted-foreground: 215 20.2% 65.1%;

    --accent: 217.2 32.6% 17.5%;
    --accent-foreground: 210 40% 98%;

    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 210 40% 98%;

    --border: 217.2 32.6% 17.5%;
    --input: 217.2 32.6% 17.5%;
    --ring: 212.7 26.8% 83.9%;
    
    --sidebar-background: 240 5.9% 10%;
    --sidebar-foreground: 240 4.8% 95.9%;
    --sidebar-primary: 224.3 76.3% 48%;
    --sidebar-primary-foreground: 0 0% 100%;
    --sidebar-accent: 240 3.7% 15.9%;
    --sidebar-accent-foreground: 240 4.8% 95.9%;
    --sidebar-border: 240 3.7% 15.9%;
    --sidebar-ring: 217.2 91.2% 59.8%;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground;
    font-feature-settings: "rlig" 1, "calt" 1;
  }

  html {
    scroll-behavior: smooth;
  }
}

/* Custom styles for Scout Dog AI Studio */
.text-gradient {
  @apply bg-gradient-to-r from-scoutdog-blue to-blue-600 bg-clip-text text-transparent;
}

/* Make sure the full page is at least screen height */
#root {
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  max-width: none;
  margin: 0;
  padding: 0;
}

/* Override the default #root styles from App.css */
#root {
  max-width: none;
  margin: 0;
  padding: 0;
  text-align: left;
}
</file>

<file path="mockup/src/main.tsx">
import { createRoot } from 'react-dom/client'
import App from './App.tsx'
import './index.css'

createRoot(document.getElementById("root")!).render(<App />);
</file>

<file path="mockup/src/vite-env.d.ts">
/// <reference types="vite/client" />
</file>

<file path="mockup/components.json">
{
  "$schema": "https://ui.shadcn.com/schema.json",
  "style": "default",
  "rsc": false,
  "tsx": true,
  "tailwind": {
    "config": "tailwind.config.ts",
    "css": "src/index.css",
    "baseColor": "slate",
    "cssVariables": true,
    "prefix": ""
  },
  "aliases": {
    "components": "@/components",
    "utils": "@/lib/utils",
    "ui": "@/components/ui",
    "lib": "@/lib",
    "hooks": "@/hooks"
  }
}
</file>

<file path="mockup/eslint.config.js">
import js from "@eslint/js";
import globals from "globals";
import reactHooks from "eslint-plugin-react-hooks";
import reactRefresh from "eslint-plugin-react-refresh";
import tseslint from "typescript-eslint";

export default tseslint.config(
  { ignores: ["dist"] },
  {
    extends: [js.configs.recommended, ...tseslint.configs.recommended],
    files: ["**/*.{ts,tsx}"],
    languageOptions: {
      ecmaVersion: 2020,
      globals: globals.browser,
    },
    plugins: {
      "react-hooks": reactHooks,
      "react-refresh": reactRefresh,
    },
    rules: {
      ...reactHooks.configs.recommended.rules,
      "react-refresh/only-export-components": [
        "warn",
        { allowConstantExport: true },
      ],
      "@typescript-eslint/no-unused-vars": "off",
    },
  }
);
</file>

<file path="mockup/index.html">
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>scoutdog-launchpad-studio</title>
    <meta name="description" content="Lovable Generated Project" />
    <meta name="author" content="Lovable" />

    <meta property="og:title" content="scoutdog-launchpad-studio" />
    <meta property="og:description" content="Lovable Generated Project" />
    <meta property="og:type" content="website" />
    <meta property="og:image" content="https://lovable.dev/opengraph-image-p98pqg.png" />

    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:site" content="@lovable_dev" />
    <meta name="twitter:image" content="https://lovable.dev/opengraph-image-p98pqg.png" />
  </head>

  <body>
    <div id="root"></div>
    <!-- IMPORTANT: DO NOT REMOVE THIS SCRIPT TAG OR THIS VERY COMMENT! -->
    <script src="https://cdn.gpteng.co/gptengineer.js" type="module"></script>
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>
</file>

<file path="mockup/package.json">
{
  "name": "vite_react_shadcn_ts",
  "private": true,
  "version": "0.0.0",
  "type": "module",
  "scripts": {
    "dev": "vite",
    "build": "vite build",
    "build:dev": "vite build --mode development",
    "lint": "eslint .",
    "preview": "vite preview"
  },
  "dependencies": {
    "@hookform/resolvers": "^3.9.0",
    "@radix-ui/react-accordion": "^1.2.0",
    "@radix-ui/react-alert-dialog": "^1.1.1",
    "@radix-ui/react-aspect-ratio": "^1.1.0",
    "@radix-ui/react-avatar": "^1.1.0",
    "@radix-ui/react-checkbox": "^1.1.1",
    "@radix-ui/react-collapsible": "^1.1.0",
    "@radix-ui/react-context-menu": "^2.2.1",
    "@radix-ui/react-dialog": "^1.1.2",
    "@radix-ui/react-dropdown-menu": "^2.1.1",
    "@radix-ui/react-hover-card": "^1.1.1",
    "@radix-ui/react-label": "^2.1.0",
    "@radix-ui/react-menubar": "^1.1.1",
    "@radix-ui/react-navigation-menu": "^1.2.0",
    "@radix-ui/react-popover": "^1.1.1",
    "@radix-ui/react-progress": "^1.1.0",
    "@radix-ui/react-radio-group": "^1.2.0",
    "@radix-ui/react-scroll-area": "^1.1.0",
    "@radix-ui/react-select": "^2.1.1",
    "@radix-ui/react-separator": "^1.1.0",
    "@radix-ui/react-slider": "^1.2.0",
    "@radix-ui/react-slot": "^1.1.0",
    "@radix-ui/react-switch": "^1.1.0",
    "@radix-ui/react-tabs": "^1.1.0",
    "@radix-ui/react-toast": "^1.2.1",
    "@radix-ui/react-toggle": "^1.1.0",
    "@radix-ui/react-toggle-group": "^1.1.0",
    "@radix-ui/react-tooltip": "^1.1.4",
    "@tanstack/react-query": "^5.56.2",
    "class-variance-authority": "^0.7.1",
    "clsx": "^2.1.1",
    "cmdk": "^1.0.0",
    "date-fns": "^3.6.0",
    "embla-carousel-react": "^8.3.0",
    "input-otp": "^1.2.4",
    "lucide-react": "^0.462.0",
    "next-themes": "^0.3.0",
    "react": "^18.3.1",
    "react-day-picker": "^8.10.1",
    "react-dom": "^18.3.1",
    "react-hook-form": "^7.53.0",
    "react-resizable-panels": "^2.1.3",
    "react-router-dom": "^6.26.2",
    "recharts": "^2.12.7",
    "sonner": "^1.5.0",
    "tailwind-merge": "^2.5.2",
    "tailwindcss-animate": "^1.0.7",
    "vaul": "^0.9.3",
    "zod": "^3.23.8"
  },
  "devDependencies": {
    "@eslint/js": "^9.9.0",
    "@tailwindcss/typography": "^0.5.15",
    "@types/node": "^22.5.5",
    "@types/react": "^18.3.3",
    "@types/react-dom": "^18.3.0",
    "@vitejs/plugin-react-swc": "^3.5.0",
    "autoprefixer": "^10.4.20",
    "eslint": "^9.9.0",
    "eslint-plugin-react-hooks": "^5.1.0-rc.0",
    "eslint-plugin-react-refresh": "^0.4.9",
    "globals": "^15.9.0",
    "lovable-tagger": "^1.1.7",
    "postcss": "^8.4.47",
    "tailwindcss": "^3.4.11",
    "typescript": "^5.5.3",
    "typescript-eslint": "^8.0.1",
    "vite": "^5.4.1"
  }
}
</file>

<file path="mockup/postcss.config.js">
export default {
  plugins: {
    tailwindcss: {},
    autoprefixer: {},
  },
}
</file>

<file path="mockup/README.md">
# Welcome to your Lovable project

## Project info

**URL**: https://lovable.dev/projects/79d70a2a-cd49-427c-a433-4f6ed155b3bc

## How can I edit this code?

There are several ways of editing your application.

**Use Lovable**

Simply visit the [Lovable Project](https://lovable.dev/projects/79d70a2a-cd49-427c-a433-4f6ed155b3bc) and start prompting.

Changes made via Lovable will be committed automatically to this repo.

**Use your preferred IDE**

If you want to work locally using your own IDE, you can clone this repo and push changes. Pushed changes will also be reflected in Lovable.

The only requirement is having Node.js & npm installed - [install with nvm](https://github.com/nvm-sh/nvm#installing-and-updating)

Follow these steps:

```sh
# Step 1: Clone the repository using the project's Git URL.
git clone <YOUR_GIT_URL>

# Step 2: Navigate to the project directory.
cd <YOUR_PROJECT_NAME>

# Step 3: Install the necessary dependencies.
npm i

# Step 4: Start the development server with auto-reloading and an instant preview.
npm run dev
```

**Edit a file directly in GitHub**

- Navigate to the desired file(s).
- Click the "Edit" button (pencil icon) at the top right of the file view.
- Make your changes and commit the changes.

**Use GitHub Codespaces**

- Navigate to the main page of your repository.
- Click on the "Code" button (green button) near the top right.
- Select the "Codespaces" tab.
- Click on "New codespace" to launch a new Codespace environment.
- Edit files directly within the Codespace and commit and push your changes once you're done.

## What technologies are used for this project?

This project is built with:

- Vite
- TypeScript
- React
- shadcn-ui
- Tailwind CSS

## How can I deploy this project?

Simply open [Lovable](https://lovable.dev/projects/79d70a2a-cd49-427c-a433-4f6ed155b3bc) and click on Share -> Publish.

## Can I connect a custom domain to my Lovable project?

Yes, you can!

To connect a domain, navigate to Project > Settings > Domains and click Connect Domain.

Read more here: [Setting up a custom domain](https://docs.lovable.dev/tips-tricks/custom-domain#step-by-step-guide)
</file>

<file path="mockup/tailwind.config.ts">
import type { Config } from "tailwindcss";

export default {
	darkMode: ["class"],
	content: [
		"./pages/**/*.{ts,tsx}",
		"./components/**/*.{ts,tsx}",
		"./app/**/*.{ts,tsx}",
		"./src/**/*.{ts,tsx}",
	],
	prefix: "",
	theme: {
		container: {
			center: true,
			padding: '2rem',
			screens: {
				'2xl': '1400px'
			}
		},
		extend: {
			colors: {
				border: 'hsl(var(--border))',
				input: 'hsl(var(--input))',
				ring: 'hsl(var(--ring))',
				background: 'hsl(var(--background))',
				foreground: 'hsl(var(--foreground))',
				primary: {
					DEFAULT: 'hsl(var(--primary))',
					foreground: 'hsl(var(--primary-foreground))'
				},
				secondary: {
					DEFAULT: 'hsl(var(--secondary))',
					foreground: 'hsl(var(--secondary-foreground))'
				},
				destructive: {
					DEFAULT: 'hsl(var(--destructive))',
					foreground: 'hsl(var(--destructive-foreground))'
				},
				muted: {
					DEFAULT: 'hsl(var(--muted))',
					foreground: 'hsl(var(--muted-foreground))'
				},
				accent: {
					DEFAULT: 'hsl(var(--accent))',
					foreground: 'hsl(var(--accent-foreground))'
				},
				popover: {
					DEFAULT: 'hsl(var(--popover))',
					foreground: 'hsl(var(--popover-foreground))'
				},
				card: {
					DEFAULT: 'hsl(var(--card))',
					foreground: 'hsl(var(--card-foreground))'
				},
				sidebar: {
					DEFAULT: 'hsl(var(--sidebar-background))',
					foreground: 'hsl(var(--sidebar-foreground))',
					primary: 'hsl(var(--sidebar-primary))',
					'primary-foreground': 'hsl(var(--sidebar-primary-foreground))',
					accent: 'hsl(var(--sidebar-accent))',
					'accent-foreground': 'hsl(var(--sidebar-accent-foreground))',
					border: 'hsl(var(--sidebar-border))',
					ring: 'hsl(var(--sidebar-ring))'
				},
				// Scout Dog AI Studio brand colors
				scoutdog: {
					blue: '#0EA5E9',
					black: '#000000',
					gray: '#f5f5f5'
				}
			},
			borderRadius: {
				lg: 'var(--radius)',
				md: 'calc(var(--radius) - 2px)',
				sm: 'calc(var(--radius) - 4px)'
			},
			keyframes: {
				'accordion-down': {
					from: {
						height: '0'
					},
					to: {
						height: 'var(--radix-accordion-content-height)'
					}
				},
				'accordion-up': {
					from: {
						height: 'var(--radix-accordion-content-height)'
					},
					to: {
						height: '0'
					}
				},
				'fade-in': {
					'0%': { opacity: '0' },
					'100%': { opacity: '1' },
				},
				'slide-up': {
					'0%': { transform: 'translateY(20px)', opacity: '0' },
					'100%': { transform: 'translateY(0)', opacity: '1' },
				},
			},
			animation: {
				'accordion-down': 'accordion-down 0.2s ease-out',
				'accordion-up': 'accordion-up 0.2s ease-out',
				'fade-in': 'fade-in 0.5s ease-out forwards',
				'slide-up': 'slide-up 0.5s ease-out forwards',
			}
		}
	},
	plugins: [require("tailwindcss-animate")],
} satisfies Config;
</file>

<file path="mockup/tsconfig.app.json">
{
  "compilerOptions": {
    "target": "ES2020",
    "useDefineForClassFields": true,
    "lib": ["ES2020", "DOM", "DOM.Iterable"],
    "module": "ESNext",
    "skipLibCheck": true,

    /* Bundler mode */
    "moduleResolution": "bundler",
    "allowImportingTsExtensions": true,
    "isolatedModules": true,
    "moduleDetection": "force",
    "noEmit": true,
    "jsx": "react-jsx",

    /* Linting */
    "strict": false,
    "noUnusedLocals": false,
    "noUnusedParameters": false,
    "noImplicitAny": false,
    "noFallthroughCasesInSwitch": false,

    "baseUrl": ".",
    "paths": {
      "@/*": ["./src/*"]
    }
  },
  "include": ["src"]
}
</file>

<file path="mockup/tsconfig.json">
{
  "files": [],
  "references": [
    { "path": "./tsconfig.app.json" },
    { "path": "./tsconfig.node.json" }
  ],
  "compilerOptions": {
    "baseUrl": ".",
    "paths": {
      "@/*": ["./src/*"]
    },
    "noImplicitAny": false,
    "noUnusedParameters": false,
    "skipLibCheck": true,
    "allowJs": true,
    "noUnusedLocals": false,
    "strictNullChecks": false
  }
}
</file>

<file path="mockup/tsconfig.node.json">
{
  "compilerOptions": {
    "target": "ES2022",
    "lib": ["ES2023"],
    "module": "ESNext",
    "skipLibCheck": true,

    /* Bundler mode */
    "moduleResolution": "bundler",
    "allowImportingTsExtensions": true,
    "isolatedModules": true,
    "moduleDetection": "force",
    "noEmit": true,

    /* Linting */
    "strict": true,
    "noUnusedLocals": false,
    "noUnusedParameters": false,
    "noFallthroughCasesInSwitch": true
  },
  "include": ["vite.config.ts"]
}
</file>

<file path="mockup/vite.config.ts">
import { defineConfig } from "vite";
import react from "@vitejs/plugin-react-swc";
import path from "path";
import { componentTagger } from "lovable-tagger";

// https://vitejs.dev/config/
export default defineConfig(({ mode }) => ({
  server: {
    host: "::",
    port: 8080,
  },
  plugins: [
    react(),
    mode === 'development' &&
    componentTagger(),
  ].filter(Boolean),
  resolve: {
    alias: {
      "@": path.resolve(__dirname, "./src"),
    },
  },
}));
</file>

<file path="BACKEND_RULES.md">
# Backend Development Rules & Guidelines (FastAPI + Poetry)

These rules ensure consistency, performance, and maintainability in the backend application (`apps/backend`).

## 1. Framework & Structure

- **Framework:** Utilize **FastAPI**.
- **Language:** Use **Python 3.10+**.
- **Structure:** Organize the application logically:
  - `app/`: Main application directory.
  - `app/main.py`: FastAPI application instance creation and middleware setup.
  - `app/api/`: API endpoint definitions.
    - `app/api/v1/`: Version 1 of the API.
    - `app/api/v1/endpoints/`: Individual endpoint files (e.g., `auth.py`, `greet.py`, `upload.py`) using `APIRouter`.
    - `app/api/v1/dependencies.py`: Reusable API dependencies.
  - `app/core/`: Core logic, configuration, settings.
    - `app/core/config.py`: Environment variable loading (using Pydantic Settings).
  - `app/models/` or `app/schemas/`: Pydantic models for request/response validation and data structures.
  - `app/services/`: Business logic layer (optional for simple endpoints, crucial for complex ones).
  - `app/db/`: Database connection and interaction logic (e.g., AstraDB client setup).
  - `tests/`: Pytest tests.
- **Entrypoint:** Use `uvicorn` for running the ASGI application (e.g., `poetry run uvicorn app.main:app --reload`).

## 2. Dependencies & Environment

- **Management:** Use **Poetry** to manage dependencies and the virtual environment via `pyproject.toml`.
- **Initialization:** Use `poetry init` to create `pyproject.toml` and `poetry add <package>` to add dependencies.
- **Locking:** Always commit the lock file (`poetry.lock`) to ensure reproducible builds.
- **Environment:** Poetry manages a virtual environment automatically. Activate it with `poetry shell` for interactive sessions or run commands directly via `poetry run <command>`.
- **Minimality:** Keep dependencies lean; only add what is necessary. Separate development dependencies (`poetry add --group dev <package>`).

## 3. Typing & Validation

- **Type Hints:** **Mandatory**. Use Python type hints for all function signatures, variables, and class attributes. Run `mypy` or similar type checkers in CI (`poetry run mypy .`).
- **Data Validation:** Use **Pydantic** models extensively for:
  - Request body validation.
  - Query parameter validation.
  - Response models (`response_model` in route decorators) for consistent output and auto-documentation.

## 4. API Design

- **RESTful Principles:** Adhere to REST conventions (proper HTTP methods, status codes, resource-based URLs).
- **Versioning:** Include API versioning in the URL path (e.g., `/api/v1/...`).
- **Naming:** Use `snake_case` for Python code (variables, functions, modules). Pydantic models can automatically handle conversion to `camelCase` for JSON payloads if needed via aliases.
- **Documentation:** Leverage FastAPI's automatic OpenAPI (`/docs`) and ReDoc (`/redoc`) documentation. Write clear Pydantic model descriptions and route summaries/descriptions.

## 5. Database Interaction (AstraDB)

- **Driver:** Use the official `cassandra-driver` (add via `poetry add cassandra-driver`).
- **Connection:** Manage the database session/client lifecycle appropriately. Use FastAPI's dependency injection (`Depends`) to provide sessions to API routes.
- **Abstraction:** Consider a thin abstraction layer or service functions for database operations rather than direct driver calls within endpoint functions.
- **Models:** Define Pydantic models that correspond to database table structures for clarity, even though Cassandra is schemaless.

## 6. Configuration & Environment Variables

- **Loading:** Use Pydantic's `BaseSettings` to load configuration from environment variables. Add `python-dotenv` (`poetry add python-dotenv`) if loading from `.env` files locally is desired.
- **Files:** Use `.env` for local development (add to `.gitignore`).
- **Schema:** Document all required environment variables in `.env.example`.
- **Secrets:** Never commit secrets directly into the codebase. Load from environment variables provided by the hosting platform (Railway).

## 7. Authentication & Authorization

- **Mechanism:** Secure endpoints using JWT validation middleware compatible with Auth0 (e.g., using `python-jose`). Add via `poetry add "python-jose[cryptography]"`.
- **Dependencies:** Use FastAPI's dependency injection system to handle token validation and retrieval of authenticated user information.
- **Scopes/Permissions:** Implement scope/permission checks if needed beyond simple authentication.

## 8. Error Handling

- **Custom Exceptions:** Define custom exception classes for specific application errors.
- **Exception Handlers:** Use FastAPI's `@app.exception_handler` to catch custom exceptions and standard HTTPExceptions, returning consistent JSON error responses.
- **Validation Errors:** Rely on FastAPI's default handling for Pydantic validation errors, which returns informative 422 responses.

## 9. Logging & Monitoring

- **Logging:** Use Python's standard `logging` module. Configure it for appropriate levels and formats.
- **Sentry:** Integrate the Sentry SDK (`poetry add "sentry-sdk[fastapi]"`) early for error reporting. Configure the DSN via environment variables.
- **Request Logging:** Consider middleware for logging basic request/response information if not adequately provided by the platform.

## 10. Testing

- **Framework:** Use `pytest` (`poetry add --group dev pytest`).
- **Client:** Use FastAPI's `TestClient` or `httpx` for testing API endpoints (`poetry add --group dev httpx`).
- **Execution:** Run tests via `poetry run pytest`.
- **Coverage:** Aim for good test coverage, especially for business logic (services) and critical API endpoints.
- **Database:** Mock database interactions or use a test database/keyspace where appropriate.
</file>

<file path="coverage.md">
# Missing Test Cases & Coverage Issues

This document lists missing or recommended test cases for the codebase, formatted as actionable GitHub issues. Each issue is specific to a function, module, or user flow, and is intended to guide developers toward comprehensive test coverage.

---

## :rotating_light: [Backend] FastAPI & Services

### 1. **Test: Health Check Endpoint**

**File:** `apps/backend/app/main.py`

- [x] **Should return 200 and correct message for `/` root endpoint.**

---

### 2. **Test: Greeting API**

**Files:** `apps/backend/app/api/v1/endpoints/greet.py`, `apps/backend/app/services/greeting.py`

- [x] **Should return a greeting message when DB returns a row.**
- [x] **Should return fallback message when DB returns no rows.**
- [x] **Should handle DB exceptions and return appropriate error/log.**
- [x] **Should require valid Auth0 JWT (unauthorized without or with invalid token).**

---

### 3. **Test: Upload API**

**Files:** `apps/backend/app/api/v1/endpoints/upload.py`, `apps/backend/app/services/storage.py`

- [x] **Should upload a valid file and return a public URL.**
- [x] **Should reject files with disallowed content types.**
- [x] **Should handle upload errors (e.g., storage unavailable, boto3 error).**
- [x] **Should require valid Auth0 JWT (unauthorized without or with invalid token).**
- [x] **Should handle missing/empty file in request.**
- [x] **Should reject files over a maximum size (if limit is set).**

---

### 4. **Test: Auth/JWT Validation**

**File:** `apps/backend/app/auth/jwt.py`

- [x] **Should validate a correct JWT and return payload.**
- [x] **Should reject expired JWT (ExpiredSignatureError).**
- [x] **Should reject JWT with invalid claims (JWTClaimsError).**
- [x] **Should reject JWT with bad signature or malformed token.**
- [x] **Should handle JWKS fetch failure gracefully.**

---

### 5. **Test: R2 Client Initialization**

**File:** `apps/backend/app/clients/r2.py`

- [x] **Should initialize R2 client with correct config.**
- [x] **Should raise HTTPException on bad/missing config.**
- [x] **Should return the same client instance (singleton pattern).**

---

### 6. **Test: AstraDB Connection**

**File:** `apps/backend/app/db/session.py`

- [x] **Should connect to AstraDB with valid config and log version.**
- [x] **Should raise FileNotFoundError if secure bundle is missing.**
- [x] **Should raise RuntimeError if connection fails.**
- [x] **Should close connection cleanly.**

---

## :sparkles: [Frontend] Next.js Dashboard & File Upload

### 7. **Test: Dashboard Page**

**File:** `apps/frontend/src/app/dashboard/page.tsx`

- [x] **Should fetch and display greeting from backend on load.**
- [x] **Should display error message if greeting fetch fails.**
- [x] **Should show loading indicator while fetching greeting.**
- [x] **Should render user info (name/email) when logged in.**

---

### 8. **Test: File Upload Section**

**File:** `apps/frontend/src/app/dashboard/page.tsx`

- [x] **Should allow user to select file and enable upload button.**
- [x] **Should POST file to backend and display returned URL.**
- [x] **Should display error if upload fails (e.g., network, backend error).**
- [x] **Should show uploading indicator while upload is in progress.**
- [x] **Should clear error and uploaded file state on new file selection.**
- [x] **Should reject upload if no file is selected.**
- [x] **Should handle backend validation errors (e.g., disallowed file type).**

---

## :triangular_flag_on_post: [General/Integration]

- [x] **Should require authentication for all protected endpoints and pages.**
- [ ] **Should handle and log unexpected errors gracefully (Sentry integration, if enabled).**
- [x] **Should pass all type/lint checks as part of CI.**

---

# :pushpin: How to Use

- Use this checklist to guide the creation of unit, integration, and end-to-end tests.
- Link each test case to the relevant file and function/component.
- Mark each as completed when implemented and passing.
</file>

<file path="FRONTEND_RULES.md">
# Frontend Development Rules & Guidelines (Next.js + Tailwind)

These rules ensure consistency and maintainability in the frontend application (`apps/frontend`).

## 1. Framework & Structure

- **Framework:** Utilize **Next.js 14+ App Router** for routing, rendering, and API routes (if frontend-specific).
- **Language:** Use **TypeScript** for all new code. Leverage strict mode and aim for strong type safety.
- **Directory Structure:**
  - Follow Next.js App Router conventions (`app/`, `layout.tsx`, `page.tsx`, `loading.tsx`, `error.tsx`).
  - Place reusable components under `components/`. Consider sub-directories for organization (e.g., `components/ui/`, `components/auth/`).
  - Place utility functions under `lib/` or `utils/`.
  - Store static assets in the `public/` directory.

## 2. Styling

- **Primary Styling:** Use **Tailwind CSS (v4)** utility classes exclusively for styling.
- **Avoid Custom CSS:** Minimize or eliminate the use of global CSS files or CSS Modules unless absolutely necessary for complex scenarios not easily handled by Tailwind.
- **Configuration:** Configure Tailwind theme extensions (`colors`, `fontFamily`, etc.) in `tailwind.config.js`.
- **Component Logic:** Keep component logic focused on structure, state, and props. Styling should primarily be done via `className`.

## 3. Components

- **Reusability:** Design components to be reusable and composable.
- **Props:** Define component props clearly using TypeScript interfaces or types.
- **Client vs. Server:** Be mindful of React Server Components (RSC) vs. Client Components (`'use client'`). Use Client Components only when necessary (hooks, event listeners, browser APIs).

## 4. State Management

- **Local State:** Use React hooks (`useState`, `useReducer`) for component-level state.
- **Global State:** For simple global state, use React Context. If state becomes complex across many components, consider a lightweight library like Zustand. Avoid Redux unless the complexity truly warrants it.
- **Server State:** Use React Query (`@tanstack/react-query`) or SWR for managing server state (fetching, caching, synchronizing data from the backend API).

## 5. API Interaction

- **Fetching:** Use the native `fetch` API or a wrapper library configured within the server state management tool (React Query/SWR).
- **Backend URL:** Use environment variables (`NEXT_PUBLIC_API_URL`) to configure the backend API base URL.
- **Error Handling:** Implement proper loading and error states for API calls within components.

## 6. Authentication

- **Library:** Use the official Auth0 React SDK (`@auth0/auth0-react`).
- **Implementation:** Follow SDK patterns for login/logout flow, accessing user profile, getting access tokens, and protecting routes/components.

## 7. Environment Variables

- **Exposure:** Prefix variables needed in the browser with `NEXT_PUBLIC_`.
- **Files:** Use `.env.local` for local overrides (add to `.gitignore`). Use `.env.development` and `.env.production` for environment-specific defaults if needed.
- **Schema:** Document all required environment variables in `.env.example`.

## 8. Linting & Formatting

- **Tools:** Use ESLint and Prettier, configured at the monorepo root.
- **Enforcement:** Run linting and formatting checks before committing code (ideally via pre-commit hooks) and in CI.

## 9. Testing

- **Priority:** While rapid prototyping may limit extensive testing, aim for basic component tests (using Jest/React Testing Library) for critical UI elements and utility function unit tests.
- **Integration:** Consider end-to-end tests (using Playwright or Cypress) for critical user flows (like authentication) once features stabilize.
</file>

<file path="INFRA_RULES.md">
# Infrastructure & DevOps Rules

These rules cover monorepo management, deployment, environment configuration, and cloud services.

## 1. Monorepo Management (Turborepo)

- **Structure:** Adhere to the `apps/*` and `packages/*` structure defined by Turborepo.
  - `apps/frontend`: Next.js application.
  - `apps/backend`: FastAPI application.
  - `packages/ui`: (Optional) Shared React components.
  - `packages/config`: Shared configurations (e.g., ESLint, TSConfig).
- **Task Runner:** Use `pnpm` workspaces and `turbo` for running tasks (`build`, `dev`, `lint`, `test`) across the monorepo. Define pipelines in `turbo.json`.
- **Commands:** Prefer running tasks via `turbo run <task> --filter=<app/package>` or root `pnpm <task>` scripts that utilize `turbo`.

## 2. Version Control (Git)

- **Branching:** Use a simple Gitflow-like model:
  - `main`: Production-ready code. Deploys to production.
  - `dev`: Development integration branch. Deploys to staging/development environment.
  - `feat/...`: Feature branches branched off `dev`.
- **Commits:** Write clear, concise commit messages. Consider Conventional Commits standard.
- **Pull Requests:** Use Pull Requests for merging features into `dev` and `dev` into `main`. Require reviews if working in a team.
- **`.gitignore`:** Maintain a comprehensive root `.gitignore` file covering common files (`.env`, `node_modules`, `__pycache__`, build artifacts, OS files).

## 3. Environment Variables & Secrets

- **Source of Truth:** `.env.example` files in each app/package define _required_ variables.
- **Local Development:** Use `.env` (backend) and `.env.local` (frontend), added to `.gitignore`.
- **Deployment:** Configure environment variables and secrets _exclusively_ through the hosting platform's UI or CLI (Railway, Vercel). **Never commit secrets.**
- **Naming:** Use consistent, descriptive names for variables (e.g., `DATABASE_URL`, `AUTH0_CLIENT_ID`, `R2_BUCKET_NAME`).

## 4. CI/CD

- **Trigger:** Automate deployments based on pushes/merges to `dev` and `main` branches using GitHub Actions or platform-native deploy hooks (Railway/Vercel).
- **Pipeline Steps:** CI pipeline should typically include:
  - Checkout code.
  - Setup Node.js/pnpm.
  - **Setup Python and Poetry.**
  - Install frontend dependencies (`pnpm install`).
  - **Install backend dependencies (`cd apps/backend && poetry install --no-root --sync`)**. Use `--no-dev` for production builds.
  - Run Linters (`turbo run lint`). Optionally run backend linting directly: `cd apps/backend && poetry run ruff check . && poetry run black --check .`
  - Run Tests (`turbo run test`). Optionally run backend tests directly: `cd apps/backend && poetry run pytest`
  - Build applications (`turbo run build --filter=frontend`). Backend build might involve type checking (`cd apps/backend && poetry run mypy .`) or is handled by Docker build later.
  - Deploy to the corresponding environment (via Railway/Vercel integrations, which will often build the Docker image for the backend).
- **Turborepo Caching:** Leverage Turborepo's remote caching (if configured) to speed up CI builds.
- **Backend Docker Build:** The Dockerfile for the backend (`apps/backend/Dockerfile`) should typically:
  - Start from a standard Python base image (e.g., `python:3.10-slim`).
  - Install Poetry.
  - Set the working directory (`WORKDIR /app`).
  - Copy `pyproject.toml` and `poetry.lock`.
  - Run `poetry install --no-dev --no-root --sync` to install production dependencies based on the lock file.
  - Copy the application code (`COPY ./app /app/app`).
  - Define the `CMD` or `ENTRYPOINT` to run `uvicorn`.

## 5. Hosting (Railway / Vercel)

- **Platform Choice:** Use Railway for the FastAPI backend (and potentially database). Use Vercel or Railway for the Next.js frontend.
- **Configuration:** Configure build commands and root directories correctly for the monorepo structure.
- **Environments:** Maintain separate `dev` and `prod` environments.

## 6. Database (AstraDB)

- **Provisioning:** Provision via the DataStax Astra portal.
- **Credentials:** Store connection tokens/bundles securely in hosting platform secrets.
- **Schema Management:** For Cassandra's flexible schema:
  - Document expected table structures and types clearly.
  - Use backend application startup checks or simple migration scripts (run manually, via `poetry run python scripts/migrate.py`, or in CI) to ensure required tables/keyspaces exist.

## 7. Object Storage (Cloudflare R2)

- **Provisioning:** Create buckets via the Cloudflare dashboard.
- **Credentials:** Store Access Key ID and Secret Access Key securely in hosting platform secrets.
- **CORS:** Configure CORS policies on the bucket to allow `GET` requests from your frontend domain(s).
- **Public Access:** Ensure bucket settings allow public read access if files are intended to be served directly.

## 8. DNS & SSL (Cloudflare)

- **Management:** Manage DNS records through Cloudflare.
- **Records:** Point necessary A/CNAME records to Railway/Vercel endpoints.
- **SSL:** Use Cloudflare's Universal SSL or configure custom certificates. Ensure SSL mode is "Full (Strict)" for end-to-end encryption.

## 9. Monitoring & Logging (Sentry / Platform Logs)

- **Error Tracking:** Ensure Sentry DSNs are configured correctly in all environments via environment variables.
- **Platform Logs:** Utilize logs provided by Railway/Vercel for request tracing and basic application output.
- **Alerting:** Configure Sentry alerts for new or critical issues, potentially integrating with Slack/Email.
</file>

<file path="nixpacks.toml">
providers = ["node"]

[phases.install]
cmds = ["npm install -g corepack", "corepack enable", "corepack prepare pnpm@10.9.0 --activate", "pnpm install"]
</file>

<file path="package.json">
{
  "name": "hello-world",
  "private": true,
  "version": "1.0.0",
  "description": "Rapid Prototyping Stack Monorepo",
  "scripts": {
    "dev": "turbo run dev --parallel --no-cache",
    "build": "turbo run build",
    "lint": "turbo run lint",
    "test": "turbo run test",
    "format": "turbo run format"
  },
  "devDependencies": {
    "eslint-config-prettier": "^10.1.2",
    "prettier": "^3.5.3",
    "turbo": "latest"
  },
  "packageManager": "pnpm@10.9.0"
}
</file>

<file path="pnpm-workspace.yaml">
packages:
  - "apps/*"
  - "packages/*"
</file>

<file path="railway.toml">
[build]
builder = "nixpacks"

[build.env]
PNPM_VERSION = "10.9.0"   # Corepack activates this

[deploy]
startCommand  = "pnpm --filter ./apps/frontend --workspace-root run start"
healthcheckPath = "/"
watchPaths = [
  "apps/frontend/**",
  "packages/ui/**"
]
</file>

<file path="review.md">
# Code Review: Hello World Monorepo (Backend & Frontend)

_Reviewer: Senior Developer_
_Date: 2025-04-24_

---

## Table of Contents

1. [Backend - FastAPI (Python)](#backend)
   - [main.py](#mainpy)
   - [services/greeting.py](#servicesgreetingpy)
   - [services/storage.py](#servicesstoragepy)
   - [auth/jwt.py](#authjwtpy)
   - [clients/r2.py](#clientsr2py)
   - [core/config.py](#coreconfigpy)
   - [db/session.py](#dbsessionpy)
2. [Frontend - Next.js (TypeScript/React)](#frontend)
   - [src/app/dashboard/page.tsx](#srcappdashboardpagetsx)
3. [General Observations & Recommendations](#general)

---

## Backend

### main.py

- **Lines 1-8:** Imports are clear and grouped logically. Use of async context manager for lifespan is modern and correct.
- **Lines 11-15:** `lifespan` connects/disconnects AstraDB. Consider making `connect_to_astra` async if DB driver supports it.
- **Lines 19-23:** FastAPI app is instantiated with a title and lifespan. Good use of FastAPI's features.
- **Lines 26-29:** Root endpoint provides a health check. Simple and effective.
- **Lines 32-41:** CORS middleware is configured. `allow_origins` is restricted to localhost for dev, which is secure. Remember to restrict in prod.
- **Lines 44-49:** API routers are included for greet and upload. Commented-out code for test router should be removed if not needed.

**Overall:**

- The file is clean, idiomatic, and follows FastAPI best practices.
- Consider adding OpenAPI tags for better API docs.

---

### services/greeting.py

- **Lines 1-7:** Imports are clear. Logging is set up at module level.
- **Lines 10-13:** Consistency level is set for Cassandra queries, which is good for distributed DBs.
- **Lines 16-46:** `get_greeting_message(session: Session) -> str`:
  - Fetches a greeting from Cassandra. Uses `SimpleStatement` and async execution.
  - Handles missing rows and DB errors gracefully, logs appropriately.
  - Returns a default message on error (line 44). Consider raising an HTTPException for API endpoints, but returning a default is acceptable for internal services.
- **Logging:** Used well throughout.

**Overall:**

- Good error handling and logging.
- Consider type annotations for all functions and variables.

---

### services/storage.py

- **Imports (1-10):** All necessary imports are present. `Any` is used for the boto3 client, which is pragmatic given mypy/typing limitations.
- **Function upload_file_to_r2 (13-63):**
  - Handles file upload to R2 via boto3 client.
  - Validates content type if provided (lines 31-37).
  - Generates a unique filename (lines 39-41).
  - Reads file content and uploads (lines 42-48).
  - Returns a public URL on success (line 50).
  - Handles BotoCoreError/ClientError and generic Exception, logs and raises HTTPException with appropriate status.
  - Uses `file.filename if file.filename is not None else ""` to avoid type errors (line 39).
- **Linting/Formatting:** Now compliant with Black and Ruff.

**Overall:**

- Robust error handling and logging.
- Consider limiting file size and validating file extensions for additional security.

---

### auth/jwt.py

- **Imports (1-10):** Correctly imports from jose and jose.exceptions.
- **Logging:** Configured at INFO level. Good for dev, consider raising to WARNING/ERROR in prod or making configurable.
- **JWKS Fetching (16-41):**
  - Uses httpx for async JWKS fetch. Caches result in a global variable. Robust error handling.
- **Token Validation (44-103):**
  - Decodes JWT, validates against JWKS, audience, and issuer.
  - Handles ExpiredSignatureError, JWTClaimsError, JOSEError, and generic Exception, raising HTTPException with correct status and message.
  - Uses direct exception import (not `jwt.ExpiredSignatureError`), which is correct.

**Overall:**

- Secure, clear, and robust. Good use of async and exception handling.
- Consider adding unit tests for token validation edge cases.

---

### clients/r2.py

- **Lines 1-11:** Imports and logger setup are clear.
- **get_r2_client (13-36):**
  - Singleton pattern for boto3 client is effective for resource reuse.
  - Handles configuration and client creation errors robustly.
- **r2_client_dependency (39-41):**
  - Returns the client for FastAPI dependency injection.

**Overall:**

- Clean, idiomatic, and robust.
- Consider thread-safety if running with multiple workers.

---

### core/config.py

- **Lines 1-35:** Uses Pydantic's BaseSettings for config. All sensitive/config variables are loaded from .env, which is best practice.
- **Settings class:** All necessary fields are present. `model_config` is set to ignore extra keys, which is robust.

**Overall:**

- Secure and idiomatic configuration management.

---

### db/session.py

- **Lines 1-12:** Imports and logger setup are clear.
- **Globals:** Uses module-level globals for cluster/session. Acceptable for small apps, but consider DI/context managers for larger codebases.
- **connect_to_astra (15-49):**
  - Checks for secure connect bundle, logs errors, and raises FileNotFoundError if missing.
  - Initializes Cassandra cluster and session, logs version on success.
  - Handles exceptions robustly.
- **close_astra_connection (52-60):**
  - Shuts down cluster and session, logs appropriately.
- **get_db_session (62-70):**
  - Dependency function for FastAPI.

**Overall:**

- Robust error handling and connection management.
- Consider using async DB drivers if available.

---

## Frontend

### src/app/dashboard/page.tsx

- **Lines 1-68:**
  - Uses React hooks (`useState`, `useEffect`) for state and side-effects.
  - Fetches greeting from backend with Auth0 token. Handles loading and error states cleanly.
  - Displays user info and greeting with proper conditional rendering.
  - Uses Tailwind CSS utility classes for styling (compliant with project rules).
- **Lines 69-154:**
  - `FileUploadSection` component handles file selection and upload.
  - Uses `fetch` with FormData to POST file to backend, includes Auth0 token for auth.
  - Handles upload progress, errors, and displays uploaded file URL.
  - All error and loading states are handled and displayed to the user.
  - Uses strict TypeScript types for state and props.

**Overall:**

- Clean, idiomatic, and robust React/TypeScript code.
- All error states are handled, and the UI is clear and accessible.
- No direct DOM manipulation; all state is managed via React.
- Consider adding tests for file upload and greeting fetch logic.

---

## General Observations & Recommendations

- **Type Safety:** Excellent use of type hints (Python) and TypeScript (frontend).
- **Error Handling:** Robust and consistent throughout both backend and frontend.
- **Security:** Sensitive config is loaded from environment. Auth0 tokens are used for all API calls. CORS is restricted for dev.
- **Code Style:** Codebase is fully linted and formatted (Black, Ruff, ESLint, Prettier). Imports are clean and well-ordered.
- **Structure:** Monorepo structure is clear. Backend and frontend are cleanly separated. Dependency management is robust (Poetry, pnpm).
- **Testing:** No tests found. Recommend adding unit and integration tests for both backend (pytest) and frontend (Jest/React Testing Library).
- **Documentation:** Docstrings and comments are present and helpful. Consider adding more detailed README sections for setup and contribution.
- **CI/CD:** Not reviewed here, but ensure test/lint/typecheck steps are required in CI.

---

## Summary

This codebase demonstrates strong adherence to modern Python/TypeScript, FastAPI, and Next.js best practices. Error handling, security, and code style are all robust. The main area for improvement is automated testing coverage. Otherwise, this is a clean, production-grade foundation for further development.
</file>

<file path="Taskfile.yml">
# Taskfile.yml - Automation for the Rapid Prototyping System (Using Poetry for Backend)
# Usage: task <task-name>
# Install: https://taskfile.dev/installation/

version: "3"

vars:
  # Define filters for Turborepo commands
  FILTER_FRONTEND: "--filter=frontend"
  FILTER_BACKEND: "--filter=backend"
  FILTER_ALL_APPS: "--filter=frontend --filter=backend..." # Include any future apps
  FILTER_ALL: "" # Target all packages and apps

tasks:
  default:
    desc: "List available tasks"
    cmds:
      - task --list-all

  install:
    desc: "Install all JS dependencies and backend Python dependencies"
    # Changed: Now runs pnpm install AND poetry install
    cmds:
      - echo "Installing frontend/monorepo JS dependencies..."
      - pnpm install
      - echo "Installing backend Python dependencies..."
      - task: install:backend
    # Method to check if installation is needed (basic check for root node_modules AND backend venv)
    # Status check might need refinement based on how poetry manages venvs (e.g., checking for .venv dir)
    # status:
    #   - test -d node_modules
    #   - test -d apps/backend/.venv # Or path if poetry config changes venv location

  install:backend:
    desc: "Install backend Python dependencies using Poetry"
    dir: apps/backend
    cmds:
      - poetry install --sync

  # --- Development ---
  dev:
    desc: "Run frontend and backend development servers concurrently"
    cmds:
      - pnpm turbo run dev {{.FILTER_ALL_APPS}} --parallel --no-cache

  dev:frontend:
    desc: "Run frontend (Next.js) development server"
    dir: apps/frontend
    cmds:
      - pnpm dev

  dev:backend:
    desc: "Run backend (FastAPI) development server using uvicorn (Poetry)"
    dir: apps/backend
    deps: [install:backend] # Ensure dependencies are installed
    cmds:
      # poetry run executes the command within the project's virtual environment
      - "poetry run uvicorn app.main:app --reload --host 0.0.0.0 --port 8000" # Adjust port if needed

  # --- Linting & Formatting ---
  lint:
    desc: "Lint all code in the monorepo using Turborepo"
    cmds:
      - pnpm turbo run lint {{.FILTER_ALL}}
      - task: lint:frontend
      - task: lint:backend

  lint:frontend:
    desc: "Lint frontend code using ESLint"
    dir: apps/frontend
    cmds:
      - pnpm lint

  lint:backend:
    desc: "Lint backend code using Ruff and Black (Poetry)"
    dir: apps/backend
    deps: [install:backend]
    cmds:
      - poetry run ruff check .
      - poetry run black --check .

  format:
    desc: "Format all code in the monorepo (using prettier, black)"
    cmds:
      - pnpm prettier --write .
      - task: format:backend

  format:backend:
    desc: "Format backend Python code using Black (Poetry)"
    dir: apps/backend
    deps: [install:backend]
    cmds:
      - poetry run black .

  # --- Type Checking ---
  typecheck:
    desc: "Type check all code (TypeScript, Python)"
    cmds:
      - pnpm --filter frontend run typecheck
      - task: typecheck:backend

  typecheck:frontend:
    desc: "Type check frontend code with TypeScript"
    dir: apps/frontend
    cmds:
      - pnpm tsc --noEmit

  typecheck:backend:
    desc: "Type check backend Python code with mypy (Poetry)"
    dir: apps/backend
    deps: [install:backend]
    cmds:
      - poetry run mypy .

  # --- Building ---
  build:
    desc: "Build all apps for production using Turborepo"
    deps: [install]
    cmds:
      - pnpm turbo run build {{.FILTER_ALL}}
      - task: build:backend

  build:frontend:
    desc: "Build frontend app for production"
    deps: [install] # Root install should cover frontend deps
    cmds:
      - pnpm turbo run build {{.FILTER_FRONTEND}}

  build:backend:
    desc: "Build backend (placeholder - type check, test as pre-deploy checks)"
    dir: apps/backend
    deps: [install:backend]
    cmds:
      - echo "No explicit build step for backend (deployment uses Dockerfile)."
      - echo "Running pre-checks (lint, typecheck)..."
      - task: lint:backend
      - task: typecheck:backend

      - poetry run mypy .

  # --- Testing ---
  test:backend:
    # Task now uses the 'test' script from pyproject.toml
    desc: "Run all backend tests via Poetry script"
    dir: apps/backend
    deps: [install:backend]
    cmds:
      - poetry run pytest -v tests/

  test:backend:unit:
    desc: "Run backend unit tests only via Poetry script"
    dir: apps/backend
    deps: [install:backend]
    cmds:
      - poetry run pytest -v tests/unit/

  test:backend:integration:
    desc: "Run backend integration tests only via Poetry script"
    dir: apps/backend
    deps: [install:backend]
    cmds:
      - poetry run pytest -v tests/integration/

  test:frontend:
    # Task now uses the 'test' script from package.json
    desc: "Run frontend unit/integration tests (Jest) via pnpm script"
    dir: apps/frontend
    # Depends on root install which handles frontend deps
    deps: [install]
    cmds:
      - pnpm test

  test:frontend:e2e:
    # Task now uses the 'test:e2e' script from package.json
    desc: "Run frontend E2E tests (Playwright) via pnpm script"
    dir: apps/frontend
    # Depends on root install
    deps: [install]
    cmds:
      - pnpm test:e2e

  # Main test task - runs backend tests and frontend unit/integration tests
  test:
    desc: "Run backend tests and frontend unit/integration tests"
    deps: [install] # Ensure everything is installed
    cmds:
      - echo "Running backend tests..."
      - task: test:backend
      - echo "Running frontend unit/integration tests..."
      - task: test:frontend

  # --- Database ---
  db:seed:
    desc: "Run database seeding script (IMPLEMENT SCRIPT FIRST) (Poetry)"
    dir: apps/backend # Or wherever your seed script lives
    deps: [install:backend]
    cmds:
      # Example: assumes you have a seed.py script in ./scripts
      - echo "Running DB seed script..."
      - poetry run python scripts/seed_db.py # Adjust path as needed
    preconditions:
      - sh: "[ -f scripts/seed_db.py ]" # Check if seed script exists
        msg: "Database seed script not found at scripts/seed_db.py"

  # --- Cleaning ---
  clean:
    desc: "Remove node_modules, build artifacts, and caches"
    cmds:
      - pnpm --recursive exec -- rm -rf node_modules
      - rm -rf node_modules
      - pnpm turbo run clean # Relies on 'clean' scripts in package.json (e.g., rm -rf .next dist build)
      - find . -name '__pycache__' -type d -exec rm -r {} +
      - find . -name '.pytest_cache' -type d -exec rm -r {} +
      - find . -name '.mypy_cache' -type d -exec rm -r {} +
      - rm -rf .turbo
      # Remove Poetry virtual environment if it's created within the project dir
      - if [ -d "apps/backend/.venv" ]; then rm -rf apps/backend/.venv; fi
</file>

<file path="test-setup Prompts.md">
Okay, let's generate the prompts to set up the testing frameworks for both the frontend and backend, building upon your current project structure and assuming the previous build steps are complete. These prompts focus solely on installing dependencies, creating configuration files, and setting up the necessary directory structures.

---

### Phase T1: Backend Test Setup (Pytest)

**Prompt T1.1: Install Backend Test Dependencies (Explicit)**

```text
Navigate to the `apps/backend` directory in your terminal. Run the following command to add the necessary testing libraries as development dependencies using Poetry:

`poetry add --group dev pytest pytest-asyncio httpx`

This installs:
- `pytest`: The testing framework.
- `pytest-asyncio`: Required for testing async code in FastAPI.
- `httpx`: Used by FastAPI's TestClient and useful for direct HTTP testing if needed.
Wait for the installation to complete and the `poetry.lock` file to be updated.
```

**Prompt T1.2: Create Backend Test Directory Structure (Explicit)**

```text
Perform the following steps inside the `apps/backend` directory:
1.  Create the main test directory: `mkdir tests`
2.  Create subdirectories for unit and integration tests: `mkdir tests/unit tests/integration`
3.  Create empty Python package initializer files in each new test directory to ensure they are recognized as packages:
    *   `touch tests/__init__.py`
    *   `touch tests/unit/__init__.py`
    *   `touch tests/integration/__init__.py`
Verify that the `apps/backend/tests/` directory now exists with `unit/` and `integration/` subdirectories, each containing an `__init__.py` file.
```

**Prompt T1.3: Create Backend `conftest.py` with TestClient Fixture (Explicit)**

````text
1.  Create a file named `conftest.py` inside the `apps/backend/tests/` directory. This file is used by `pytest` to share fixtures across tests.
2.  Add the following code to `apps/backend/tests/conftest.py`. This sets up a reusable FastAPI `TestClient`.
    ```python
    import pytest
    import pytest_asyncio # Import the asyncio plugin decorator
    from fastapi.testclient import TestClient
    from httpx import AsyncClient # Import AsyncClient for async testing
    import sys
    import os

    # Add the 'app' directory to the Python path so modules can be imported
    sys.path.insert(0, os.path.abspath(os.path.join(os.path.dirname(__file__), '..')))

    # Import the FastAPI app instance from your main application file
    # Ensure this import path matches your project structure
    from app.main import app as fastapi_app # Rename to avoid conflict

    # Note: Database/External Service setup/mocking fixtures would also go here later

    @pytest.fixture(scope="session") # Use session scope for app instance
    def test_app_instance():
        """Yields the FastAPI app instance for testing setup."""
        # Any setup specific to the app instance before yielding can go here
        yield fastapi_app
        # Any teardown after tests run can go here

    @pytest_asyncio.fixture(scope="function") # Use function scope for client - ensures isolation
    async def test_client(test_app_instance):
        """
        Creates an async TestClient instance for making requests to the app.
        Uses function scope for test isolation.
        """
        # Base URL is important for async client
        # Use 'http://testserver' as it's commonly used by TestClient/httpx for testing
        async with AsyncClient(app=test_app_instance, base_url="http://testserver") as client:
            yield client

    # Example of a synchronous client fixture if needed (less common for async FastAPI)
    # @pytest.fixture(scope="function")
    # def sync_test_client(test_app_instance):
    #     """Creates a synchronous TestClient instance."""
    #     with TestClient(test_app_instance) as client:
    #         yield client

    ```
3.  Save the `apps/backend/tests/conftest.py` file. This fixture named `test_client` can now be used as an argument in your async test functions to make requests to your API.
Refer to BACKEND_RULES.md regarding testing setup.
````

**Prompt T1.4: Configure `pytest` (Explicit)**

````text
1.  Create a file named `pytest.ini` in the `apps/backend` directory. This file configures `pytest` behavior.
2.  Add the following basic configuration to `apps/backend/pytest.ini`:
    ```ini
    [pytest]
    # Automatically use asyncio mode for all async tests
    asyncio_mode = auto

    # Specify the directory where tests are located
    testpaths = tests

    # Add environment variables for testing if needed (can also use .env.test)
    # Example:
    # env =
    #     D:PYTHONPATH=.
    #     D:MY_TEST_VAR=value_for_tests

    # Optional: Define custom markers for tests
    # markers =
    #     slow: marks tests as slow (deselect with '-m "not slow"')
    #     integration: marks integration tests
    #     unit: marks unit tests
    ```
3.  Alternatively, you can add this configuration to `apps/backend/pyproject.toml` instead of creating `pytest.ini`. If you prefer `pyproject.toml`, add this section:
    ```toml
    [tool.pytest.ini_options]
    asyncio_mode = "auto"
    testpaths = ["tests"]
    # Example env vars within pyproject.toml
    # env = [
    #     "PYTHONPATH=.",
    #     "MY_TEST_VAR=value_for_tests",
    # ]
    # Example markers
    # markers = [
    #     "slow: marks tests as slow",
    #     "integration: marks integration tests",
    #     "unit: marks unit tests",
    # ]
    ```
    Choose **one** method (either `pytest.ini` or `pyproject.toml`) for configuration. Using `pyproject.toml` keeps configuration centralized. Let's proceed assuming you added it to `pyproject.toml`.
4.  Save the chosen configuration file (`pytest.ini` or `pyproject.toml`).
Refer to BACKEND_RULES.md.
````

---

### Phase T2: Frontend Unit/Integration Test Setup (Jest & RTL)

**Prompt T2.1: Install Frontend Test Dependencies (Explicit)**

```text
Navigate to the `apps/frontend` directory in your terminal. Run the following command to install Jest, React Testing Library, and necessary related packages as development dependencies:

`pnpm add -D jest jest-environment-jsdom @types/jest @testing-library/react @testing-library/jest-dom ts-node`

This installs:
- `jest`: The test runner.
- `jest-environment-jsdom`: Provides a browser-like environment for tests.
- `@types/jest`: TypeScript types for Jest.
- `@testing-library/react`: Core library for testing React components.
- `@testing-library/jest-dom`: Adds custom Jest matchers for asserting on DOM nodes.
- `ts-node`: Allows Jest to run TypeScript configuration files directly.
Wait for the installation to complete.
```

**Prompt T2.2: Create Frontend Jest Configuration (Explicit)**

````text
1.  Create a file named `jest.config.js` in the `apps/frontend` directory.
2.  Add the following configuration to `apps/frontend/jest.config.js`. This uses the Next.js preset for Jest compatibility:
    ```javascript
    const nextJest = require('next/jest')

    // Provide the path to your Next.js app to load next.config.js and .env files
    const createJestConfig = nextJest({ dir: './' })

    // Add any custom config to be passed to Jest
    /** @type {import('jest').Config} */
    const customJestConfig = {
      // Add more setup options before each test is run
      setupFilesAfterEnv: ['<rootDir>/jest.setup.ts'],

      // Use jsdom as the test environment
      testEnvironment: 'jest-environment-jsdom',

      // Module name mapper for handling module aliases (e.g., @/*)
      moduleNameMapper: {
        '^@/(.*)$': '<rootDir>/src/$1',
      },

      // Ignore node_modules, except for specific ones if needed (usually not required with Next.js preset)
      // transformIgnorePatterns: [
      //   '/node_modules/',
      //   '^.+\\.module\\.(css|sass|scss)$',
      // ],

      // Preset for TypeScript Jest execution
      preset: 'ts-jest',
    }

    // createJestConfig is exported this way to ensure that next/jest can load the Next.js config which is async
    module.exports = createJestConfig(customJestConfig)
    ```
3.  Save the `apps/frontend/jest.config.js` file.
Refer to FRONTEND_RULES.md regarding testing setup.
````

**Prompt T2.3: Create Frontend Test Setup File (Explicit)**

````text
1.  Create a file named `jest.setup.ts` in the `apps/frontend` directory (at the same level as `jest.config.js`). This file path must match the `setupFilesAfterEnv` path in `jest.config.js`.
2.  Add the following code to `apps/frontend/jest.setup.ts`. This imports the Jest DOM matchers.
    ```typescript
    // Optional: configure or set up a testing framework before each test
    // Used for __tests__/testing-library.js
    // Learn more: https://github.com/testing-library/jest-dom
    import '@testing-library/jest-dom'; // Imports Jest-DOM custom matchers

    // --- Optional Global Mocks ---
    // Example: Mock Next.js Router (if not handled adequately by next/jest preset)
    // jest.mock('next/navigation', () => ({
    //   useRouter: () => ({
    //     push: jest.fn(),
    //     replace: jest.fn(),
    //     prefetch: jest.fn(),
    //     back: jest.fn(),
    //     pathname: '/',
    //     query: {},
    //     asPath: '/',
    //   }),
    //   useSearchParams: () => ({
    //      get: jest.fn(),
    //   }),
    //   usePathname: () => '/',
    // }));

    // Example: Mock environment variables needed in tests
    // process.env.NEXT_PUBLIC_API_URL = 'http://mock-api.test';

    // Example: Mock fetch API globally if needed
    // global.fetch = jest.fn(() =>
    //   Promise.resolve({
    //     json: () => Promise.resolve({ mockData: true }),
    //     ok: true,
    //   }),
    // ) as jest.Mock;

    // Clean up after each test (optional, Testing Library often handles this)
    // import { cleanup } from '@testing-library/react';
    // afterEach(() => {
    //   cleanup();
    // });

    ```
3.  Save the `apps/frontend/jest.setup.ts` file. You can add global mocks needed for your tests here later.
Refer to FRONTEND_RULES.md.
````

---

### Phase T3: Frontend E2E Test Setup (Playwright)

**Prompt T3.1: Install Frontend E2E Dependencies (Explicit)**

```text
Navigate to the `apps/frontend` directory in your terminal. Run the following command to install Playwright as a development dependency:

`pnpm add -D @playwright/test`

Wait for the installation to complete.
```

**Prompt T3.2: Initialize Playwright Browsers (Explicit)**

```text
Navigate to the `apps/frontend` directory in your terminal (if not already there). Run the following command to download the browser binaries needed by Playwright:

`pnpm exec playwright install`

This command might take a few minutes as it downloads Chromium, Firefox, and WebKit. You can optionally add arguments like `--with-deps` if prompted for missing OS dependencies, or specify browsers (`pnpm exec playwright install chromium`).
```

**Prompt T3.3: Create Basic Playwright Configuration (Explicit)**

````text
1.  Create a file named `playwright.config.ts` in the `apps/frontend` directory.
2.  Add the following basic configuration to `apps/frontend/playwright.config.ts`:
    ```typescript
    import { defineConfig, devices } from '@playwright/test';
    import path from 'path';
    import dotenv from 'dotenv';

    // Read from default ".env" file.
    dotenv.config({ path: path.resolve(__dirname, '.', '.env.local') }); // Load .env.local for base URL

    // Use process.env.PORT or default to 3000
    const PORT = process.env.PORT || 3000;
    // Set base URL for tests
    const baseURL = process.env.PLAYWRIGHT_BASE_URL || `http://localhost:${PORT}`;

    /**
     * See https://playwright.dev/docs/test-configuration.
     */
    export default defineConfig({
      testDir: './e2e', // Directory where E2E tests will live
      /* Run tests in files in parallel */
      fullyParallel: true,
      /* Fail the build on CI if you accidentally left test.only in the source code. */
      forbidOnly: !!process.env.CI,
      /* Retry on CI only */
      retries: process.env.CI ? 2 : 0,
      /* Opt out of parallel tests on CI. */
      workers: process.env.CI ? 1 : undefined,
      /* Reporter to use. See https://playwright.dev/docs/test-reporters */
      reporter: 'html', // Generates an HTML report
      /* Shared settings for all the projects below. See https://playwright.dev/docs/api/class-testoptions. */
      use: {
        /* Base URL to use in actions like `await page.goto('/')`. */
        baseURL: baseURL,

        /* Collect trace when retrying the failed test. See https://playwright.dev/docs/trace-viewer */
        trace: 'on-first-retry',
      },

      /* Configure projects for major browsers */
      projects: [
        {
          name: 'chromium',
          use: { ...devices['Desktop Chrome'] },
        },

        // {
        //   name: 'firefox',
        //   use: { ...devices['Desktop Firefox'] },
        // },

        // {
        //   name: 'webkit',
        //   use: { ...devices['Desktop Safari'] },
        // },
      ],

      /* Optional: Run your local dev server before starting the tests */
      // webServer: {
      //   // Command to start the dev server (adjust if needed)
      //   command: 'pnpm run dev', // Assumes dev starts the Next.js server
      //   url: baseURL, // URL to poll to ensure server is ready
      //   reuseExistingServer: !process.env.CI, // Reuse server locally, start new one in CI
      //   stdout: 'pipe',
      //   stderr: 'pipe',
      // },
    });
    ```
3.  Save the `apps/frontend/playwright.config.ts` file. This sets up Playwright to look for tests in the `e2e` directory and run against `http://localhost:3000` by default. You might need to install `dotenv` (`pnpm add -D dotenv`) if it's not already present.
````

**Prompt T3.4: Create Frontend E2E Directory and Placeholder (Explicit)**

````text
1.  Inside the `apps/frontend` directory, create the directory where Playwright tests will reside: `mkdir e2e`
2.  Inside `apps/frontend/e2e/`, create a placeholder test file named `example.spec.ts` to ensure the structure is recognized:
    ```typescript
    import { test, expect } from '@playwright/test';

    test('homepage has expected title', async ({ page }) => {
      // Navigate to the base URL defined in playwright.config.ts
      await page.goto('/');

      // Expect the page title to contain "Stack Test App" (adjust if your title is different)
      await expect(page).toHaveTitle(/Stack Test App/);

      // Example: Expect the main heading to be visible
      await expect(page.locator('h1').first()).toBeVisible();
    });

    ```
3.  Save the `apps/frontend/e2e/example.spec.ts` file.
````

---

### Phase T4: Integrate Testing into Workflow (Scripts & Tasks)

**Prompt T4.1: Add Test Scripts (package.json/pyproject.toml) (Explicit)**

````text
1.  **Backend (`apps/backend/pyproject.toml`):**
    *   Add or update the `[tool.poetry.scripts]` section to include scripts for running tests:
        ```toml
        [tool.poetry.scripts]
        dev = "uvicorn app.main:app --reload --host 0.0.0.0 --port 8000"
        # Add these test scripts:
        test = "pytest -v tests/"
        test:unit = "pytest -v tests/unit/"
        test:integration = "pytest -v tests/integration/"
        ```
2.  **Frontend (`apps/frontend/package.json`):**
    *   Add or update the `"scripts"` section to include scripts for running Jest and Playwright tests:
        ```json
        {
          "name": "frontend",
          // ... (other package.json content)
          "scripts": {
            "dev": "next dev",
            "build": "next build",
            "start": "next start",
            "lint": "next lint",
            "typecheck": "tsc --noEmit", // Add typecheck script if missing
            "format": "prettier --write . --ignore-path ../../.gitignore", // Example format script
            "clean": "rm -rf .next", // Example clean script
            // Add these test scripts:
            "test": "jest", // Runs Jest tests
            "test:watch": "jest --watch", // Runs Jest in watch mode
            "test:e2e": "playwright test" // Runs Playwright tests
          },
          // ... (dependencies, devDependencies)
        }
        ```
3.  Save both `apps/backend/pyproject.toml` and `apps/frontend/package.json`.
````

**Prompt T4.2: Update Taskfile Test Tasks (Explicit)**

````text
Modify the root `Taskfile.yml`. Update the testing tasks section to use the scripts defined in the previous step (or direct commands if preferred) and add variations. Ensure the `test` task runs the primary unit/integration tests.

```yaml
# Taskfile.yml (UPDATE the testing tasks section)

# ... (Keep vars, install, dev, lint, format, typecheck, build tasks) ...

  # --- Testing ---
  test:backend:
    # Task now uses the 'test' script from pyproject.toml
    desc: 'Run all backend tests via Poetry script'
    dir: apps/backend
    deps: [install:backend]
    cmds:
      - poetry run test # Runs script defined in pyproject.toml

  test:backend:unit:
    desc: 'Run backend unit tests only via Poetry script'
    dir: apps/backend
    deps: [install:backend]
    cmds:
      - poetry run test:unit # Runs script defined in pyproject.toml

  test:backend:integration:
    desc: 'Run backend integration tests only via Poetry script'
    dir: apps/backend
    deps: [install:backend]
    cmds:
      - poetry run test:integration # Runs script defined in pyproject.toml

  test:frontend:
    # Task now uses the 'test' script from package.json
    desc: 'Run frontend unit/integration tests (Jest) via pnpm script'
    dir: apps/frontend
    deps: ['install'] # Depends on root install which handles frontend deps
    cmds:
      - pnpm test # Runs script defined in package.json

  test:frontend:e2e:
    # Task now uses the 'test:e2e' script from package.json
    desc: 'Run frontend E2E tests (Playwright) via pnpm script'
    dir: apps/frontend
    deps: ['install'] # Depends on root install
    cmds:
      - echo "INFO: Ensure necessary servers (frontend/backend) are running for E2E tests."
      - pnpm test:e2e # Runs script defined in package.json

  # Main test task - runs backend tests and frontend unit/integration tests
  test:
    desc: 'Run backend tests and frontend unit/integration tests'
    deps: [install] # Ensure everything is installed
    cmds:
      - echo "Running backend tests..."
      - task: test:backend
      - echo "Running frontend unit/integration tests..."
      - task: test:frontend

# ... (Keep db:seed, clean tasks) ...
````

Save the updated `Taskfile.yml`.

````

**Prompt T4.3: Update `turbo.json` for Testing (Explicit)**
```text
Modify the root `turbo.json` file. Add or update the `test` task within the `pipeline` definition. Ensure it depends on the build output (`^build`) if your tests require the built artifacts (less common for unit tests, might be needed for some integration/E2E setups). Define basic outputs for caching if desired, though test caching can sometimes be tricky.

```json
{
  "$schema": "https://turborepo.org/schema.json",
  "pipeline": {
    "build": {
      // Cache build outputs
      "outputs": [
         "apps/frontend/.next/**",
         "!.next/cache/**",
         "apps/backend/dist/**" // Example if backend had a build output
       ],
      // Build depends on install/setup, not other builds
      "dependsOn": ["^build"]
    },
    "dev": {
      // Development servers don't typically cache
      "cache": false,
      "persistent": true
    },
    "lint": {
      // Linting doesn't usually produce cacheable artifacts beyond logs
      "outputs": [] // Or specify lint report files if generated
    },
    "typecheck": {
       // Type checking outputs might include build info files
       "outputs": ["apps/frontend/tsconfig.tsbuildinfo"]
    },
    "test": {
       // Tests depend on the built code (potentially) and install
       "dependsOn": ["^build", "install"],
       // Define outputs if tests generate reports/coverage files
       "outputs": [
         "apps/frontend/coverage/**",
         "apps/backend/coverage.xml", // Example coverage outputs
         "apps/backend/.pytest_cache/**"
       ]
    },
    "clean": {
      "cache": false
    }
    // Add other tasks like format, db:seed etc. if needed, likely with cache: false
  }
}```
Save the updated `turbo.json`. This configures Turborepo to understand your `test` scripts defined in the respective `package.json` and `pyproject.toml` files.
````

---

This completes the setup for the testing frameworks. You should now be able to run `task test` to execute the basic test suites (which will initially contain only placeholder/example tests or fail if no tests are found) and use the specific tasks (`task test:backend:unit`, `task test:frontend:e2e`, etc.) to run targeted tests. The next step would be to actually write the unit, integration, and E2E tests.
</file>

<file path="turbo.json">
{
  "$schema": "https://turborepo.org/schema.json",
  "tasks": {
    "build": {
      "outputs": [
        "apps/frontend/.next/**",
        "!.next/cache/**",
        "apps/backend/dist/**"
      ],
      "dependsOn": ["^build"]
    },
    "dev": {
      "cache": false,
      "persistent": true
    },
    "lint": {
      "outputs": []
    },
    "typecheck": {
      "outputs": ["apps/frontend/tsconfig.tsbuildinfo"]
    },
    "test": {
      "dependsOn": ["^build", "install"],
      "outputs": [
        "apps/frontend/coverage/**",
        "apps/backend/coverage.xml",
        "apps/backend/.pytest_cache/**"
      ]
    },
    "clean": {
      "cache": false
    },
    "format": {
      "cache": false
    }
  }
}
</file>

</files>
